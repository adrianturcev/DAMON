(()=>{var Qe=Object.defineProperty;var an=Object.getOwnPropertyDescriptor;var fn=Object.getOwnPropertyNames;var cn=Object.prototype.hasOwnProperty;var un=(f=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(f,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):f)(function(f){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+f+'" is not supported')});var pn=(f,r)=>()=>(f&&(r=f(f=0)),r);var Ae=(f,r)=>()=>(r||f((r={exports:{}}).exports,r),r.exports),hn=(f,r)=>{for(var o in r)Qe(f,o,{get:r[o],enumerable:!0})},dn=(f,r,o,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of fn(r))!cn.call(f,t)&&t!==o&&Qe(f,t,{get:()=>r[t],enumerable:!(e=an(r,t))||e.enumerable});return f};var mn=f=>dn(Qe({},"__esModule",{value:!0}),f);var gr={};hn(gr,{__addDisposableResource:()=>hr,__assign:()=>ve,__asyncDelegator:()=>lr,__asyncGenerator:()=>ir,__asyncValues:()=>or,__await:()=>pe,__awaiter:()=>Qt,__classPrivateFieldGet:()=>cr,__classPrivateFieldIn:()=>pr,__classPrivateFieldSet:()=>ur,__createBinding:()=>Pe,__decorate:()=>Wt,__disposeResources:()=>dr,__esDecorate:()=>qt,__exportStar:()=>er,__extends:()=>Gt,__generator:()=>jt,__importDefault:()=>fr,__importStar:()=>ar,__makeTemplateObject:()=>sr,__metadata:()=>Zt,__param:()=>Yt,__propKey:()=>Xt,__read:()=>tt,__rest:()=>zt,__rewriteRelativeImportExtension:()=>mr,__runInitializers:()=>Vt,__setFunctionName:()=>Kt,__spread:()=>tr,__spreadArray:()=>nr,__spreadArrays:()=>rr,__values:()=>ke,default:()=>En});function Gt(f,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");je(f,r);function o(){this.constructor=f}f.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}function zt(f,r){var o={};for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&r.indexOf(e)<0&&(o[e]=f[e]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(f);t<e.length;t++)r.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(f,e[t])&&(o[e[t]]=f[e[t]]);return o}function Wt(f,r,o,e){var t=arguments.length,l=t<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,o):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(f,r,o,e);else for(var s=f.length-1;s>=0;s--)(a=f[s])&&(l=(t<3?a(l):t>3?a(r,o,l):a(r,o))||l);return t>3&&l&&Object.defineProperty(r,o,l),l}function Yt(f,r){return function(o,e){r(o,e,f)}}function qt(f,r,o,e,t,l){function a(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var s=e.kind,m=s==="getter"?"get":s==="setter"?"set":"value",u=!r&&f?e.static?f:f.prototype:null,y=r||(u?Object.getOwnPropertyDescriptor(u,e.name):{}),i,N=!1,h=o.length-1;h>=0;h--){var d={};for(var c in e)d[c]=c==="access"?{}:e[c];for(var c in e.access)d.access[c]=e.access[c];d.addInitializer=function(E){if(N)throw new TypeError("Cannot add initializers after decoration has completed");l.push(a(E||null))};var g=(0,o[h])(s==="accessor"?{get:y.get,set:y.set}:y[m],d);if(s==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(i=a(g.get))&&(y.get=i),(i=a(g.set))&&(y.set=i),(i=a(g.init))&&t.unshift(i)}else(i=a(g))&&(s==="field"?t.unshift(i):y[m]=i)}u&&Object.defineProperty(u,e.name,y),N=!0}function Vt(f,r,o){for(var e=arguments.length>2,t=0;t<r.length;t++)o=e?r[t].call(f,o):r[t].call(f);return e?o:void 0}function Xt(f){return typeof f=="symbol"?f:"".concat(f)}function Kt(f,r,o){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(f,"name",{configurable:!0,value:o?"".concat(o," ",r):r})}function Zt(f,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,r)}function Qt(f,r,o,e){function t(l){return l instanceof o?l:new o(function(a){a(l)})}return new(o||(o=Promise))(function(l,a){function s(y){try{u(e.next(y))}catch(i){a(i)}}function m(y){try{u(e.throw(y))}catch(i){a(i)}}function u(y){y.done?l(y.value):t(y.value).then(s,m)}u((e=e.apply(f,r||[])).next())})}function jt(f,r){var o={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},e,t,l,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(y){return m([u,y])}}function m(u){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(o=0)),o;)try{if(e=1,t&&(l=u[0]&2?t.return:u[0]?t.throw||((l=t.return)&&l.call(t),0):t.next)&&!(l=l.call(t,u[1])).done)return l;switch(t=0,l&&(u=[u[0]&2,l.value]),u[0]){case 0:case 1:l=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,t=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(l=o.trys,!(l=l.length>0&&l[l.length-1])&&(u[0]===6||u[0]===2)){o=0;continue}if(u[0]===3&&(!l||u[1]>l[0]&&u[1]<l[3])){o.label=u[1];break}if(u[0]===6&&o.label<l[1]){o.label=l[1],l=u;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(u);break}l[2]&&o.ops.pop(),o.trys.pop();continue}u=r.call(f,o)}catch(y){u=[6,y],t=0}finally{e=l=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function er(f,r){for(var o in f)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&Pe(r,f,o)}function ke(f){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&f[r],e=0;if(o)return o.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&e>=f.length&&(f=void 0),{value:f&&f[e++],done:!f}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(f,r){var o=typeof Symbol=="function"&&f[Symbol.iterator];if(!o)return f;var e=o.call(f),t,l=[],a;try{for(;(r===void 0||r-- >0)&&!(t=e.next()).done;)l.push(t.value)}catch(s){a={error:s}}finally{try{t&&!t.done&&(o=e.return)&&o.call(e)}finally{if(a)throw a.error}}return l}function tr(){for(var f=[],r=0;r<arguments.length;r++)f=f.concat(tt(arguments[r]));return f}function rr(){for(var f=0,r=0,o=arguments.length;r<o;r++)f+=arguments[r].length;for(var e=Array(f),t=0,r=0;r<o;r++)for(var l=arguments[r],a=0,s=l.length;a<s;a++,t++)e[t]=l[a];return e}function nr(f,r,o){if(o||arguments.length===2)for(var e=0,t=r.length,l;e<t;e++)(l||!(e in r))&&(l||(l=Array.prototype.slice.call(r,0,e)),l[e]=r[e]);return f.concat(l||Array.prototype.slice.call(r))}function pe(f){return this instanceof pe?(this.v=f,this):new pe(f)}function ir(f,r,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=o.apply(f,r||[]),t,l=[];return t=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),t[Symbol.asyncIterator]=function(){return this},t;function a(h){return function(d){return Promise.resolve(d).then(h,i)}}function s(h,d){e[h]&&(t[h]=function(c){return new Promise(function(g,E){l.push([h,c,g,E])>1||m(h,c)})},d&&(t[h]=d(t[h])))}function m(h,d){try{u(e[h](d))}catch(c){N(l[0][3],c)}}function u(h){h.value instanceof pe?Promise.resolve(h.value.v).then(y,i):N(l[0][2],h)}function y(h){m("next",h)}function i(h){m("throw",h)}function N(h,d){h(d),l.shift(),l.length&&m(l[0][0],l[0][1])}}function lr(f){var r,o;return r={},e("next"),e("throw",function(t){throw t}),e("return"),r[Symbol.iterator]=function(){return this},r;function e(t,l){r[t]=f[t]?function(a){return(o=!o)?{value:pe(f[t](a)),done:!1}:l?l(a):a}:l}}function or(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=f[Symbol.asyncIterator],o;return r?r.call(f):(f=typeof ke=="function"?ke(f):f[Symbol.iterator](),o={},e("next"),e("throw"),e("return"),o[Symbol.asyncIterator]=function(){return this},o);function e(l){o[l]=f[l]&&function(a){return new Promise(function(s,m){a=f[l](a),t(s,m,a.done,a.value)})}}function t(l,a,s,m){Promise.resolve(m).then(function(u){l({value:u,done:s})},a)}}function sr(f,r){return Object.defineProperty?Object.defineProperty(f,"raw",{value:r}):f.raw=r,f}function ar(f){if(f&&f.__esModule)return f;var r={};if(f!=null)for(var o=et(f),e=0;e<o.length;e++)o[e]!=="default"&&Pe(r,f,o[e]);return gn(r,f),r}function fr(f){return f&&f.__esModule?f:{default:f}}function cr(f,r,o,e){if(o==="a"&&!e)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?f!==r||!e:!r.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?e:o==="a"?e.call(f):e?e.value:r.get(f)}function ur(f,r,o,e,t){if(e==="m")throw new TypeError("Private method is not writable");if(e==="a"&&!t)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?f!==r||!t:!r.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e==="a"?t.call(f,o):t?t.value=o:r.set(f,o),o}function pr(f,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof f=="function"?r===f:f.has(r)}function hr(f,r,o){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var e,t;if(o){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");e=r[Symbol.asyncDispose]}if(e===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");e=r[Symbol.dispose],o&&(t=e)}if(typeof e!="function")throw new TypeError("Object not disposable.");t&&(e=function(){try{t.call(this)}catch(l){return Promise.reject(l)}}),f.stack.push({value:r,dispose:e,async:o})}else o&&f.stack.push({async:!0});return r}function dr(f){function r(l){f.error=f.hasError?new yn(l,f.error,"An error was suppressed during disposal."):l,f.hasError=!0}var o,e=0;function t(){for(;o=f.stack.pop();)try{if(!o.async&&e===1)return e=0,f.stack.push(o),Promise.resolve().then(t);if(o.dispose){var l=o.dispose.call(o.value);if(o.async)return e|=2,Promise.resolve(l).then(t,function(a){return r(a),t()})}else e|=1}catch(a){r(a)}if(e===1)return f.hasError?Promise.reject(f.error):Promise.resolve();if(f.hasError)throw f.error}return t()}function mr(f,r){return typeof f=="string"&&/^\.\.?\//.test(f)?f.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(o,e,t,l,a){return e?r?".jsx":".js":t&&(!l||!a)?o:t+l+"."+a.toLowerCase()+"js"}):f}var je,ve,Pe,gn,et,yn,En,yr=pn(()=>{je=function(f,r){return je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])},je(f,r)};ve=function(){return ve=Object.assign||function(r){for(var o,e=1,t=arguments.length;e<t;e++){o=arguments[e];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])}return r},ve.apply(this,arguments)};Pe=Object.create?function(f,r,o,e){e===void 0&&(e=o);var t=Object.getOwnPropertyDescriptor(r,o);(!t||("get"in t?!r.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(f,e,t)}:function(f,r,o,e){e===void 0&&(e=o),f[e]=r[o]};gn=Object.create?function(f,r){Object.defineProperty(f,"default",{enumerable:!0,value:r})}:function(f,r){f.default=r},et=function(f){return et=Object.getOwnPropertyNames||function(r){var o=[];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(o[o.length]=e);return o},et(f)};yn=typeof SuppressedError=="function"?SuppressedError:function(f,r,o){var e=new Error(o);return e.name="SuppressedError",e.error=f,e.suppressed=r,e};En={__extends:Gt,__assign:ve,__rest:zt,__decorate:Wt,__param:Yt,__esDecorate:qt,__runInitializers:Vt,__propKey:Xt,__setFunctionName:Kt,__metadata:Zt,__awaiter:Qt,__generator:jt,__createBinding:Pe,__exportStar:er,__values:ke,__read:tt,__spread:tr,__spreadArrays:rr,__spreadArray:nr,__await:pe,__asyncGenerator:ir,__asyncDelegator:lr,__asyncValues:or,__makeTemplateObject:sr,__importStar:ar,__importDefault:fr,__classPrivateFieldGet:cr,__classPrivateFieldSet:ur,__classPrivateFieldIn:pr,__addDisposableResource:hr,__disposeResources:dr,__rewriteRelativeImportExtension:mr}});var Er=Ae(rt=>{(function(f){"use strict";var r=typeof process=="object"&&process.env?process.env:self;f.parser=function(O){return new i(O)},f.CParser=i,f.CStream=h,f.createStream=N,f.MAX_BUFFER_LENGTH=64*1024,f.DEBUG=r.CDEBUG==="debug",f.INFO=r.CDEBUG==="debug"||r.CDEBUG==="info",f.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var o={textNode:void 0,numberNode:""},e=f.EVENTS.filter(function(O){return O!=="error"&&O!=="end"}),t=0,l;f.STATE={BEGIN:t++,VALUE:t++,OPEN_OBJECT:t++,CLOSE_OBJECT:t++,OPEN_ARRAY:t++,CLOSE_ARRAY:t++,TEXT_ESCAPE:t++,STRING:t++,BACKSLASH:t++,END:t++,OPEN_KEY:t++,CLOSE_KEY:t++,TRUE:t++,TRUE2:t++,TRUE3:t++,FALSE:t++,FALSE2:t++,FALSE3:t++,FALSE4:t++,NULL:t++,NULL2:t++,NULL3:t++,NUMBER_DECIMAL_POINT:t++,NUMBER_DIGIT:t++};for(var a in f.STATE)f.STATE[f.STATE[a]]=a;t=f.STATE;let s={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(O){function n(){this.__proto__=O}return n.prototype=O,new n}),Object.getPrototypeOf||(Object.getPrototypeOf=function(O){return O.__proto__}),Object.keys||(Object.keys=function(O){var n=[];for(var L in O)O.hasOwnProperty(L)&&n.push(L);return n});function m(O){var n=Math.max(f.MAX_BUFFER_LENGTH,10),L=0;for(var b in o){var $=O[b]===void 0?0:O[b].length;if($>n)switch(b){case"text":closeText(O);break;default:_(O,"Max buffer length exceeded: "+b)}L=Math.max(L,$)}O.bufferCheckPosition=f.MAX_BUFFER_LENGTH-L+O.position}function u(O){for(var n in o)O[n]=o[n]}var y=/[\\"\n]/g;function i(O){if(!(this instanceof i))return new i(O);var n=this;u(n),n.bufferCheckPosition=f.MAX_BUFFER_LENGTH,n.q=n.c=n.p="",n.opt=O||{},n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.state=t.BEGIN,n.stack=new Array,n.position=n.column=0,n.line=1,n.slashed=!1,n.unicodeI=0,n.unicodeS=null,n.depth=0,d(n,"onready")}i.prototype={end:function(){S(this)},write:D,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{l=un("stream").Stream}catch{l=function(){}}function N(O){return new h(O)}function h(O){if(!(this instanceof h))return new h(O);this._parser=new i(O),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var n=this;l.apply(n),this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(L){n.emit("error",L),n._parser.error=null},e.forEach(function(L){Object.defineProperty(n,"on"+L,{get:function(){return n._parser["on"+L]},set:function(b){if(!b)return n.removeAllListeners(L),n._parser["on"+L]=b,b;n.on(L,b)},enumerable:!0,configurable:!1})})}h.prototype=Object.create(l.prototype,{constructor:{value:h}}),h.prototype.write=function(O){O=new Buffer(O);for(var n=0;n<O.length;n++){var L=O[n];if(this.bytes_remaining>0){for(var b=0;b<this.bytes_remaining;b++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+b]=O[b];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,n=n+b-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&L>=128)if(L>=194&&L<=223&&(this.bytes_in_sequence=2),L>=224&&L<=239&&(this.bytes_in_sequence=3),L>=240&&L<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+n>O.length){for(var $=0;$<=O.length-1-n;$++)this.temp_buffs[this.bytes_in_sequence][$]=O[n+$];return this.bytes_remaining=n+this.bytes_in_sequence-O.length,!0}else{this.string=O.slice(n,n+this.bytes_in_sequence).toString(),n=n+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var X=n;X<O.length&&!(O[X]>=128);X++);this.string=O.slice(n,X).toString(),this._parser.write(this.string),this.emit("data",this.string),n=X-1}},h.prototype.end=function(O){return O&&O.length&&this._parser.write(O.toString()),this._parser.end(),!0},h.prototype.on=function(O,n){var L=this;return!L._parser["on"+O]&&e.indexOf(O)!==-1&&(L._parser["on"+O]=function(){var b=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,O),L.emit.apply(L,b)}),l.prototype.on.call(L,O,n)},h.prototype.destroy=function(){u(this._parser),this.emit("close")};function d(O,n,L){f.INFO&&console.log("-- emit",n,L),O[n]&&O[n](L)}function c(O,n,L){g(O),d(O,n,L)}function g(O,n){O.textNode=w(O.opt,O.textNode),O.textNode!==void 0&&d(O,n||"onvalue",O.textNode),O.textNode=void 0}function E(O){O.numberNode&&d(O,"onvalue",parseFloat(O.numberNode)),O.numberNode=""}function w(O,n){return n===void 0||(O.trim&&(n=n.trim()),O.normalize&&(n=n.replace(/\s+/g," "))),n}function _(O,n){return g(O),n+=`
Line: `+O.line+`
Column: `+O.column+`
Char: `+O.c,n=new Error(n),O.error=n,d(O,"onerror",n),O}function S(O){return(O.state!==t.VALUE||O.depth!==0)&&_(O,"Unexpected end"),g(O),O.c="",O.closed=!0,d(O,"onend"),i.call(O,O.opt),O}function R(O){return O===s.carriageReturn||O===s.lineFeed||O===s.space||O===s.tab}function D(O){var n=this;if(this.error)throw this.error;if(n.closed)return _(n,"Cannot write after close. Assign an onready handler.");if(O===null)return S(n);var L=0,b=O.charCodeAt(0),$=n.p,X=!1;for(f.DEBUG&&console.log("write -> ["+O+"]");b&&($=b,n.c=b=O.charCodeAt(L++),$!==b?n.p=$:$=n.p,!!b);)switch(f.DEBUG&&console.log(L,b,f.STATE[n.state]),X?X=!1:(n.position++,b===s.lineFeed?(n.line++,n.column=0):n.column++),n.state){case t.BEGIN:b===s.openBrace?n.state=t.OPEN_OBJECT:b===s.openBracket?n.state=t.OPEN_ARRAY:R(b)||_(n,"Non-whitespace before {[.");continue;case t.OPEN_KEY:case t.OPEN_OBJECT:if(R(b))continue;if(n.state===t.OPEN_KEY)n.stack.push(t.CLOSE_KEY);else if(b===s.closeBrace){d(n,"onopenobject"),this.depth++,d(n,"oncloseobject"),this.depth--,n.state=n.stack.pop()||t.VALUE;continue}else n.stack.push(t.CLOSE_OBJECT);b===s.doubleQuote?n.state=t.STRING:_(n,'Malformed object key should start with "');continue;case t.CLOSE_KEY:case t.CLOSE_OBJECT:if(R(b))continue;var we=n.state===t.CLOSE_KEY?"key":"object";b===s.colon?(n.state===t.CLOSE_OBJECT?(n.stack.push(t.CLOSE_OBJECT),g(n,"onopenobject"),this.depth++):g(n,"onkey"),n.state=t.VALUE):b===s.closeBrace?(c(n,"oncloseobject"),this.depth--,n.state=n.stack.pop()||t.VALUE):b===s.comma?(n.state===t.CLOSE_OBJECT&&n.stack.push(t.CLOSE_OBJECT),g(n),n.state=t.OPEN_KEY):_(n,"Bad object");continue;case t.OPEN_ARRAY:case t.VALUE:if(R(b))continue;if(n.state===t.OPEN_ARRAY)if(d(n,"onopenarray"),this.depth++,n.state=t.VALUE,b===s.closeBracket){d(n,"onclosearray"),this.depth--,n.state=n.stack.pop()||t.VALUE;continue}else n.stack.push(t.CLOSE_ARRAY);b===s.doubleQuote?n.state=t.STRING:b===s.openBrace?n.state=t.OPEN_OBJECT:b===s.openBracket?n.state=t.OPEN_ARRAY:b===s.t?n.state=t.TRUE:b===s.f?n.state=t.FALSE:b===s.n?n.state=t.NULL:b===s.minus?n.numberNode+="-":s._0<=b&&b<=s._9?(n.numberNode+=String.fromCharCode(b),n.state=t.NUMBER_DIGIT):_(n,"Bad value");continue;case t.CLOSE_ARRAY:if(b===s.comma)n.stack.push(t.CLOSE_ARRAY),g(n,"onvalue"),n.state=t.VALUE;else if(b===s.closeBracket)c(n,"onclosearray"),this.depth--,n.state=n.stack.pop()||t.VALUE;else{if(R(b))continue;_(n,"Bad array")}continue;case t.STRING:n.textNode===void 0&&(n.textNode="");var Y=L-1,ee=n.slashed,K=n.unicodeI;e:for(;;){for(f.DEBUG&&console.log(L,b,f.STATE[n.state],ee);K>0;)if(n.unicodeS+=String.fromCharCode(b),b=O.charCodeAt(L++),n.position++,K===4?(n.textNode+=String.fromCharCode(parseInt(n.unicodeS,16)),K=0,Y=L-1):K++,!b)break e;if(b===s.doubleQuote&&!ee){n.state=n.stack.pop()||t.VALUE,n.textNode+=O.substring(Y,L-1),n.position+=L-1-Y;break}if(b===s.backslash&&!ee&&(ee=!0,n.textNode+=O.substring(Y,L-1),n.position+=L-1-Y,b=O.charCodeAt(L++),n.position++,!b))break;if(ee){if(ee=!1,b===s.n?n.textNode+=`
`:b===s.r?n.textNode+="\r":b===s.t?n.textNode+="	":b===s.f?n.textNode+="\f":b===s.b?n.textNode+="\b":b===s.u?(K=1,n.unicodeS=""):n.textNode+=String.fromCharCode(b),b=O.charCodeAt(L++),n.position++,Y=L-1,b)continue;break}y.lastIndex=L;var de=y.exec(O);if(de===null){L=O.length+1,n.textNode+=O.substring(Y,L-1),n.position+=L-1-Y;break}if(L=de.index+1,b=O.charCodeAt(de.index),!b){n.textNode+=O.substring(Y,L-1),n.position+=L-1-Y;break}}n.slashed=ee,n.unicodeI=K;continue;case t.TRUE:b===s.r?n.state=t.TRUE2:_(n,"Invalid true started with t"+b);continue;case t.TRUE2:b===s.u?n.state=t.TRUE3:_(n,"Invalid true started with tr"+b);continue;case t.TRUE3:b===s.e?(d(n,"onvalue",!0),n.state=n.stack.pop()||t.VALUE):_(n,"Invalid true started with tru"+b);continue;case t.FALSE:b===s.a?n.state=t.FALSE2:_(n,"Invalid false started with f"+b);continue;case t.FALSE2:b===s.l?n.state=t.FALSE3:_(n,"Invalid false started with fa"+b);continue;case t.FALSE3:b===s.s?n.state=t.FALSE4:_(n,"Invalid false started with fal"+b);continue;case t.FALSE4:b===s.e?(d(n,"onvalue",!1),n.state=n.stack.pop()||t.VALUE):_(n,"Invalid false started with fals"+b);continue;case t.NULL:b===s.u?n.state=t.NULL2:_(n,"Invalid null started with n"+b);continue;case t.NULL2:b===s.l?n.state=t.NULL3:_(n,"Invalid null started with nu"+b);continue;case t.NULL3:b===s.l?(d(n,"onvalue",null),n.state=n.stack.pop()||t.VALUE):_(n,"Invalid null started with nul"+b);continue;case t.NUMBER_DECIMAL_POINT:b===s.period?(n.numberNode+=".",n.state=t.NUMBER_DIGIT):_(n,"Leading zero not followed by .");continue;case t.NUMBER_DIGIT:s._0<=b&&b<=s._9?n.numberNode+=String.fromCharCode(b):b===s.period?(n.numberNode.indexOf(".")!==-1&&_(n,"Invalid number has two dots"),n.numberNode+="."):b===s.e||b===s.E?((n.numberNode.indexOf("e")!==-1||n.numberNode.indexOf("E")!==-1)&&_(n,"Invalid number has two exponential"),n.numberNode+="e"):b===s.plus||b===s.minus?($===s.e||$===s.E||_(n,"Invalid symbol in number"),n.numberNode+=String.fromCharCode(b)):(E(n),L--,X=!0,n.state=n.stack.pop()||t.VALUE);continue;default:_(n,"Unknown state: "+n.state)}return n.position>=n.bufferCheckPosition&&m(n),n}})(typeof rt>"u"?clarinet={}:rt)});var Or=Ae(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.stringify=he.parse=void 0;var Nn=(yr(),mn(gr)),On=Nn.__importDefault(Er());function bn(f){let r=it(),o,e;function t(a){try{let s=r.next(a);s.done&&(o=s.value)}catch(s){e=s}}let l=On.default.parser();if(l.onopenobject=a=>t({type:"openobject",key:a}),l.onopenarray=()=>t({type:"openarray"}),l.onkey=a=>t({type:"key",key:a}),l.onvalue=a=>t({type:"value",value:a}),l.oncloseobject=()=>t({type:"closeobject"}),l.onclosearray=()=>t({type:"closearray"}),l.onerror=a=>t({type:"error",err:a}),r.next(),l.write(f).close(),e)throw e;return o}he.parse=bn;function nt(f){return Array.isArray(f)?`[${f.map(nt).join(",")}]`:f instanceof Map?`{${[...f].map(([r,o])=>JSON.stringify(r)+":"+nt(o)).join(",")}}`:JSON.stringify(f)}he.stringify=nt;var Nr=Symbol();function*it(){let f=yield;switch(f.type){case"value":return f.value;case"openobject":let r=new Map,o=f.key;for(o===void 0&&(yield);o!==void 0;)r.set(o,yield*it()),o=(yield).key;return r;case"openarray":let e=[],t;for(;;){if(t=yield*it(),t===Nr)return e;e.push(t)}case"closearray":return Nr;case"error":throw f.err;default:throw Error(`Unexpected ParseEvent ${f.type}`)}}});var br=Ae((lt,ot)=>{(function(f,r){typeof lt=="object"&&typeof ot<"u"?ot.exports=r():typeof define=="function"&&define.amd?define(r):(f=typeof globalThis<"u"?globalThis:f||self,f.DOMPurify=r())})(lt,function(){"use strict";let{entries:f,setPrototypeOf:r,isFrozen:o,getPrototypeOf:e,getOwnPropertyDescriptor:t}=Object,{freeze:l,seal:a,create:s}=Object,{apply:m,construct:u}=typeof Reflect<"u"&&Reflect;l||(l=function(x){return x}),a||(a=function(x){return x}),m||(m=function(x,k,I){return x.apply(k,I)}),u||(u=function(x,k){return new x(...k)});let y=D(Array.prototype.forEach),i=D(Array.prototype.pop),N=D(Array.prototype.push),h=D(String.prototype.toLowerCase),d=D(String.prototype.toString),c=D(String.prototype.match),g=D(String.prototype.replace),E=D(String.prototype.indexOf),w=D(String.prototype.trim),_=D(Object.prototype.hasOwnProperty),S=D(RegExp.prototype.test),R=O(TypeError);function D(v){return function(x){for(var k=arguments.length,I=new Array(k>1?k-1:0),M=1;M<k;M++)I[M-1]=arguments[M];return m(v,x,I)}}function O(v){return function(){for(var x=arguments.length,k=new Array(x),I=0;I<x;I++)k[I]=arguments[I];return u(v,k)}}function n(v,x){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h;r&&r(v,null);let I=x.length;for(;I--;){let M=x[I];if(typeof M=="string"){let te=k(M);te!==M&&(o(x)||(x[I]=te),M=te)}v[M]=!0}return v}function L(v){for(let x=0;x<v.length;x++)_(v,x)||(v[x]=null);return v}function b(v){let x=s(null);for(let[k,I]of f(v))_(v,k)&&(Array.isArray(I)?x[k]=L(I):I&&typeof I=="object"&&I.constructor===Object?x[k]=b(I):x[k]=I);return x}function $(v,x){for(;v!==null;){let I=t(v,x);if(I){if(I.get)return D(I.get);if(typeof I.value=="function")return D(I.value)}v=e(v)}function k(){return null}return k}let X=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),we=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ee=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),K=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),de=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),st=l(["#text"]),at=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Fe=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ft=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Se=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Lr=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xr=a(/<%[\w\W]*|[\w\W]*%>/gm),Cr=a(/\${[\w\W]*}/gm),Rr=a(/^data-[\-\w.\u00B7-\uFFFF]/),Dr=a(/^aria-[\-\w]+$/),ct=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ir=a(/^(?:\w+script|data):/i),vr=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ut=a(/^html$/i),kr=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var pt=Object.freeze({__proto__:null,MUSTACHE_EXPR:Lr,ERB_EXPR:xr,TMPLIT_EXPR:Cr,DATA_ATTR:Rr,ARIA_ATTR:Dr,IS_ALLOWED_URI:ct,IS_SCRIPT_OR_DATA:Ir,ATTR_WHITESPACE:vr,DOCTYPE_NAME:ut,CUSTOM_ELEMENT:kr});let me={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Pr=function(){return typeof window>"u"?null:window},Fr=function(x,k){if(typeof x!="object"||typeof x.createPolicy!="function")return null;let I=null,M="data-tt-policy-suffix";k&&k.hasAttribute(M)&&(I=k.getAttribute(M));let te="dompurify"+(I?"#"+I:"");try{return x.createPolicy(te,{createHTML(le){return le},createScriptURL(le){return le}})}catch{return console.warn("TrustedTypes policy "+te+" could not be created."),null}};function ht(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pr(),x=C=>ht(C);if(x.version="3.1.7",x.removed=[],!v||!v.document||v.document.nodeType!==me.document)return x.isSupported=!1,x;let{document:k}=v,I=k,M=I.currentScript,{DocumentFragment:te,HTMLTemplateElement:le,Node:$e,Element:dt,NodeFilter:ge,NamedNodeMap:Ur=v.NamedNodeMap||v.MozNamedAttrMap,HTMLFormElement:Jr,DOMParser:Hr,trustedTypes:Te}=v,ye=dt.prototype,Br=$(ye,"cloneNode"),Mr=$(ye,"remove"),Gr=$(ye,"nextSibling"),zr=$(ye,"childNodes"),Le=$(ye,"parentNode");if(typeof le=="function"){let C=k.createElement("template");C.content&&C.content.ownerDocument&&(k=C.content.ownerDocument)}let z,Ee="",{implementation:Ue,createNodeIterator:Wr,createDocumentFragment:Yr,getElementsByTagName:qr}=k,{importNode:Vr}=I,Z={};x.isSupported=typeof f=="function"&&typeof Le=="function"&&Ue&&Ue.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Je,ERB_EXPR:He,TMPLIT_EXPR:Be,DATA_ATTR:Xr,ARIA_ATTR:Kr,IS_SCRIPT_OR_DATA:Zr,ATTR_WHITESPACE:mt,CUSTOM_ELEMENT:Qr}=pt,{IS_ALLOWED_URI:gt}=pt,U=null,yt=n({},[...X,...we,...Y,...K,...st]),J=null,Et=n({},[...at,...Fe,...ft,...Se]),F=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,Me=null,Nt=!0,Ge=!0,Ot=!1,bt=!0,oe=!1,ze=!0,ie=!1,We=!1,Ye=!1,se=!1,xe=!1,Ce=!1,_t=!0,At=!1,jr="user-content-",qe=!0,Oe=!1,ae={},fe=null,wt=n({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),St=null,Tt=n({},["audio","video","img","source","image","track"]),Ve=null,Lt=n({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Re="http://www.w3.org/1998/Math/MathML",De="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xhtml",ce=re,Xe=!1,Ke=null,en=n({},[Re,De,re],d),be=null,tn=["application/xhtml+xml","text/html"],rn="text/html",H=null,ue=null,nn=k.createElement("form"),xt=function(p){return p instanceof RegExp||p instanceof Function},Ze=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ue&&ue===p)){if((!p||typeof p!="object")&&(p={}),p=b(p),be=tn.indexOf(p.PARSER_MEDIA_TYPE)===-1?rn:p.PARSER_MEDIA_TYPE,H=be==="application/xhtml+xml"?d:h,U=_(p,"ALLOWED_TAGS")?n({},p.ALLOWED_TAGS,H):yt,J=_(p,"ALLOWED_ATTR")?n({},p.ALLOWED_ATTR,H):Et,Ke=_(p,"ALLOWED_NAMESPACES")?n({},p.ALLOWED_NAMESPACES,d):en,Ve=_(p,"ADD_URI_SAFE_ATTR")?n(b(Lt),p.ADD_URI_SAFE_ATTR,H):Lt,St=_(p,"ADD_DATA_URI_TAGS")?n(b(Tt),p.ADD_DATA_URI_TAGS,H):Tt,fe=_(p,"FORBID_CONTENTS")?n({},p.FORBID_CONTENTS,H):wt,Ne=_(p,"FORBID_TAGS")?n({},p.FORBID_TAGS,H):{},Me=_(p,"FORBID_ATTR")?n({},p.FORBID_ATTR,H):{},ae=_(p,"USE_PROFILES")?p.USE_PROFILES:!1,Nt=p.ALLOW_ARIA_ATTR!==!1,Ge=p.ALLOW_DATA_ATTR!==!1,Ot=p.ALLOW_UNKNOWN_PROTOCOLS||!1,bt=p.ALLOW_SELF_CLOSE_IN_ATTR!==!1,oe=p.SAFE_FOR_TEMPLATES||!1,ze=p.SAFE_FOR_XML!==!1,ie=p.WHOLE_DOCUMENT||!1,se=p.RETURN_DOM||!1,xe=p.RETURN_DOM_FRAGMENT||!1,Ce=p.RETURN_TRUSTED_TYPE||!1,Ye=p.FORCE_BODY||!1,_t=p.SANITIZE_DOM!==!1,At=p.SANITIZE_NAMED_PROPS||!1,qe=p.KEEP_CONTENT!==!1,Oe=p.IN_PLACE||!1,gt=p.ALLOWED_URI_REGEXP||ct,ce=p.NAMESPACE||re,F=p.CUSTOM_ELEMENT_HANDLING||{},p.CUSTOM_ELEMENT_HANDLING&&xt(p.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(F.tagNameCheck=p.CUSTOM_ELEMENT_HANDLING.tagNameCheck),p.CUSTOM_ELEMENT_HANDLING&&xt(p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(F.attributeNameCheck=p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),p.CUSTOM_ELEMENT_HANDLING&&typeof p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(F.allowCustomizedBuiltInElements=p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),oe&&(Ge=!1),xe&&(se=!0),ae&&(U=n({},st),J=[],ae.html===!0&&(n(U,X),n(J,at)),ae.svg===!0&&(n(U,we),n(J,Fe),n(J,Se)),ae.svgFilters===!0&&(n(U,Y),n(J,Fe),n(J,Se)),ae.mathMl===!0&&(n(U,K),n(J,ft),n(J,Se))),p.ADD_TAGS&&(U===yt&&(U=b(U)),n(U,p.ADD_TAGS,H)),p.ADD_ATTR&&(J===Et&&(J=b(J)),n(J,p.ADD_ATTR,H)),p.ADD_URI_SAFE_ATTR&&n(Ve,p.ADD_URI_SAFE_ATTR,H),p.FORBID_CONTENTS&&(fe===wt&&(fe=b(fe)),n(fe,p.FORBID_CONTENTS,H)),qe&&(U["#text"]=!0),ie&&n(U,["html","head","body"]),U.table&&(n(U,["tbody"]),delete Ne.tbody),p.TRUSTED_TYPES_POLICY){if(typeof p.TRUSTED_TYPES_POLICY.createHTML!="function")throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof p.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');z=p.TRUSTED_TYPES_POLICY,Ee=z.createHTML("")}else z===void 0&&(z=Fr(Te,M)),z!==null&&typeof Ee=="string"&&(Ee=z.createHTML(""));l&&l(p),ue=p}},Ct=n({},["mi","mo","mn","ms","mtext"]),Rt=n({},["annotation-xml"]),ln=n({},["title","style","font","a","script"]),Dt=n({},[...we,...Y,...ee]),It=n({},[...K,...de]),on=function(p){let A=Le(p);(!A||!A.tagName)&&(A={namespaceURI:ce,tagName:"template"});let T=h(p.tagName),P=h(A.tagName);return Ke[p.namespaceURI]?p.namespaceURI===De?A.namespaceURI===re?T==="svg":A.namespaceURI===Re?T==="svg"&&(P==="annotation-xml"||Ct[P]):!!Dt[T]:p.namespaceURI===Re?A.namespaceURI===re?T==="math":A.namespaceURI===De?T==="math"&&Rt[P]:!!It[T]:p.namespaceURI===re?A.namespaceURI===De&&!Rt[P]||A.namespaceURI===Re&&!Ct[P]?!1:!It[T]&&(ln[T]||!Dt[T]):!!(be==="application/xhtml+xml"&&Ke[p.namespaceURI]):!1},Q=function(p){N(x.removed,{element:p});try{Le(p).removeChild(p)}catch{Mr(p)}},Ie=function(p,A){try{N(x.removed,{attribute:A.getAttributeNode(p),from:A})}catch{N(x.removed,{attribute:null,from:A})}if(A.removeAttribute(p),p==="is"&&!J[p])if(se||xe)try{Q(A)}catch{}else try{A.setAttribute(p,"")}catch{}},vt=function(p){let A=null,T=null;if(Ye)p="<remove></remove>"+p;else{let B=c(p,/^[\r\n\t ]+/);T=B&&B[0]}be==="application/xhtml+xml"&&ce===re&&(p='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+p+"</body></html>");let P=z?z.createHTML(p):p;if(ce===re)try{A=new Hr().parseFromString(P,be)}catch{}if(!A||!A.documentElement){A=Ue.createDocument(ce,"template",null);try{A.documentElement.innerHTML=Xe?Ee:P}catch{}}let G=A.body||A.documentElement;return p&&T&&G.insertBefore(k.createTextNode(T),G.childNodes[0]||null),ce===re?qr.call(A,ie?"html":"body")[0]:ie?A.documentElement:G},kt=function(p){return Wr.call(p.ownerDocument||p,p,ge.SHOW_ELEMENT|ge.SHOW_COMMENT|ge.SHOW_TEXT|ge.SHOW_PROCESSING_INSTRUCTION|ge.SHOW_CDATA_SECTION,null)},Pt=function(p){return p instanceof Jr&&(typeof p.nodeName!="string"||typeof p.textContent!="string"||typeof p.removeChild!="function"||!(p.attributes instanceof Ur)||typeof p.removeAttribute!="function"||typeof p.setAttribute!="function"||typeof p.namespaceURI!="string"||typeof p.insertBefore!="function"||typeof p.hasChildNodes!="function")},Ft=function(p){return typeof $e=="function"&&p instanceof $e},ne=function(p,A,T){Z[p]&&y(Z[p],P=>{P.call(x,A,T,ue)})},$t=function(p){let A=null;if(ne("beforeSanitizeElements",p,null),Pt(p))return Q(p),!0;let T=H(p.nodeName);if(ne("uponSanitizeElement",p,{tagName:T,allowedTags:U}),p.hasChildNodes()&&!Ft(p.firstElementChild)&&S(/<[/\w]/g,p.innerHTML)&&S(/<[/\w]/g,p.textContent)||p.nodeType===me.progressingInstruction||ze&&p.nodeType===me.comment&&S(/<[/\w]/g,p.data))return Q(p),!0;if(!U[T]||Ne[T]){if(!Ne[T]&&Jt(T)&&(F.tagNameCheck instanceof RegExp&&S(F.tagNameCheck,T)||F.tagNameCheck instanceof Function&&F.tagNameCheck(T)))return!1;if(qe&&!fe[T]){let P=Le(p)||p.parentNode,G=zr(p)||p.childNodes;if(G&&P){let B=G.length;for(let q=B-1;q>=0;--q){let j=Br(G[q],!0);j.__removalCount=(p.__removalCount||0)+1,P.insertBefore(j,Gr(p))}}}return Q(p),!0}return p instanceof dt&&!on(p)||(T==="noscript"||T==="noembed"||T==="noframes")&&S(/<\/no(script|embed|frames)/i,p.innerHTML)?(Q(p),!0):(oe&&p.nodeType===me.text&&(A=p.textContent,y([Je,He,Be],P=>{A=g(A,P," ")}),p.textContent!==A&&(N(x.removed,{element:p.cloneNode()}),p.textContent=A)),ne("afterSanitizeElements",p,null),!1)},Ut=function(p,A,T){if(_t&&(A==="id"||A==="name")&&(T in k||T in nn))return!1;if(!(Ge&&!Me[A]&&S(Xr,A))){if(!(Nt&&S(Kr,A))){if(!J[A]||Me[A]){if(!(Jt(p)&&(F.tagNameCheck instanceof RegExp&&S(F.tagNameCheck,p)||F.tagNameCheck instanceof Function&&F.tagNameCheck(p))&&(F.attributeNameCheck instanceof RegExp&&S(F.attributeNameCheck,A)||F.attributeNameCheck instanceof Function&&F.attributeNameCheck(A))||A==="is"&&F.allowCustomizedBuiltInElements&&(F.tagNameCheck instanceof RegExp&&S(F.tagNameCheck,T)||F.tagNameCheck instanceof Function&&F.tagNameCheck(T))))return!1}else if(!Ve[A]){if(!S(gt,g(T,mt,""))){if(!((A==="src"||A==="xlink:href"||A==="href")&&p!=="script"&&E(T,"data:")===0&&St[p])){if(!(Ot&&!S(Zr,g(T,mt,"")))){if(T)return!1}}}}}}return!0},Jt=function(p){return p!=="annotation-xml"&&c(p,Qr)},Ht=function(p){ne("beforeSanitizeAttributes",p,null);let{attributes:A}=p;if(!A)return;let T={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J},P=A.length;for(;P--;){let G=A[P],{name:B,namespaceURI:q,value:j}=G,_e=H(B),W=B==="value"?j:w(j);if(T.attrName=_e,T.attrValue=W,T.keepAttr=!0,T.forceKeepAttr=void 0,ne("uponSanitizeAttribute",p,T),W=T.attrValue,T.forceKeepAttr||(Ie(B,p),!T.keepAttr))continue;if(!bt&&S(/\/>/i,W)){Ie(B,p);continue}oe&&y([Je,He,Be],Mt=>{W=g(W,Mt," ")});let Bt=H(p.nodeName);if(Ut(Bt,_e,W)){if(At&&(_e==="id"||_e==="name")&&(Ie(B,p),W=jr+W),ze&&S(/((--!?|])>)|<\/(style|title)/i,W)){Ie(B,p);continue}if(z&&typeof Te=="object"&&typeof Te.getAttributeType=="function"&&!q)switch(Te.getAttributeType(Bt,_e)){case"TrustedHTML":{W=z.createHTML(W);break}case"TrustedScriptURL":{W=z.createScriptURL(W);break}}try{q?p.setAttributeNS(q,B,W):p.setAttribute(B,W),Pt(p)?Q(p):i(x.removed)}catch{}}}ne("afterSanitizeAttributes",p,null)},sn=function C(p){let A=null,T=kt(p);for(ne("beforeSanitizeShadowDOM",p,null);A=T.nextNode();)ne("uponSanitizeShadowNode",A,null),!$t(A)&&(A.content instanceof te&&C(A.content),Ht(A));ne("afterSanitizeShadowDOM",p,null)};return x.sanitize=function(C){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=null,T=null,P=null,G=null;if(Xe=!C,Xe&&(C="<!-->"),typeof C!="string"&&!Ft(C))if(typeof C.toString=="function"){if(C=C.toString(),typeof C!="string")throw R("dirty is not a string, aborting")}else throw R("toString is not a function");if(!x.isSupported)return C;if(We||Ze(p),x.removed=[],typeof C=="string"&&(Oe=!1),Oe){if(C.nodeName){let j=H(C.nodeName);if(!U[j]||Ne[j])throw R("root node is forbidden and cannot be sanitized in-place")}}else if(C instanceof $e)A=vt("<!---->"),T=A.ownerDocument.importNode(C,!0),T.nodeType===me.element&&T.nodeName==="BODY"||T.nodeName==="HTML"?A=T:A.appendChild(T);else{if(!se&&!oe&&!ie&&C.indexOf("<")===-1)return z&&Ce?z.createHTML(C):C;if(A=vt(C),!A)return se?null:Ce?Ee:""}A&&Ye&&Q(A.firstChild);let B=kt(Oe?C:A);for(;P=B.nextNode();)$t(P)||(P.content instanceof te&&sn(P.content),Ht(P));if(Oe)return C;if(se){if(xe)for(G=Yr.call(A.ownerDocument);A.firstChild;)G.appendChild(A.firstChild);else G=A;return(J.shadowroot||J.shadowrootmode)&&(G=Vr.call(I,G,!0)),G}let q=ie?A.outerHTML:A.innerHTML;return ie&&U["!doctype"]&&A.ownerDocument&&A.ownerDocument.doctype&&A.ownerDocument.doctype.name&&S(ut,A.ownerDocument.doctype.name)&&(q="<!DOCTYPE "+A.ownerDocument.doctype.name+`>
`+q),oe&&y([Je,He,Be],j=>{q=g(q,j," ")}),z&&Ce?z.createHTML(q):q},x.setConfig=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ze(C),We=!0},x.clearConfig=function(){ue=null,We=!1},x.isValidAttribute=function(C,p,A){ue||Ze({});let T=H(C),P=H(p);return Ut(T,P,A)},x.addHook=function(C,p){typeof p=="function"&&(Z[C]=Z[C]||[],N(Z[C],p))},x.removeHook=function(C){if(Z[C])return i(Z[C])},x.removeHooks=function(C){Z[C]&&(Z[C]=[])},x.removeAllHooks=function(){Z={}},x}var $r=ht();return $r})});var Ar=Ae((Ln,_r)=>{var V=br();_r.exports=class{constructor(r){let o=this;o.parentContext=r,o.websiteRegex=/^(https?:\/\/)?[-a-zA-Z0-9]*[a-zA-Z0-9]+(\.[-a-zA-Z0-9]*[a-zA-Z0-9]+)+/}escape(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(r,o=!1,e=void 0){let t=this;try{t.parentContext.mapToJSON(r)}catch(u){throw console.log(u),new Error("Provided map value doesn't passes JSON.parse()")}var l=0,a=document.createElement("ul"),s;return e!==void 0&&(s=JSON.parse(e)),a.className="DAMON-List",m(r,a),a;function m(u,y){if(typeof y!="object"||y==null||Array.isArray(y))throw new Error("Error List Item number "+l+": @param { {} } list");if(typeof u=="object"&&u!==null&&!Array.isArray(u)&&u instanceof Map&&u.constructor===Map){if(y.tagName=="UL")for(let[h,d]of u){let c=document.createElement("ul"),g=document.createElement("code"),E=document.createElement("span"),w=document.createElement("li");if(E.className="type-key",t.websiteRegex.test(h)){let _=V.sanitize(`<a href="${h}">${h}</a>`);E.innerHTML=_}else e!==void 0&&h in s["@context"]?E.innerHTML=V.sanitize(`<a href="${s["@context"][h]["@id"]}">${h}</a>`):E.textContent=h;if(typeof d=="object"&&d!==null)if(Array.isArray(d))if(u.damonInlineArrays!==void 0&&u.damonInlineArrays.indexOf(h)>-1){g.innerHTML=E.outerHTML+": [";for(let _=0,S=d.length;_<S;_++){let R=document.createElement("span"),D=d[_];D===!0?(R.textContent="true",R.className="type-boolean"):D===!1?(R.textContent="false",R.className="type-boolean"):D===null?(R.textContent="null",R.className="type-null"):Number.isFinite(D)&&!Number.isNaN(D)?(R.textContent=D+"",R.className="type-number"):(o?t.websiteRegex.test(D)?R.innerHTML=V.sanitize(`<a href="${D}">"${D}"</a>`):R.innerHTML=`"${D}"`:t.websiteRegex.test(D)?R.innerHTML=V.sanitize(`<a href="${D}">"${D}"</a>`):R.textContent=`"${D}"`,R.className="type-string"),_!==0&&(g.innerHTML+=", "),g.appendChild(R)}g.innerHTML+="]",w.appendChild(g),w.appendChild(c),y.appendChild(w)}else g.innerHTML=E.outerHTML+": []",w.appendChild(g),w.appendChild(c),y.appendChild(w),m(d,c);else u.implicitMaps!==void 0&&u.implicitMaps.indexOf(h)>-1?g.innerHTML=E.outerHTML:g.innerHTML=E.outerHTML+": {}",w.appendChild(g),w.appendChild(c),y.appendChild(w),m(d,c);else{l++,g.innerHTML=E.outerHTML+": ";let _=document.createElement("span"),S=d;S===!0?(_.textContent="true",_.className="type-boolean"):S===!1?(_.textContent="false",_.className="type-boolean"):S===null?(_.textContent="null",_.className="type-null"):Number.isFinite(S)&&!Number.isNaN(S)?(_.textContent=S+"",_.className="type-number"):(o?t.websiteRegex.test(S)?_.innerHTML=V.sanitize(`<a href="${S}">"${S}"</a>`):_.innerHTML=`"${S}"`:t.websiteRegex.test(S)?_.innerHTML=V.sanitize(`<a href="${S}">"${S}"</a>`):_.textContent=`"${S}"`,_.className="type-string"),u.implicitNulls===void 0||u.implicitNulls.indexOf(h)==-1?g.appendChild(_):g.innerHTML=g.innerHTML.slice(0,-2),w.appendChild(g),y.appendChild(w)}}}else if(Array.isArray(u))for(var i=0,N=u.length;i<N;i++){let h=document.createElement("ul"),d=document.createElement("code"),c=document.createElement("li");if(typeof u[i]=="object"&&u[i]!==null)if(Array.isArray(u[i]))if(u.damonInlineArrays!==void 0&&u.damonInlineArrays.indexOf(i)>-1){d.innerHTML+="[";for(let g=0,E=u[i].length;g<E;g++){let w=document.createElement("span"),_=u[i][g];_===!0?(w.textContent="true",w.className="type-boolean"):_===!1?(w.textContent="false",w.className="type-boolean"):_===null?(w.textContent="null",w.className="type-null"):Number.isFinite(_)&&!Number.isNaN(_)?(w.textContent=_+"",w.className="type-number"):(o?t.websiteRegex.test(_)?w.innerHTML=V.sanitize(`<a href="${_}">"${_}"</a>`):w.innerHTML=`"${_}"`:t.websiteRegex.test(_)?w.innerHTML=V.sanitize(`<a href="${_}">"${_}"</a>`):w.textContent=`"${_}"`,w.className="type-string"),g!==0&&(d.innerHTML+=", "),d.appendChild(w)}d.innerHTML+="]",c.appendChild(d),c.appendChild(h),y.appendChild(c)}else d.textContent="[]",c.appendChild(d),c.appendChild(h),y.appendChild(c),m(u[i],h);else d.textContent="{}",c.appendChild(d),c.appendChild(h),y.appendChild(c),m(u[i],h);else{l++;let g=u[i];g===!0?(d.textContent="true",d.className="type-boolean"):g===!1?(d.textContent="false",d.className="type-boolean"):g===null?(d.textContent="null",d.className="type-null"):Number.isFinite(g)&&!Number.isNaN(g)?(d.textContent=g+"",d.className="type-number"):(o?t.websiteRegex.test(g)?d.innerHTML=V.sanitize(`<a href="${g}">"${g}"</a>`):d.innerHTML=`"${g}"`:t.websiteRegex.test(g)?d.innerHTML=V.sanitize(`<a href="${g}">"${g}"</a>`):d.textContent=`"${g}"`,d.className="type-string"),c.appendChild(d),c.appendChild(h),y.appendChild(c)}}}}mapToHtmlTable(r,o=!1){let e=this;try{e.parentContext.mapToJSON(r)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var t=0,l=document.createElement("table"),a=document.createElement("thead"),s=document.createElement("tbody"),m=!1,u=0;if(l.className="DAMON-Table",typeof r!="object"||r==null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map)throw new Error("Error List Item number "+t+": @param { {} } list");for(let[y,i]of r){if(typeof i=="object"&&i!==null&&!Array.isArray(i)&&i instanceof Map&&i.constructor===Map)if(y=="0"&&!m){let N=document.createElement("tr");u=i.length;for(let[h,d]of i)if(d===null){let c=document.createElement("th");o?e.websiteRegex.test(h)?c.innerHTML=V.sanitize(`<a href="${h}">${h}</a>`):c.innerHTML=`${h}`:e.websiteRegex.test(h)?c.innerHTML=V.sanitize(`<a href="${h}">${h}</a>`):c.textContent=`${h}`,N.appendChild(c)}else throw new Error("Expected implicit null property, saw otherwise");a.appendChild(N),m=!0}else{if(u==0&&(u=i.length),i.length!=u)throw new Error("Error List Item number "+t+": @param { {} } list");let N=document.createElement("tr");for(let[h,d]of i)if(d===null){let c=document.createElement("td");o?e.websiteRegex.test(h)?c.innerHTML=V.sanitize(`<a href="${h}">${h}</a>`):c.innerHTML=`${h}`:e.websiteRegex.test(h)?c.innerHTML=V.sanitize(`<a href="${h}">${h}</a>`):c.textContent=`${h}`,N.appendChild(c)}else throw new Error("Expected implicit null property, saw otherwise");s.appendChild(N)}else if(typeof i!="object"&&y=="00"){let N=document.createElement("caption");o?N.innerHTML=i:N.textContent=i,l.appendChild(N)}else throw new Error("Error List Item number "+t+": @param { {} } list");t++}return m&&l.appendChild(a),l.appendChild(s),l}mapTreeLeavesToHtmlTable(r,o=!1){let e=this;try{e.parentContext.mapToJSON(r)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var t=0,l=0,a=document.createElement("table"),s=document.createElement("thead"),m=document.createElement("tbody"),u=!1;if(a.className="DAMON-LeavesToTable",typeof r!="object"||r==null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map)throw new Error("Error List Item number "+t+": @param { {} } list");for(let[i,N]of r){if(typeof N=="object"&&!Array.isArray(N)){if(i=="head"&&!u){try{y(N,s)}catch{return}u=!0}else if(i=="body")try{y(N,m)}catch{return}}else if(typeof N!="object"&&i=="caption"){let h=document.createElement("caption");o?h.innerHTML=N:h.textContent=N,a.appendChild(h)}else throw new Error("Error List Item number "+t+": @param { {} } list");t++}return u&&a.appendChild(s),a.appendChild(m),a;function y(i,N,h=0,d=[]){if(typeof N!="object"||N==null)throw new Error("Error List Item number "+t+": @param { {} } list");if(typeof i=="object"&&i!==null&&!Array.isArray(i)&&i instanceof Map&&i.constructor===Map){if(N.tagName=="THEAD")if(Array.from(i.keys()).length==1)if(typeof i.get(Array.from(i.keys())[0])=="object"&&i.get(Array.from(i.keys())[0])!==null)t++,y(i.get(Array.from(i.keys())[0]),N,h+1,d.concat([Array.from(i.keys())[0]]));else throw new Error("Error List Item number "+t+": @param { {} } list");else throw new Error("Error List Item number "+t+": @param { {} } list");else if(N.tagName=="TBODY"){if(Array.from(i.keys()).length==0)throw new Error("Error List Item number "+t+": @param { {} } list");for(let[c,g]of i)if(typeof g=="object"&&g!==null)t++,y(g,N,h+1,d.concat([c]));else throw new Error("Error List Item number "+t+": @param { {} } list")}}else if(Array.isArray(i)){if(N.tagName=="THEAD")if(i.length==1){t++,l=h;let c=document.createElement("tr");d.push(i[0]);for(let g=0,E=d.length;g<E;g++){let w=document.createElement("th");o?w.innerHTML=d[g]:w.textContent=d[g],c.appendChild(w)}N.appendChild(c)}else throw new Error("Error List Item number "+t+": @param { {} } list");else if(N.tagName=="TBODY")if(h==l){if(i.length==0)throw new Error("Error List Item number "+t+": @param { {} } list");for(let c=0,g=i.length;c<g;c++){t++;let E=document.createElement("tr");for(let _=0,S=d.length;_<S;_++){let R=document.createElement("td");o?R.innerHTML=d[_]:R.textContent=d[_],E.appendChild(R)}let w=document.createElement("td");o?w.innerHTML=i[c]:w.textContent=i[c],w.textContent=i[c],E.appendChild(w),N.appendChild(E)}}else throw new Error("Error List Item number "+t+": @param { {} } list")}}}htmlToJSON(r){let o=this;var e=0;if(r.firstElementChild.textContent=="{}")return o._mapToJSON(t(tree,new Map));if(r.firstElementChild.textContent=="[]")return o._mapToJSON(t(tree,[]));function t(l,a){if(typeof l!="object"||l==null||Array.isArray(l))throw new Error("Error List Item number "+e+": @param { {} } list");if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map){for(let s=0,m=l.children.length;s<m;s++)if(e++,l.children[s].tagName=="LI")if(l.children[s].firstElementChild.tagName=="CODE")if(l.children[s].firstElementChild.innerHTML.length){let u=l.children[s].firstElementChild.innerHTML.trim();if(u[u.length-1]==":"&&u.length>1){let y=l.children[s].children[1];if(y.tagName=="UL"&&y.firstElementChild.tagName=="LI"&&y.children.length==1&&y.firstElementChild.firstElementChild.tagName=="CODE"){e++;let i=y.firstElementChild.firstElementChild.textContent.trim();i=="true"?a.set(u.slice(0,-1),!0):i=="false"?a.set(u.slice(0,-1),!1):i=="null"?a.set(u.slice(0,-1),null):isFinite(i)&&!isNaN(parseFloat(i))?a.set(u.slice(0,-1),i*1):a.set(u.slice(0,-1),i)}else throw new Error("Error List Item number "+e+": not DAMON-compliant.")}else if(u[u.length-4]==":"&&u.length>4){if(u.slice(-3)==" []")if(a.set(u.slice(0,-4),[]),l.children[s].children[1].tagName=="UL")t(l.children[s].children[1],a.get(u.slice(0,-4)));else throw new Error("Error List Item number "+e+": not DAMON-compliant.");else if(u.slice(-3)==" {}")if(a.set(u.slice(0,-4),new Map),l.children[s].children[1].tagName=="UL")t(l.children[s].children[1],a.get(u.slice(0,-4)));else throw new Error("Error List Item number "+e+": not DAMON-compliant.")}else throw new Error("Error List Item number "+e+": map items need a key")}else throw new Error("Error List Item number "+e+": empty node.");else throw new Error("Error List Item number "+e+": not DAMON-compliant.")}else if(Array.isArray(a)){for(let s=0,m=l.children.length;s<m;s++)if(e++,l.children[s].tagName=="LI")if(l.children[s].firstElementChild.tagName=="CODE")if(l.children[s].firstElementChild.innerHTML.length){let u=l.children[s].firstElementChild.innerHTML.trim();if(u[u.length-1]==":"&&u.length>1)throw new Error("Error List Item number "+e+": lists can't have keys.");if(u[u.length-4]==":"&&u.length>4)throw new Error("Error List Item number "+e+": not DAMON-compliant.");if(u=="[]")if(a.push([]),l.children[s].children[1]&&l.children[s].children[1].tagName=="UL")t(l.children[s].children[1],a[a.length-1]);else throw new Error("Error List Item number "+e+": not DAMON-compliant.");else if(u=="{}")if(a.push({}),l.children[s].children[1]&&l.children[s].children[1].tagName=="UL")t(l.children[s].children[1],a[a.length-1]);else throw new Error("Error List Item number "+e+": not DAMON-compliant.");else u=="true"?a.push(!0):u=="false"?a.push(!1):u=="null"?a.push(null):isFinite(u)&&!isNaN(parseFloat(u))?a.push(u*1):a.push(u)}else throw new Error("Error List Item number "+e+": empty node.");else throw new Error("Error List Item number "+e+": not DAMON-compliant.")}else throw new Error("Error List Item number "+e+": @param { {} | [] } jsonMap");return a}}mapsDiff(r,o){let e=this;try{e.parentContext.mapToJSON(r),e.parentContext.mapToJSON(o)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var t="";return Array.isArray(jsonMap)?t+=`- []
`:t+=`- {}
`,l(jsonMap),t.slice(0,-1);function l(a,s=1){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map)for(let[y,i]of a)if(typeof i=="object"&&i!==null)if(Array.isArray(i)){let N=0,h=i.filter(function(d){return d===!0||d===!1?!0:d===null?(N++,!0):typeof d=="string"?!0:!!(isFinite(d)&&!isNaN(parseFloat(d))&&Number.isFinite(d*1)&&!Number.isNaN(d*1))});if(i.length==h.length&&s*4+2+i.join(", ").length+N*4<=80){let d="["+i.map(c=>JSON.stringify(c)).join(", ")+"]";t+="    ".repeat(s)+"- "+JSON.stringify(y).slice(1,-1)+": "+d+`
`}else t+="    ".repeat(s)+"- "+JSON.stringify(y).slice(1,-1)+`: []
`,l(i,s+1)}else t+="    ".repeat(s)+"- "+JSON.stringify(y).slice(1,-1)+`: {}
`,l(i,s+1);else t+="    ".repeat(s)+"- "+JSON.stringify(y).slice(1,-1)+": ",i===!0?t+=`true
`:i===!1?t+=`false
`:i===null?t+=`null
`:Number.isFinite(i)&&!Number.isNaN(i)?t+=i+`
`:t+=`${JSON.stringify(i)}
`;else if(Array.isArray(a))for(var m=0,u=a.length;m<u;m++)if(typeof a[m]=="object"&&a[m]!==null)if(Array.isArray(a[m])){let y=0,i=a[m].filter(function(N){return N===!0||N===!1?!0:N===null?(y++,!0):typeof N=="string"?!0:!!(isFinite(N)&&!isNaN(parseFloat(N))&&Number.isFinite(N*1)&&!Number.isNaN(N*1))});if(a[m].length==i.length&&s*4+2+a[m].join(", ").length+y*4<=80){let N="["+a[m].map(h=>JSON.stringify(h)).join(", ")+"]";t+="    ".repeat(s)+"- "+N+`
`}else t+="    ".repeat(s)+`- []
`,l(a[m],s+1)}else t+="    ".repeat(s)+`- {}
`,l(a[m],s+1);else a[m]===!0?t+="    ".repeat(s)+`- true
`:a[m]===!1?t+="    ".repeat(s)+`- false
`:a[m]===null?t+="    ".repeat(s)+`- null
`:Number.isFinite(a[m])&&!Number.isNaN(a[m])?t+="    ".repeat(s)+"- "+a[m]+`
`:t+="    ".repeat(s)+`- ${JSON.stringify(a[m])}
`}}}});var Tr=Ae((Cn,Sr)=>{var wr=Or().parse,_n=Ar();Sr.exports=class{constructor(r=!1){let o=this;if(this.indentation=4,[!0,!1,void 0].indexOf(r)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=r,this.utils=new _n(this)}template(r){let o=this;var e=r.raw[0];for(let l=1;l<r.raw.length;l++)typeof arguments[l]=="string"?e+='"'+arguments[l]+'"':e+=arguments[l],e+=r.raw[l];return o._treeToMap(o._damonToTree(e))}damonToMap(r){let o=this,e=o._damonToTree(r);return e===!0||e===!1||e===null||typeof e=="string"||typeof e=="number"?e:o._treeToMap(o._damonToTree(r))}damonToJSON(r){let o=this;return o.mapToJSON(o.damonToMap(r))}damonToSExpression(r){let o=this;return o.implicitMapToSExpression(o.damonToMap(r))}jsonToDamon(r){let o=this;return o.mapToDamon(o.jsonToMap(r),!1)}jsonToMap(r){var e=this._getLines(r,"JSON");if(e=e.filter(t=>!/^ *\/\//.test(t)),e=e.filter(t=>t!=""),e=e.filter(t=>!/^[ \t]+$/.test(t)),e.length==1){if(["true","false","null"].indexOf(e[0].trim())>-1)return JSON.parse(e[0]);if(/^".*"$/.test(e[0].trim()))try{return JSON.parse(e[0].trim())}catch(t){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),t.line=1,t.language="JSON",t.type="string",t}else if(isFinite(e[0])&&!isNaN(parseFloat(e[0]))&&Number.isFinite(e[0]*1)&&!Number.isNaN(e[0]*1)){if(e[0].indexOf(0)==0&&e[0].length>1&&e[0].indexOf(".")!==1){let t=new Error("Error line number 1: leading 0");throw t.line=1,t.language="DAMON",t}try{return JSON.parse(e[0]*1)}catch(t){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),t.line=1,t.language="JSON",t.type="number",t}}else if(e[0]*1===1/0)try{JSON.parse(e[0]*1)}catch(t){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),t.line=1,t.language="JSON",t.type="infinity",t}else return wr(r)}else return wr(r)}_getLines(r,o="DAMON"){if(["DAMON","JSON"].indexOf(o)==-1)throw new Error("Bad language argument, expected 'DAMON' or 'JSON'");if(r===""){let l=new Error("Error line 1: empty string");throw l.line=1,l.language=o,l}if(/[\s]/.test(r)&&r.match(new RegExp(/[\s]/))[0].length==r.length){let l=new Error("Error line 1: string only contains whitespace");throw l.line=1,l.language=o,l}var e=/\r\n/.test(r)?`\r
`:`
`,t=r.split(e);if(/\\*\n/.test(r)&&e==`
`){if(/[^\\]\\(\\\\)*\n/.test(r)){let s=r.split(/[^\\]\\(\\\\)*\n/)[0].split(`
`).length,m=new Error("Error line "+s+": oddly escaped newline");throw m.line=s,m.language=o,m}t=r.split("").reverse().join("").split(/\n/).map(s=>s.split("").reverse().join("")).reverse()}return t}_damonToTree(r){let o=this,e=o._getLines(r),t=e.slice(0);if(e=e.filter(c=>!/^ *\/\//.test(c)),e=e.filter(c=>c!=""),e=e.filter(c=>!/^[ \t]+$/.test(c)),e.length==1){if(["true","false","null"].indexOf(e[0].trim())>-1)return JSON.parse(e[0]);if(/^".*"$/.test(e[0].trim()))try{return JSON.parse(e[0].trim())}catch(c){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),c.line=1,c.language="JSON",c.type="string",c}else if(isFinite(e[0])&&!isNaN(parseFloat(e[0]))&&Number.isFinite(e[0]*1)&&!Number.isNaN(e[0]*1)){if(e[0].indexOf(0)==0&&e[0].length>1&&e[0].indexOf(".")!==1){let c=new Error("Error line number 1: leading 0");throw c.line=1,c.language="DAMON",c}try{return JSON.parse(e[0]*1)}catch(c){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),c.line=1,c.language="JSON",c.type="number",c}}else if(e[0]*1===1/0)try{JSON.parse(e[0]*1)}catch(c){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),c.line=1,c.language="JSON",c.type="infinity",c}}let l=0,a=[];for(let c=0,g=t.length;c<g;c++)e.slice(l).indexOf(t[c])>-1?a[c]=e.slice(l).indexOf(t[c]):a[c]=null;let s=new RegExp("^(	)+");for(let c=0,g=e.length;c<g;c++){if(s.test(e[c])){let E=e[c].match(s)[0].length;for(let w=0,_=E;w<_;w++)e[c]=e[c].replace("	"," ".repeat(o.indentation))}if(!/^ *- $/.test(e[c])&&/[ \t]+$/.test(e[c])){let E=new Error("Error line "+(a.indexOf(c)+1)+": trailing whitespace");throw E.line=a.indexOf(c)+1,E.language="DAMON",E}}let m=new RegExp("^("+" ".repeat(o.indentation)+")+");if(m.test(e[0])){let c=e[0].match(m)[0].length,g=!0;for(let E=0,w=e.length;E<w;E++)m.test(e[E])&&e[E].match(m)[0].length>=c?e[E]=e[E].slice(c):g=!1;if(!g){let E=new Error("Error line 1: bad formatting");throw E.line=1,E.language="DAMON",E}}else if(m.test(e[1])&&e[1].match(m)[0].length>o.indentation){let c=e[1].match(m)[0].length-o.indentation,g=!0;for(let E=1,w=e.length;E<w;E++)m.test(e[E])&&e[E].match(m)[0].length>=c?e[E]=e[E].slice(c):g=!1;if(!g){let E=new Error("Error line 2: bad formatting");throw E.line=2,E.language="DAMON",E}}let u=!1;if(e.length>1)for(let c=0,g=e.length;c<g;c++)c!==0&&/^- /.test(e[c])&&(u=!0);if(!/^- \{\}$/.test(e[0])&&!/^- \[\]$/.test(e[0])&&(u=!0),u){for(let c=0,g=e.length;c<g;c++)e[c]=" ".repeat(o.indentation)+e[c];e.unshift("- {}")}var y={content:e[0],level:0,id:0,children:[],headless:u,damonOriginalLinesMapping:a},i=y;if(!/^- /.test(e[0].trimStart())||/^ +/.test(e[0])&&(e[0].match(/^ +/)[0].length%o.indentation!=0||e[0].match(/^ +/)[0].length!=o.indentation)){let c=new Error("Error line "+(u*1+1)+": bad formatting");throw c.line=u*1+1,c.language="DAMON",c}e.shift();for(let c=0,g=e.length;c<g;c++){if(!/^- /.test(e[c].trimStart())||/^ +/.test(e[c])&&(e[c].match(/^ +/)[0].length%o.indentation!=0||c==0&&e[c].match(/^ +/)[0].length!=o.indentation||c!=0&&/^- /.test(e[c-1])&&e[c].match(/^ +/)[0].length!=o.indentation||c!=0&&!/^- /.test(e[c-1])&&e[c].match(/^ +/)[0].length>e[c-1].match(/^ +/)[0].length+o.indentation)){console.log(e[c]);let w=new Error("Error line "+(a.indexOf(c)+1)+": bad formatting");throw w.line=a.indexOf(c)+1,w.language="DAMON",w}let E={content:e[c].trimStart().slice(2),level:1+e[c].match(/^ +/)[0].length/o.indentation,id:"",children:[]};if(i===y)E.id=y.children.length+1,y.children.push(E);else if(i.level===E.level){var N=o._findListItemCommonDirectParent(i,y);N.level==0?E.id=N.children.length+1:E.id=N.id+"-"+(N.children.length+1),N.children.push(E)}else if(i.level>E.level){var h=o._findListItemCommonAncestor(i,y,E.level);h.level==0?E.id=h.children.length+1:E.id=h.id+"-"+(h.children.length+1),h.children.push(E)}else if(i.level<E.level){var d=o._findListItemCommonDirectParent(i,y);let w=d.children.indexOf(i),_=d.children[w].id,S=d.children[w].children.length+1;E.id=_+"-"+S,d.children[w].children.push(E)}i=E}return y}_findListItemCommonDirectParent(r,o){let e=this;if(o.children.indexOf(r)>-1)return o;var t;for(let l=o.children.length-1,a=0;l>=a;l--)if(t=e._findListItemCommonDirectParent(r,o.children[l]),t)return t}_findListItemCommonAncestor(r,o,e){let t=this;var l=t._findListItemCommonDirectParent(r,o);return l.level<e?l:t._findListItemCommonAncestor(l,o,e)}_treeToMap(r){let o=this;var e=0;if(r.content=="- {}"){let s=new Map;return s.damonOriginalLinesMapping=r.damonOriginalLinesMapping,t(r,s)}else if(r.content=="- []"){let s=[];return s.damonOriginalLinesMapping=r.damonOriginalLinesMapping,t(r,s)}else{let s=new Map;return s.damonOriginalLinesMapping=r.damonOriginalLinesMapping,r.headless&&(s.headless=!0),t(r,s)}function t(s,m){if(typeof s!="object"||s==null||Array.isArray(s)){let u=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,y=new Error("Error line number "+u+": @param { {} } tree");throw y.line=u,y.language="DAMON",y}if(typeof m=="object"&&m!==null&&!Array.isArray(m)&&m instanceof Map&&m.constructor===Map)l(s,m);else if(Array.isArray(m))a(s,m);else{let u=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,y=new Error("Error line number "+u+": @param { {} | [] } jsonMap");throw y.line=u,y.language="DAMON",y}return m}function l(s,m){for(let u=0,y=s.children.length;u<y;u++)if(e++,s.children[u].content.length==0){let i="";s.children[u].children.length>0?(i="implicit map key",m.set("",new Map),m.implicitMaps===void 0&&(m.implicitMaps=[]),m.implicitMaps.push(""),t(s.children[u],m.get(""))):(i="implicit null key",m.set("",null),m.implicitNulls===void 0&&(m.implicitNulls=[]),m.implicitNulls.push(""))}else{let i=s.children[u].content,N="key";try{if(/^.*: +\[/.test(i)&&i[i.length-1]=="]")if(/: +\[ *\]$/.test(i)){let h=JSON.parse(`["${i.slice(0,-1*i.match(/: +\[ *\]$/)[0].length)}"]`)[0];m.set(h,[]),s.children[u].children.length>0&&t(s.children[u],m.get(h))}else{let h=new RegExp(/: +\[/g),d=i.slice(0,-1).split(h),c=i.match(h).concat([""]),g=d.map((S,R)=>S+c[R]),E="",w=[];for(let S=0,R=d.length;S<R;S++)try{let D;if(S==0?D=d[0]:D=g.slice(0,S).join("")+d[S],E=JSON.parse(`["${D}"]`)[0],N="list",w=JSON.parse(`[${g.slice(S+1).join("")}]`),Array.isArray(w))break}catch{if(S==R-2){let O=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,n=new Error("Error line number "+O+": invalid inline list");throw n.line=O,n.language="DAMON",n}}if(w.every(function(S){return S===!0||S===!1||S===null||typeof S=="string"?!0:!!(isFinite(S)&&!isNaN(parseFloat(S))&&Number.isFinite(S*1)&&!Number.isNaN(S*1))}))m.set(E,w),m.damonInlineArrays===void 0&&(m.damonInlineArrays=[]),m.damonInlineArrays.push(E);else{let S=+(r.headless*-1)+r.damonOriginalLinesMapping.indexOf(e-1)+2,R=new Error("Error line number "+S+": no nesting in inline lists");throw R.line=S,R.language="DAMON",R}if(s.children[u].children.length>0){let S=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+3,R=new Error("Error line number "+S+": inline lists can't have children");throw R.line=S,R.language="DAMON",R}}else if(/: +\{ *\}$/.test(i)){let h=JSON.parse(`["${i.slice(0,-1*i.match(/: +\{ *\}$/)[0].length)}"]`)[0];m.set(h,new Map),t(s.children[u],m.get(h))}else{let h=!1;if(/^.*: /.test(i)&&i.split(new RegExp(/: +/))[i.split(new RegExp(/: +/)).length-1]==="true"){let d=i.match(new RegExp(/: +/g))[i.match(new RegExp(/: +/g)).length-1],c=JSON.parse(`["${i.slice(0,-1*d.length-4)}"]`)[0];m.set(c,!0)}else if(/^.*: /.test(i)&&i.split(new RegExp(/: +/))[i.split(new RegExp(/: +/)).length-1]==="false"){let d=i.match(new RegExp(/: +/g))[i.match(new RegExp(/: +/g)).length-1],c=JSON.parse(`["${i.slice(0,-1*d.length-5)}"]`)[0];m.set(c,!1)}else if(/^.*: /.test(i)&&i.split(new RegExp(/: +/))[i.split(new RegExp(/: +/)).length-1]==="null"){let d=i.match(new RegExp(/: +/g))[i.match(new RegExp(/: +/g)).length-1],c=JSON.parse(`["${i.slice(0,-1*d.length-4)}"]`)[0];m.set(c,null)}else if(/^.*: +"/.test(i)&&i[i.length-1]=='"'){let d=i.match(new RegExp(/: +"/g));if(d.length==1){let c=JSON.parse(`["${i.split(d[0])[0]}"]`)[0];N="string";let g=JSON.parse(`["${i.split(d[0]).slice(1).join("").slice(0,-1)}"]`)[0];m.set(c,g)}else if(d.length==2&&/: +"$/.test(i)){let c=JSON.parse(`["${i.split(d[0])[0]}"]`)[0];N="string";let g=JSON.parse(`["${i.split(d[0]).slice(1).join("")+": "}"]`)[0];m.set(c,g)}else{let c=+(r.headless*-1)+r.damonOriginalLinesMapping.indexOf(e-1)+2,g=new Error("Error line number "+c+": unescaped double quote");throw g.line=c,g.language="DAMON",g}}else if(/^.*: /.test(i)&&isFinite(i.split(": ")[i.split(": ").length-1])&&!isNaN(parseFloat(i.split(": ")[i.split(": ").length-1]))&&Number.isFinite(i.split(": ")[i.split(": ").length-1]*1)&&!Number.isNaN(i.split(": ")[i.split(": ").length-1]*1)){let d=JSON.parse(`["${i.split(": ").slice(0,-1).join(": ")}"]`)[0];N="number";let c=i.match(new RegExp(/: +/g)),g=c[c.length-1],E=i.split(g)[i.split(g).length-1];if(E.indexOf(0)==0&&E.length>1&&E.indexOf(".")!==1){let _=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,S=new Error("Error line number "+_+": leading 0");throw S.line=_,S.language="DAMON",S}let w=JSON.parse(`[${i.split(": ")[i.split(": ").length-1]*1}]`)[0];m.set(d,w)}else if(/^.*: /.test(i)&&i.split(new RegExp(/: +/))[i.split(new RegExp(/: +/)).length-1]*1===1/0){let d=JSON.parse(`["${i.split(": ").slice(0,-1).join(": ")}"]`)[0];N="infinity";let c=JSON.parse(`[${i.split(": ")[i.split(": ").length-1]*1}]`)}else{let d=!1,c=0;if(/\[ *\]$/.test(i)&&(d=!0,c=i.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(i)&&(d=!0,c=i.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(i)&&(d=!0,c=4),/false$/.test(i)&&(d=!0,c=5),/null$/.test(i)&&(d=!0,c=4),/".*"$/.test(i)&&(d=!0,c=i.match(new RegExp(/".*"$/g))[0].length),!d){let g="";for(let E=i.length-1;E>-1&&(g=i[E].concat(g),isFinite(g)&&!isNaN(parseFloat(g))&&Number.isFinite(g*1)&&!Number.isNaN(g*1));E--){if(!/[ \t]/.test(i[E]))break;d=!0,c=g.length}}if(d)if(JSON.parse(`["${i.slice(0,-1*c)}"]`)[0],o.pedantic){let g=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e),E=new Error("Error line number "+g+": missing separator");throw E.line=g,E.language="DAMON",E.errorType="pedantic",E}else if(h=!0,s.children[u].children.length>0){N="implicit map key";let g=JSON.parse(`["${i}"]`)[0];m.set(g,new Map),m.implicitMaps===void 0&&(m.implicitMaps=[]),m.implicitMaps.push(g),t(s.children[u],m.get(g))}else{N="implicit null key";let g=JSON.parse(`["${i}"]`)[0];m.set(g,null),m.implicitNulls===void 0&&(m.implicitNulls=[]),m.implicitNulls.push(g)}else{let g=JSON.parse(`["${i.slice(0,-1*c)}"]`)[0];if(o.pedantic)if(/: +$/.test(g)){let E=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e),w=new Error("Error line number "+E+": bad value");throw w.line=E,w.language="DAMON",w.errorType="pedantic",w}else{let E=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e),w=new Error("Error line number "+E+": missing separator");throw w.line=E,w.language="DAMON",w.errorType="pedantic",w}else if(h=!0,s.children[u].children.length>0){N="implicit map key";let E=JSON.parse(`["${i}"]`)[0];m.set(E,new Map),m.implicitMaps===void 0&&(m.implicitMaps=[]),m.implicitMaps.push(E),t(s.children[u],m.get(E))}else{N="implicit null key";let E=JSON.parse(`["${i}"]`)[0];m.set(E,null),m.implicitNulls===void 0&&(m.implicitNulls=[]),m.implicitNulls.push(E)}}}if(!h&&s.children[u].children.length>0){let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+3,c=new Error("Error line number "+d+": missing container or excess indentation");throw c.line=d,c.language="DAMON",c}}}catch(h){if(h.language===void 0){let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2;console.error("Error line number "+d+": not JSON-compliant, detailed error follows"),h.line=d,h.language="JSON",h.type=N}throw h}}}function a(s,m){for(let u=0,y=s.children.length;u<y;u++)if(e++,s.children[u].content.length){let i=s.children[u].content;if(/^[ \t]*\[/.test(i)&&i[i.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(i))m.push([]),t(s.children[u],m[m.length-1]);else{let N;try{N=JSON.parse(i)}catch{let c=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,g=new Error("Error line number "+c+": invalid inline lists");throw g.line=c,g.language="JSON",g.type="list",g}if(N.every(function(d){return d===!0||d===!1||d===null||typeof d=="string"?!0:!!(isFinite(d)&&!isNaN(parseFloat(d))&&Number.isFinite(d*1)&&!Number.isNaN(d*1))}))m.push(N),m.damonInlineArrays===void 0&&(m.damonInlineArrays=[]),m.damonInlineArrays.push(u);else{let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,c=new Error("Error line number "+d+": no nesting in inline lists");throw c.line=d,c.language="DAMON",c}if(s.children[u].children.length>0){let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+3,c=new Error("Error line number "+d+": inline lists can't have children");throw c.line=d,c.language="DAMON",c}}else if(/^[ \t]*\{\}$/.test(i))m.push(new Map),t(s.children[u],m[m.length-1]);else if(/^[ \t]*true$/.test(i))m.push(!0);else if(/^[ \t]*false$/.test(i))m.push(!1);else if(/^[ \t]*null$/.test(i))m.push(null);else if(/^[ \t]*".*"$/.test(i))try{m.push(JSON.parse(`[${i.trimStart()}]`)[0])}catch(N){let h=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2;throw console.error("Error line number "+h+": not JSON-compliant, detailed error follows"),N.line=h,N.language="JSON",N.type="string",N}else if(isFinite(i)&&!isNaN(parseFloat(i))&&Number.isFinite(i*1)&&!Number.isNaN(i*1)){if(i.indexOf(0)==0&&i.length>1&&i.indexOf(".")!==1){let N=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,h=new Error("Error line number "+N+": leading 0");throw h.line=N,h.language="DAMON",h}try{m.push(JSON.parse(`[${i*1}]`)[0])}catch(N){let h=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2;throw console.error("Error line number "+h+": not JSON-compliant, detailed error follows"),N.line=h,N.language="JSON",N.type="number",N}}else if(i*1===1/0)try{JSON.parse(i*1)}catch(N){let h=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2;throw console.error("Error line number "+h+": not JSON-compliant, detailed error follows"),N.line=h,N.language="JSON",N.type="infinity",N}else{let N=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,h=new Error("Error line number "+N+": list items can't have a key");throw h.line=N,h.language="DAMON",h}}else{let i=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,N=new Error("Error line number "+i+": empty list node");throw N.line=i,N.language="DAMON",N}}}mapToDamon(r,o){let e=this;var t="";if(Array.isArray(r))t+=`- []
`;else if(typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map)t+=`- {}
`;else return typeof r=="string"&&(r='"'+r+'"'),JSON.parse(r),r;return l(r),e.damonToMap(t.slice(0,-1)),t.slice(0,-1);function l(a,s=1){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map)for(let[y,i]of a)if(typeof i=="object"&&i!==null)if(Array.isArray(i)){let N=0,h=i.filter(function(d){return d===!0||d===!1?!0:d===null?(N++,!0):typeof d=="string"?!0:!!(isFinite(d)&&!isNaN(parseFloat(d))&&Number.isFinite(d*1)&&!Number.isNaN(d*1))});if(i.length==h.length&&s*4+2+i.join(", ").length+N*4<=80||o&&a.damonInlineArrays!==void 0&&a.damonInlineArrays.indexOf(y)>-1){let d="["+i.map(function(c){return typeof c=="string"&&(c=JSON.stringify(c)),c}).join(", ")+"]";t+="    ".repeat(s)+"- "+JSON.stringify(y).slice(1,-1)+": "+d+`
`}else t+="    ".repeat(s)+"- "+JSON.stringify(y).slice(1,-1)+`: []
`,l(i,s+1)}else t+="    ".repeat(s)+"- "+JSON.stringify(y).slice(1,-1)+`: {}
`,l(i,s+1);else t+="    ".repeat(s)+"- "+JSON.stringify(y).slice(1,-1)+": ",i===!0?t+=`true
`:i===!1?t+=`false
`:i===null?t+=`null
`:Number.isFinite(i)&&!Number.isNaN(i)?t+=i+`
`:t+=JSON.stringify(i)+`
`;else if(Array.isArray(a))for(var m=0,u=a.length;m<u;m++)if(typeof a[m]=="object"&&a[m]!==null)if(Array.isArray(a[m])){let y=0,i=a[m].filter(function(N){return N===!0||N===!1?!0:N===null?(y++,!0):typeof N=="string"?!0:!!(isFinite(N)&&!isNaN(parseFloat(N))&&Number.isFinite(N*1)&&!Number.isNaN(N*1))});if(a[m].length==i.length&&s*4+2+a[m].join(", ").length+y*4<=80||o&&a.damonInlineArrays!==void 0&&a.damonInlineArrays.indexOf(m)>-1){let N="["+a[m].map(function(h){return typeof h=="string"&&(h=JSON.stringify(h)),h}).join(", ")+"]";t+="    ".repeat(s)+"- "+N+`
`}else t+="    ".repeat(s)+`- []
`,l(a[m],s+1)}else t+="    ".repeat(s)+`- {}
`,l(a[m],s+1);else a[m]===!0?t+="    ".repeat(s)+`- true
`:a[m]===!1?t+="    ".repeat(s)+`- false
`:a[m]===null?t+="    ".repeat(s)+`- null
`:Number.isFinite(a[m])&&!Number.isNaN(a[m])?t+="    ".repeat(s)+"- "+a[m]+`
`:t+="    ".repeat(s)+"- "+JSON.stringify(a[m])+`
`}}mapToJSON(r){let o=this;var e="";if(Array.isArray(r))return e+=`[\r
`,t(r),e+="]",JSON.parse(e),e;return typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map?(e+=`{\r
`,t(r),e+="}",JSON.parse(e),e):(typeof r=="string"&&(r=JSON.stringify(r)),JSON.parse(r),r);function t(l,a=1){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map)for(let[u,y]of l)typeof y=="object"&&y!==null?Array.isArray(y)?y.length>0?(e+="    ".repeat(a)+`${JSON.stringify(u)}: [\r
`,t(y,a+1),e+="    ".repeat(a)+"]"):e+="    ".repeat(a)+`${JSON.stringify(u)}: []`:Array.from(y.keys()).length>0?(e+="    ".repeat(a)+`${JSON.stringify(u)}: {\r
`,t(y,a+1),e+="    ".repeat(a)+"}"):e+="    ".repeat(a)+`${JSON.stringify(u)}: {}`:y===!0?e+="    ".repeat(a)+`${JSON.stringify(u)}: true`:y===!1?e+="    ".repeat(a)+`${JSON.stringify(u)}: false`:y===null?e+="    ".repeat(a)+`${JSON.stringify(u)}: null`:Number.isFinite(y)&&!Number.isNaN(y)?e+="    ".repeat(a)+`${JSON.stringify(u)}: `+y:e+="    ".repeat(a)+`${JSON.stringify(u)}: `+JSON.stringify(y),u!=Array.from(l.keys())[Array.from(l.keys()).length-1]?e+=`,\r
`:e+=`\r
`;else if(Array.isArray(l))for(var s=0,m=l.length;s<m;s++)typeof l[s]=="object"&&l[s]!==null?Array.isArray(l[s])?l[s].length>0?(e+="    ".repeat(a)+`[\r
`,t(l[s],a+1),e+="    ".repeat(a)+"]"):e+="    ".repeat(a)+"[]":Array.from(l[s].keys()).length>0?(e+="    ".repeat(a)+`{\r
`,t(l[s],a+1),e+="    ".repeat(a)+"}"):e+="    ".repeat(a)+"{}":l[s]===!0?e+="    ".repeat(a)+"true":l[s]===!1?e+="    ".repeat(a)+"false":l[s]===null?e+="    ".repeat(a)+"null":Number.isFinite(l[s])&&!Number.isNaN(l[s])?e+="    ".repeat(a)+l[s]:e+="    ".repeat(a)+JSON.stringify(l[s]),s!=m-1?e+=`,\r
`:e+=`\r
`}}implicitMapToSExpression(r){let o=this;var e="";if(typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map)return e+=`[\r
`,t(r),e+="]",JSON.parse(e),e;return typeof r=="string"&&(r='"'+r+'"'),JSON.parse(r),r;function t(l,a=1){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map){let u=-1;for(let[y,i]of l){if(u++,typeof i=="object"&&i!==null)if(Array.isArray(i))i.length>0?(e+="    ".repeat(a)+`${JSON.stringify(y)}, [\r
`,t(i,a+1),e+="    ".repeat(a)+"]"):e+="    ".repeat(a)+`${JSON.stringify(y)}, []`;else if(Array.from(i.keys()).length>0){if(a==1)if(u==0)e="";else throw new Error("Multiple S-Expression roots");e+="    ".repeat(a)+`[${JSON.stringify(y)}, \r
`,t(i,a+1),a!=1&&(e+="    ".repeat(a)+"]")}else e+="    ".repeat(a)+`${JSON.stringify(y)}, []`;else{if(i===!0)throw new Error("Booleans require quotes");if(i===!1)throw new Error("Booleans require quotes");i===null?e+="    ".repeat(a)+`${JSON.stringify(y)}`:Number.isFinite(i)&&!Number.isNaN(i)?e+="    ".repeat(a)+`${JSON.stringify(y)}, `+i:e+="    ".repeat(a)+`${JSON.stringify(y)}, "${i}"`}y!=Array.from(l.keys())[Array.from(l.keys()).length-1]?e+=`,\r
`:e+=`\r
`}}else if(Array.isArray(l))for(var s=0,m=l.length;s<m;s++){if(typeof l[s]=="object"&&l[s]!==null)Array.isArray(l[s])?l[s].length>0?(e+="    ".repeat(a)+`[\r
`,t(l[s],a+1),e+="    ".repeat(a)+"]"):e+="    ".repeat(a)+"[]":Array.from(l[s].keys()).length>0?(e+="    ".repeat(a)+`[\r
`,t(l[s],a+1),e+="    ".repeat(a)+"]"):e+="    ".repeat(a)+"[]";else{if(l[s]===!0)throw new Error("Booleans require quotes");if(l[s]===!1)throw new Error("Booleans require quotes");if(l[s]===null)throw new Error("Array-nulls require quotes");Number.isFinite(l[s])&&!Number.isNaN(l[s])?e+="    ".repeat(a)+l[s]:e+="    ".repeat(a)+JSON.stringify(l[s])}s!=m-1?e+=`,\r
`:e+=`\r
`}}}getRangeFromPath(r,o){let e=this,t=e.damonToMap(r),l=-1,a=!1;N(t,o),t.headless&&(l-=1);let s=0,m=0;for(let h=0,d=t.damonOriginalLinesMapping.length;h<d;h++)if(t.damonOriginalLinesMapping[h]!==null&&m++,m==l){s=h+1;break}let u=e._getLines(r)[s],y=0,i=u.length;if(o.length==1)typeof o[o.length-1]=="string"?y=u.length-u.trimStart().slice(2+o[o.length-1].length+2).trimStart().length:y=u.length-u.trimStart().slice(2).length;else if(typeof o[o.length-2]=="string")if(typeof o[o.length-1]=="string")y=u.length-u.trimStart().slice(2+o[o.length-1].length+2).trimStart().length;else if(u[u.length-1]=="]"&&!/\[ *\]$/.test(u)){let h=u.trimStart().slice(2+o[o.length-2].length+2),d=JSON.parse(h),c=d.slice(0,o[o.length-1].length).reduce((w,_)=>w+(_===d[o[o.length-1]]),0),g=0,E=d[o[o.length-1]];typeof E=="string"&&(E='"'+E+'"');for(let w=0,_=c+1;w<_;w++)g=h.indexOf(E,g);y=u.length-h.length+g,i=y+E.length}else y=u.length-u.trimStart().slice(2).length;else if(typeof o[o.length-1]=="string")y=u.length-u.trimStart().slice(2+o[o.length-1].length+2).trimStart().length;else if(u[u.length-1]=="]"&&!/\[ *\]$/.test(u)){let h=u.trimStart().slice(2),d=JSON.parse(h),c=d.slice(0,o[o.length-1]).reduce((w,_)=>w+(_===d[o[o.length-1]]),0),g=0,E=d[o[o.length-1]];typeof E=="string"&&(E='"'+E+'"');for(let w=0,_=c+1;w<_;w++)g=h.indexOf(E,g);y=u.length-h.length+g,i=y+E.length}else y=u.length-u.trimStart().slice(2).length;return[[s,y],[s,i]];function N(h,d,c=[]){if(a!=!0)if(l+=1,typeof h=="object"&&h!==null&&!Array.isArray(h)&&h instanceof Map&&h.constructor===Map)for(let[g,E]of h){if(l+=1,JSON.stringify(d)===JSON.stringify(c.concat([g]))){a=!0;return}typeof E=="object"&&E!==null&&!Array.isArray(E)&&E instanceof Map&&E.constructor===Map&&Array.from(E.keys()).length?(l-=1,N(E,d,c.concat([g]))):Array.isArray(E)&&(h.damonInlineArrays==null||h.damonInlineArrays.indexOf(g)===-1)&&E.length&&(l-=1,N(E,d,c.concat([g])))}else for(let g=0,E=h.length;g<E;g++){if(l+=1,JSON.stringify(d)===JSON.stringify(c.concat([g]))){a=!0;return}typeof h[g]=="object"&&h[g]!==null&&!Array.isArray(h[g])&&h[g]instanceof Map&&h[g].constructor===Map&&Array.from(h[g].keys()).length?(l-=1,N(h[g],d,c.concat([g]))):Array.isArray(h[g])&&(h.damonInlineArrays==null||h.damonInlineArrays.indexOf(g)===-1)&&h[g].length&&(l-=1,N(h[g],d,c.concat([g])))}}}}});(function(){window.Damon=Tr()})();})();
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE *)
*/
