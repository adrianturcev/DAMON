(()=>{var Qe=Object.defineProperty;var an=Object.getOwnPropertyDescriptor;var fn=Object.getOwnPropertyNames;var cn=Object.prototype.hasOwnProperty;var un=(f=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(f,{get:(t,i)=>(typeof require<"u"?require:t)[i]}):f)(function(f){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+f+'" is not supported')});var pn=(f,t)=>()=>(f&&(t=f(f=0)),t);var Ae=(f,t)=>()=>(t||f((t={exports:{}}).exports,t),t.exports),dn=(f,t)=>{for(var i in t)Qe(f,i,{get:t[i],enumerable:!0})},hn=(f,t,i,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of fn(t))!cn.call(f,r)&&r!==i&&Qe(f,r,{get:()=>t[r],enumerable:!(e=an(t,r))||e.enumerable});return f};var mn=f=>hn(Qe({},"__esModule",{value:!0}),f);var gr={};dn(gr,{__addDisposableResource:()=>dr,__assign:()=>ve,__asyncDelegator:()=>lr,__asyncGenerator:()=>ir,__asyncValues:()=>sr,__await:()=>pe,__awaiter:()=>Qt,__classPrivateFieldGet:()=>cr,__classPrivateFieldIn:()=>pr,__classPrivateFieldSet:()=>ur,__createBinding:()=>Pe,__decorate:()=>Wt,__disposeResources:()=>hr,__esDecorate:()=>qt,__exportStar:()=>er,__extends:()=>Gt,__generator:()=>jt,__importDefault:()=>fr,__importStar:()=>ar,__makeTemplateObject:()=>or,__metadata:()=>Zt,__param:()=>Yt,__propKey:()=>Xt,__read:()=>tt,__rest:()=>zt,__rewriteRelativeImportExtension:()=>mr,__runInitializers:()=>Vt,__setFunctionName:()=>Kt,__spread:()=>tr,__spreadArray:()=>nr,__spreadArrays:()=>rr,__values:()=>ke,default:()=>En});function Gt(f,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");je(f,t);function i(){this.constructor=f}f.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function zt(f,t){var i={};for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&t.indexOf(e)<0&&(i[e]=f[e]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(f);r<e.length;r++)t.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(f,e[r])&&(i[e[r]]=f[e[r]]);return i}function Wt(f,t,i,e){var r=arguments.length,s=r<3?t:e===null?e=Object.getOwnPropertyDescriptor(t,i):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(f,t,i,e);else for(var o=f.length-1;o>=0;o--)(a=f[o])&&(s=(r<3?a(s):r>3?a(t,i,s):a(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}function Yt(f,t){return function(i,e){t(i,e,f)}}function qt(f,t,i,e,r,s){function a(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var o=e.kind,h=o==="getter"?"get":o==="setter"?"set":"value",c=!t&&f?e.static?f:f.prototype:null,y=t||(c?Object.getOwnPropertyDescriptor(c,e.name):{}),l,O=!1,m=i.length-1;m>=0;m--){var d={};for(var p in e)d[p]=p==="access"?{}:e[p];for(var p in e.access)d.access[p]=e.access[p];d.addInitializer=function(N){if(O)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(N||null))};var g=(0,i[m])(o==="accessor"?{get:y.get,set:y.set}:y[h],d);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(l=a(g.get))&&(y.get=l),(l=a(g.set))&&(y.set=l),(l=a(g.init))&&r.unshift(l)}else(l=a(g))&&(o==="field"?r.unshift(l):y[h]=l)}c&&Object.defineProperty(c,e.name,y),O=!0}function Vt(f,t,i){for(var e=arguments.length>2,r=0;r<t.length;r++)i=e?t[r].call(f,i):t[r].call(f);return e?i:void 0}function Xt(f){return typeof f=="symbol"?f:"".concat(f)}function Kt(f,t,i){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(f,"name",{configurable:!0,value:i?"".concat(i," ",t):t})}function Zt(f,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,t)}function Qt(f,t,i,e){function r(s){return s instanceof i?s:new i(function(a){a(s)})}return new(i||(i=Promise))(function(s,a){function o(y){try{c(e.next(y))}catch(l){a(l)}}function h(y){try{c(e.throw(y))}catch(l){a(l)}}function c(y){y.done?s(y.value):r(y.value).then(o,h)}c((e=e.apply(f,t||[])).next())})}function jt(f,t){var i={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},e,r,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(y){return h([c,y])}}function h(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(e=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(s=i.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){i=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){i.label=c[1];break}if(c[0]===6&&i.label<s[1]){i.label=s[1],s=c;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(c);break}s[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(f,i)}catch(y){c=[6,y],r=0}finally{e=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function er(f,t){for(var i in f)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&Pe(t,f,i)}function ke(f){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&f[t],e=0;if(i)return i.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&e>=f.length&&(f=void 0),{value:f&&f[e++],done:!f}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(f,t){var i=typeof Symbol=="function"&&f[Symbol.iterator];if(!i)return f;var e=i.call(f),r,s=[],a;try{for(;(t===void 0||t-- >0)&&!(r=e.next()).done;)s.push(r.value)}catch(o){a={error:o}}finally{try{r&&!r.done&&(i=e.return)&&i.call(e)}finally{if(a)throw a.error}}return s}function tr(){for(var f=[],t=0;t<arguments.length;t++)f=f.concat(tt(arguments[t]));return f}function rr(){for(var f=0,t=0,i=arguments.length;t<i;t++)f+=arguments[t].length;for(var e=Array(f),r=0,t=0;t<i;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,r++)e[r]=s[a];return e}function nr(f,t,i){if(i||arguments.length===2)for(var e=0,r=t.length,s;e<r;e++)(s||!(e in t))&&(s||(s=Array.prototype.slice.call(t,0,e)),s[e]=t[e]);return f.concat(s||Array.prototype.slice.call(t))}function pe(f){return this instanceof pe?(this.v=f,this):new pe(f)}function ir(f,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i.apply(f,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(m){return function(d){return Promise.resolve(d).then(m,l)}}function o(m,d){e[m]&&(r[m]=function(p){return new Promise(function(g,N){s.push([m,p,g,N])>1||h(m,p)})},d&&(r[m]=d(r[m])))}function h(m,d){try{c(e[m](d))}catch(p){O(s[0][3],p)}}function c(m){m.value instanceof pe?Promise.resolve(m.value.v).then(y,l):O(s[0][2],m)}function y(m){h("next",m)}function l(m){h("throw",m)}function O(m,d){m(d),s.shift(),s.length&&h(s[0][0],s[0][1])}}function lr(f){var t,i;return t={},e("next"),e("throw",function(r){throw r}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(r,s){t[r]=f[r]?function(a){return(i=!i)?{value:pe(f[r](a)),done:!1}:s?s(a):a}:s}}function sr(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=f[Symbol.asyncIterator],i;return t?t.call(f):(f=typeof ke=="function"?ke(f):f[Symbol.iterator](),i={},e("next"),e("throw"),e("return"),i[Symbol.asyncIterator]=function(){return this},i);function e(s){i[s]=f[s]&&function(a){return new Promise(function(o,h){a=f[s](a),r(o,h,a.done,a.value)})}}function r(s,a,o,h){Promise.resolve(h).then(function(c){s({value:c,done:o})},a)}}function or(f,t){return Object.defineProperty?Object.defineProperty(f,"raw",{value:t}):f.raw=t,f}function ar(f){if(f&&f.__esModule)return f;var t={};if(f!=null)for(var i=et(f),e=0;e<i.length;e++)i[e]!=="default"&&Pe(t,f,i[e]);return gn(t,f),t}function fr(f){return f&&f.__esModule?f:{default:f}}function cr(f,t,i,e){if(i==="a"&&!e)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?f!==t||!e:!t.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?e:i==="a"?e.call(f):e?e.value:t.get(f)}function ur(f,t,i,e,r){if(e==="m")throw new TypeError("Private method is not writable");if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?f!==t||!r:!t.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e==="a"?r.call(f,i):r?r.value=i:t.set(f,i),i}function pr(f,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof f=="function"?t===f:f.has(t)}function dr(f,t,i){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var e,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");e=t[Symbol.asyncDispose]}if(e===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");e=t[Symbol.dispose],i&&(r=e)}if(typeof e!="function")throw new TypeError("Object not disposable.");r&&(e=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),f.stack.push({value:t,dispose:e,async:i})}else i&&f.stack.push({async:!0});return t}function hr(f){function t(s){f.error=f.hasError?new yn(s,f.error,"An error was suppressed during disposal."):s,f.hasError=!0}var i,e=0;function r(){for(;i=f.stack.pop();)try{if(!i.async&&e===1)return e=0,f.stack.push(i),Promise.resolve().then(r);if(i.dispose){var s=i.dispose.call(i.value);if(i.async)return e|=2,Promise.resolve(s).then(r,function(a){return t(a),r()})}else e|=1}catch(a){t(a)}if(e===1)return f.hasError?Promise.reject(f.error):Promise.resolve();if(f.hasError)throw f.error}return r()}function mr(f,t){return typeof f=="string"&&/^\.\.?\//.test(f)?f.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,e,r,s,a){return e?t?".jsx":".js":r&&(!s||!a)?i:r+s+"."+a.toLowerCase()+"js"}):f}var je,ve,Pe,gn,et,yn,En,yr=pn(()=>{je=function(f,t){return je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])},je(f,t)};ve=function(){return ve=Object.assign||function(t){for(var i,e=1,r=arguments.length;e<r;e++){i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},ve.apply(this,arguments)};Pe=Object.create?function(f,t,i,e){e===void 0&&(e=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(f,e,r)}:function(f,t,i,e){e===void 0&&(e=i),f[e]=t[i]};gn=Object.create?function(f,t){Object.defineProperty(f,"default",{enumerable:!0,value:t})}:function(f,t){f.default=t},et=function(f){return et=Object.getOwnPropertyNames||function(t){var i=[];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[i.length]=e);return i},et(f)};yn=typeof SuppressedError=="function"?SuppressedError:function(f,t,i){var e=new Error(i);return e.name="SuppressedError",e.error=f,e.suppressed=t,e};En={__extends:Gt,__assign:ve,__rest:zt,__decorate:Wt,__param:Yt,__esDecorate:qt,__runInitializers:Vt,__propKey:Xt,__setFunctionName:Kt,__metadata:Zt,__awaiter:Qt,__generator:jt,__createBinding:Pe,__exportStar:er,__values:ke,__read:tt,__spread:tr,__spreadArrays:rr,__spreadArray:nr,__await:pe,__asyncGenerator:ir,__asyncDelegator:lr,__asyncValues:sr,__makeTemplateObject:or,__importStar:ar,__importDefault:fr,__classPrivateFieldGet:cr,__classPrivateFieldSet:ur,__classPrivateFieldIn:pr,__addDisposableResource:dr,__disposeResources:hr,__rewriteRelativeImportExtension:mr}});var Er=Ae(rt=>{(function(f){"use strict";var t=typeof process=="object"&&process.env?process.env:self;f.parser=function(E){return new l(E)},f.CParser=l,f.CStream=m,f.createStream=O,f.MAX_BUFFER_LENGTH=64*1024,f.DEBUG=t.CDEBUG==="debug",f.INFO=t.CDEBUG==="debug"||t.CDEBUG==="info",f.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var i={textNode:void 0,numberNode:""},e=f.EVENTS.filter(function(E){return E!=="error"&&E!=="end"}),r=0,s;f.STATE={BEGIN:r++,VALUE:r++,OPEN_OBJECT:r++,CLOSE_OBJECT:r++,OPEN_ARRAY:r++,CLOSE_ARRAY:r++,TEXT_ESCAPE:r++,STRING:r++,BACKSLASH:r++,END:r++,OPEN_KEY:r++,CLOSE_KEY:r++,TRUE:r++,TRUE2:r++,TRUE3:r++,FALSE:r++,FALSE2:r++,FALSE3:r++,FALSE4:r++,NULL:r++,NULL2:r++,NULL3:r++,NUMBER_DECIMAL_POINT:r++,NUMBER_DIGIT:r++};for(var a in f.STATE)f.STATE[f.STATE[a]]=a;r=f.STATE;let o={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(E){function n(){this.__proto__=E}return n.prototype=E,new n}),Object.getPrototypeOf||(Object.getPrototypeOf=function(E){return E.__proto__}),Object.keys||(Object.keys=function(E){var n=[];for(var L in E)E.hasOwnProperty(L)&&n.push(L);return n});function h(E){var n=Math.max(f.MAX_BUFFER_LENGTH,10),L=0;for(var b in i){var $=E[b]===void 0?0:E[b].length;if($>n)switch(b){case"text":closeText(E);break;default:_(E,"Max buffer length exceeded: "+b)}L=Math.max(L,$)}E.bufferCheckPosition=f.MAX_BUFFER_LENGTH-L+E.position}function c(E){for(var n in i)E[n]=i[n]}var y=/[\\"\n]/g;function l(E){if(!(this instanceof l))return new l(E);var n=this;c(n),n.bufferCheckPosition=f.MAX_BUFFER_LENGTH,n.q=n.c=n.p="",n.opt=E||{},n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.state=r.BEGIN,n.stack=new Array,n.position=n.column=0,n.line=1,n.slashed=!1,n.unicodeI=0,n.unicodeS=null,n.depth=0,d(n,"onready")}l.prototype={end:function(){x(this)},write:D,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{s=un("stream").Stream}catch{s=function(){}}function O(E){return new m(E)}function m(E){if(!(this instanceof m))return new m(E);this._parser=new l(E),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var n=this;s.apply(n),this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(L){n.emit("error",L),n._parser.error=null},e.forEach(function(L){Object.defineProperty(n,"on"+L,{get:function(){return n._parser["on"+L]},set:function(b){if(!b)return n.removeAllListeners(L),n._parser["on"+L]=b,b;n.on(L,b)},enumerable:!0,configurable:!1})})}m.prototype=Object.create(s.prototype,{constructor:{value:m}}),m.prototype.write=function(E){E=new Buffer(E);for(var n=0;n<E.length;n++){var L=E[n];if(this.bytes_remaining>0){for(var b=0;b<this.bytes_remaining;b++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+b]=E[b];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,n=n+b-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&L>=128)if(L>=194&&L<=223&&(this.bytes_in_sequence=2),L>=224&&L<=239&&(this.bytes_in_sequence=3),L>=240&&L<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+n>E.length){for(var $=0;$<=E.length-1-n;$++)this.temp_buffs[this.bytes_in_sequence][$]=E[n+$];return this.bytes_remaining=n+this.bytes_in_sequence-E.length,!0}else{this.string=E.slice(n,n+this.bytes_in_sequence).toString(),n=n+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var X=n;X<E.length&&!(E[X]>=128);X++);this.string=E.slice(n,X).toString(),this._parser.write(this.string),this.emit("data",this.string),n=X-1}},m.prototype.end=function(E){return E&&E.length&&this._parser.write(E.toString()),this._parser.end(),!0},m.prototype.on=function(E,n){var L=this;return!L._parser["on"+E]&&e.indexOf(E)!==-1&&(L._parser["on"+E]=function(){var b=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,E),L.emit.apply(L,b)}),s.prototype.on.call(L,E,n)},m.prototype.destroy=function(){c(this._parser),this.emit("close")};function d(E,n,L){f.INFO&&console.log("-- emit",n,L),E[n]&&E[n](L)}function p(E,n,L){g(E),d(E,n,L)}function g(E,n){E.textNode=w(E.opt,E.textNode),E.textNode!==void 0&&d(E,n||"onvalue",E.textNode),E.textNode=void 0}function N(E){E.numberNode&&d(E,"onvalue",parseFloat(E.numberNode)),E.numberNode=""}function w(E,n){return n===void 0||(E.trim&&(n=n.trim()),E.normalize&&(n=n.replace(/\s+/g," "))),n}function _(E,n){return g(E),n+=`
Line: `+E.line+`
Column: `+E.column+`
Char: `+E.c,n=new Error(n),E.error=n,d(E,"onerror",n),E}function x(E){return(E.state!==r.VALUE||E.depth!==0)&&_(E,"Unexpected end"),g(E),E.c="",E.closed=!0,d(E,"onend"),l.call(E,E.opt),E}function R(E){return E===o.carriageReturn||E===o.lineFeed||E===o.space||E===o.tab}function D(E){var n=this;if(this.error)throw this.error;if(n.closed)return _(n,"Cannot write after close. Assign an onready handler.");if(E===null)return x(n);var L=0,b=E.charCodeAt(0),$=n.p,X=!1;for(f.DEBUG&&console.log("write -> ["+E+"]");b&&($=b,n.c=b=E.charCodeAt(L++),$!==b?n.p=$:$=n.p,!!b);)switch(f.DEBUG&&console.log(L,b,f.STATE[n.state]),X?X=!1:(n.position++,b===o.lineFeed?(n.line++,n.column=0):n.column++),n.state){case r.BEGIN:b===o.openBrace?n.state=r.OPEN_OBJECT:b===o.openBracket?n.state=r.OPEN_ARRAY:R(b)||_(n,"Non-whitespace before {[.");continue;case r.OPEN_KEY:case r.OPEN_OBJECT:if(R(b))continue;if(n.state===r.OPEN_KEY)n.stack.push(r.CLOSE_KEY);else if(b===o.closeBrace){d(n,"onopenobject"),this.depth++,d(n,"oncloseobject"),this.depth--,n.state=n.stack.pop()||r.VALUE;continue}else n.stack.push(r.CLOSE_OBJECT);b===o.doubleQuote?n.state=r.STRING:_(n,'Malformed object key should start with "');continue;case r.CLOSE_KEY:case r.CLOSE_OBJECT:if(R(b))continue;var we=n.state===r.CLOSE_KEY?"key":"object";b===o.colon?(n.state===r.CLOSE_OBJECT?(n.stack.push(r.CLOSE_OBJECT),g(n,"onopenobject"),this.depth++):g(n,"onkey"),n.state=r.VALUE):b===o.closeBrace?(p(n,"oncloseobject"),this.depth--,n.state=n.stack.pop()||r.VALUE):b===o.comma?(n.state===r.CLOSE_OBJECT&&n.stack.push(r.CLOSE_OBJECT),g(n),n.state=r.OPEN_KEY):_(n,"Bad object");continue;case r.OPEN_ARRAY:case r.VALUE:if(R(b))continue;if(n.state===r.OPEN_ARRAY)if(d(n,"onopenarray"),this.depth++,n.state=r.VALUE,b===o.closeBracket){d(n,"onclosearray"),this.depth--,n.state=n.stack.pop()||r.VALUE;continue}else n.stack.push(r.CLOSE_ARRAY);b===o.doubleQuote?n.state=r.STRING:b===o.openBrace?n.state=r.OPEN_OBJECT:b===o.openBracket?n.state=r.OPEN_ARRAY:b===o.t?n.state=r.TRUE:b===o.f?n.state=r.FALSE:b===o.n?n.state=r.NULL:b===o.minus?n.numberNode+="-":o._0<=b&&b<=o._9?(n.numberNode+=String.fromCharCode(b),n.state=r.NUMBER_DIGIT):_(n,"Bad value");continue;case r.CLOSE_ARRAY:if(b===o.comma)n.stack.push(r.CLOSE_ARRAY),g(n,"onvalue"),n.state=r.VALUE;else if(b===o.closeBracket)p(n,"onclosearray"),this.depth--,n.state=n.stack.pop()||r.VALUE;else{if(R(b))continue;_(n,"Bad array")}continue;case r.STRING:n.textNode===void 0&&(n.textNode="");var Y=L-1,ee=n.slashed,K=n.unicodeI;e:for(;;){for(f.DEBUG&&console.log(L,b,f.STATE[n.state],ee);K>0;)if(n.unicodeS+=String.fromCharCode(b),b=E.charCodeAt(L++),n.position++,K===4?(n.textNode+=String.fromCharCode(parseInt(n.unicodeS,16)),K=0,Y=L-1):K++,!b)break e;if(b===o.doubleQuote&&!ee){n.state=n.stack.pop()||r.VALUE,n.textNode+=E.substring(Y,L-1),n.position+=L-1-Y;break}if(b===o.backslash&&!ee&&(ee=!0,n.textNode+=E.substring(Y,L-1),n.position+=L-1-Y,b=E.charCodeAt(L++),n.position++,!b))break;if(ee){if(ee=!1,b===o.n?n.textNode+=`
`:b===o.r?n.textNode+="\r":b===o.t?n.textNode+="	":b===o.f?n.textNode+="\f":b===o.b?n.textNode+="\b":b===o.u?(K=1,n.unicodeS=""):n.textNode+=String.fromCharCode(b),b=E.charCodeAt(L++),n.position++,Y=L-1,b)continue;break}y.lastIndex=L;var he=y.exec(E);if(he===null){L=E.length+1,n.textNode+=E.substring(Y,L-1),n.position+=L-1-Y;break}if(L=he.index+1,b=E.charCodeAt(he.index),!b){n.textNode+=E.substring(Y,L-1),n.position+=L-1-Y;break}}n.slashed=ee,n.unicodeI=K;continue;case r.TRUE:b===o.r?n.state=r.TRUE2:_(n,"Invalid true started with t"+b);continue;case r.TRUE2:b===o.u?n.state=r.TRUE3:_(n,"Invalid true started with tr"+b);continue;case r.TRUE3:b===o.e?(d(n,"onvalue",!0),n.state=n.stack.pop()||r.VALUE):_(n,"Invalid true started with tru"+b);continue;case r.FALSE:b===o.a?n.state=r.FALSE2:_(n,"Invalid false started with f"+b);continue;case r.FALSE2:b===o.l?n.state=r.FALSE3:_(n,"Invalid false started with fa"+b);continue;case r.FALSE3:b===o.s?n.state=r.FALSE4:_(n,"Invalid false started with fal"+b);continue;case r.FALSE4:b===o.e?(d(n,"onvalue",!1),n.state=n.stack.pop()||r.VALUE):_(n,"Invalid false started with fals"+b);continue;case r.NULL:b===o.u?n.state=r.NULL2:_(n,"Invalid null started with n"+b);continue;case r.NULL2:b===o.l?n.state=r.NULL3:_(n,"Invalid null started with nu"+b);continue;case r.NULL3:b===o.l?(d(n,"onvalue",null),n.state=n.stack.pop()||r.VALUE):_(n,"Invalid null started with nul"+b);continue;case r.NUMBER_DECIMAL_POINT:b===o.period?(n.numberNode+=".",n.state=r.NUMBER_DIGIT):_(n,"Leading zero not followed by .");continue;case r.NUMBER_DIGIT:o._0<=b&&b<=o._9?n.numberNode+=String.fromCharCode(b):b===o.period?(n.numberNode.indexOf(".")!==-1&&_(n,"Invalid number has two dots"),n.numberNode+="."):b===o.e||b===o.E?((n.numberNode.indexOf("e")!==-1||n.numberNode.indexOf("E")!==-1)&&_(n,"Invalid number has two exponential"),n.numberNode+="e"):b===o.plus||b===o.minus?($===o.e||$===o.E||_(n,"Invalid symbol in number"),n.numberNode+=String.fromCharCode(b)):(N(n),L--,X=!0,n.state=n.stack.pop()||r.VALUE);continue;default:_(n,"Unknown state: "+n.state)}return n.position>=n.bufferCheckPosition&&h(n),n}})(typeof rt>"u"?clarinet={}:rt)});var Nr=Ae(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.stringify=de.parse=void 0;var On=(yr(),mn(gr)),Nn=On.__importDefault(Er());function bn(f){let t=it(),i,e;function r(a){try{let o=t.next(a);o.done&&(i=o.value)}catch(o){e=o}}let s=Nn.default.parser();if(s.onopenobject=a=>r({type:"openobject",key:a}),s.onopenarray=()=>r({type:"openarray"}),s.onkey=a=>r({type:"key",key:a}),s.onvalue=a=>r({type:"value",value:a}),s.oncloseobject=()=>r({type:"closeobject"}),s.onclosearray=()=>r({type:"closearray"}),s.onerror=a=>r({type:"error",err:a}),t.next(),s.write(f).close(),e)throw e;return i}de.parse=bn;function nt(f){return Array.isArray(f)?`[${f.map(nt).join(",")}]`:f instanceof Map?`{${[...f].map(([t,i])=>JSON.stringify(t)+":"+nt(i)).join(",")}}`:JSON.stringify(f)}de.stringify=nt;var Or=Symbol();function*it(){let f=yield;switch(f.type){case"value":return f.value;case"openobject":let t=new Map,i=f.key;for(i===void 0&&(yield);i!==void 0;)t.set(i,yield*it()),i=(yield).key;return t;case"openarray":let e=[],r;for(;;){if(r=yield*it(),r===Or)return e;e.push(r)}case"closearray":return Or;case"error":throw f.err;default:throw Error(`Unexpected ParseEvent ${f.type}`)}}});var br=Ae((lt,st)=>{(function(f,t){typeof lt=="object"&&typeof st<"u"?st.exports=t():typeof define=="function"&&define.amd?define(t):(f=typeof globalThis<"u"?globalThis:f||self,f.DOMPurify=t())})(lt,function(){"use strict";let{entries:f,setPrototypeOf:t,isFrozen:i,getPrototypeOf:e,getOwnPropertyDescriptor:r}=Object,{freeze:s,seal:a,create:o}=Object,{apply:h,construct:c}=typeof Reflect<"u"&&Reflect;s||(s=function(T){return T}),a||(a=function(T){return T}),h||(h=function(T,k,I){return T.apply(k,I)}),c||(c=function(T,k){return new T(...k)});let y=D(Array.prototype.forEach),l=D(Array.prototype.pop),O=D(Array.prototype.push),m=D(String.prototype.toLowerCase),d=D(String.prototype.toString),p=D(String.prototype.match),g=D(String.prototype.replace),N=D(String.prototype.indexOf),w=D(String.prototype.trim),_=D(Object.prototype.hasOwnProperty),x=D(RegExp.prototype.test),R=E(TypeError);function D(v){return function(T){for(var k=arguments.length,I=new Array(k>1?k-1:0),M=1;M<k;M++)I[M-1]=arguments[M];return h(v,T,I)}}function E(v){return function(){for(var T=arguments.length,k=new Array(T),I=0;I<T;I++)k[I]=arguments[I];return c(v,k)}}function n(v,T){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m;t&&t(v,null);let I=T.length;for(;I--;){let M=T[I];if(typeof M=="string"){let te=k(M);te!==M&&(i(T)||(T[I]=te),M=te)}v[M]=!0}return v}function L(v){for(let T=0;T<v.length;T++)_(v,T)||(v[T]=null);return v}function b(v){let T=o(null);for(let[k,I]of f(v))_(v,k)&&(Array.isArray(I)?T[k]=L(I):I&&typeof I=="object"&&I.constructor===Object?T[k]=b(I):T[k]=I);return T}function $(v,T){for(;v!==null;){let I=r(v,T);if(I){if(I.get)return D(I.get);if(typeof I.value=="function")return D(I.value)}v=e(v)}function k(){return null}return k}let X=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),we=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ee=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),K=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),he=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ot=s(["#text"]),at=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Fe=s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ft=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Se=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Lr=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Tr=a(/<%[\w\W]*|[\w\W]*%>/gm),Cr=a(/\${[\w\W]*}/gm),Rr=a(/^data-[\-\w.\u00B7-\uFFFF]/),Dr=a(/^aria-[\-\w]+$/),ct=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ir=a(/^(?:\w+script|data):/i),vr=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ut=a(/^html$/i),kr=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var pt=Object.freeze({__proto__:null,MUSTACHE_EXPR:Lr,ERB_EXPR:Tr,TMPLIT_EXPR:Cr,DATA_ATTR:Rr,ARIA_ATTR:Dr,IS_ALLOWED_URI:ct,IS_SCRIPT_OR_DATA:Ir,ATTR_WHITESPACE:vr,DOCTYPE_NAME:ut,CUSTOM_ELEMENT:kr});let me={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Pr=function(){return typeof window>"u"?null:window},Fr=function(T,k){if(typeof T!="object"||typeof T.createPolicy!="function")return null;let I=null,M="data-tt-policy-suffix";k&&k.hasAttribute(M)&&(I=k.getAttribute(M));let te="dompurify"+(I?"#"+I:"");try{return T.createPolicy(te,{createHTML(le){return le},createScriptURL(le){return le}})}catch{return console.warn("TrustedTypes policy "+te+" could not be created."),null}};function dt(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pr(),T=C=>dt(C);if(T.version="3.1.7",T.removed=[],!v||!v.document||v.document.nodeType!==me.document)return T.isSupported=!1,T;let{document:k}=v,I=k,M=I.currentScript,{DocumentFragment:te,HTMLTemplateElement:le,Node:$e,Element:ht,NodeFilter:ge,NamedNodeMap:Ur=v.NamedNodeMap||v.MozNamedAttrMap,HTMLFormElement:Jr,DOMParser:Hr,trustedTypes:xe}=v,ye=ht.prototype,Br=$(ye,"cloneNode"),Mr=$(ye,"remove"),Gr=$(ye,"nextSibling"),zr=$(ye,"childNodes"),Le=$(ye,"parentNode");if(typeof le=="function"){let C=k.createElement("template");C.content&&C.content.ownerDocument&&(k=C.content.ownerDocument)}let z,Ee="",{implementation:Ue,createNodeIterator:Wr,createDocumentFragment:Yr,getElementsByTagName:qr}=k,{importNode:Vr}=I,Z={};T.isSupported=typeof f=="function"&&typeof Le=="function"&&Ue&&Ue.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Je,ERB_EXPR:He,TMPLIT_EXPR:Be,DATA_ATTR:Xr,ARIA_ATTR:Kr,IS_SCRIPT_OR_DATA:Zr,ATTR_WHITESPACE:mt,CUSTOM_ELEMENT:Qr}=pt,{IS_ALLOWED_URI:gt}=pt,U=null,yt=n({},[...X,...we,...Y,...K,...ot]),J=null,Et=n({},[...at,...Fe,...ft,...Se]),F=Object.seal(o(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Oe=null,Me=null,Ot=!0,Ge=!0,Nt=!1,bt=!0,se=!1,ze=!0,ie=!1,We=!1,Ye=!1,oe=!1,Te=!1,Ce=!1,_t=!0,At=!1,jr="user-content-",qe=!0,Ne=!1,ae={},fe=null,wt=n({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),St=null,xt=n({},["audio","video","img","source","image","track"]),Ve=null,Lt=n({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Re="http://www.w3.org/1998/Math/MathML",De="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xhtml",ce=re,Xe=!1,Ke=null,en=n({},[Re,De,re],d),be=null,tn=["application/xhtml+xml","text/html"],rn="text/html",H=null,ue=null,nn=k.createElement("form"),Tt=function(u){return u instanceof RegExp||u instanceof Function},Ze=function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ue&&ue===u)){if((!u||typeof u!="object")&&(u={}),u=b(u),be=tn.indexOf(u.PARSER_MEDIA_TYPE)===-1?rn:u.PARSER_MEDIA_TYPE,H=be==="application/xhtml+xml"?d:m,U=_(u,"ALLOWED_TAGS")?n({},u.ALLOWED_TAGS,H):yt,J=_(u,"ALLOWED_ATTR")?n({},u.ALLOWED_ATTR,H):Et,Ke=_(u,"ALLOWED_NAMESPACES")?n({},u.ALLOWED_NAMESPACES,d):en,Ve=_(u,"ADD_URI_SAFE_ATTR")?n(b(Lt),u.ADD_URI_SAFE_ATTR,H):Lt,St=_(u,"ADD_DATA_URI_TAGS")?n(b(xt),u.ADD_DATA_URI_TAGS,H):xt,fe=_(u,"FORBID_CONTENTS")?n({},u.FORBID_CONTENTS,H):wt,Oe=_(u,"FORBID_TAGS")?n({},u.FORBID_TAGS,H):{},Me=_(u,"FORBID_ATTR")?n({},u.FORBID_ATTR,H):{},ae=_(u,"USE_PROFILES")?u.USE_PROFILES:!1,Ot=u.ALLOW_ARIA_ATTR!==!1,Ge=u.ALLOW_DATA_ATTR!==!1,Nt=u.ALLOW_UNKNOWN_PROTOCOLS||!1,bt=u.ALLOW_SELF_CLOSE_IN_ATTR!==!1,se=u.SAFE_FOR_TEMPLATES||!1,ze=u.SAFE_FOR_XML!==!1,ie=u.WHOLE_DOCUMENT||!1,oe=u.RETURN_DOM||!1,Te=u.RETURN_DOM_FRAGMENT||!1,Ce=u.RETURN_TRUSTED_TYPE||!1,Ye=u.FORCE_BODY||!1,_t=u.SANITIZE_DOM!==!1,At=u.SANITIZE_NAMED_PROPS||!1,qe=u.KEEP_CONTENT!==!1,Ne=u.IN_PLACE||!1,gt=u.ALLOWED_URI_REGEXP||ct,ce=u.NAMESPACE||re,F=u.CUSTOM_ELEMENT_HANDLING||{},u.CUSTOM_ELEMENT_HANDLING&&Tt(u.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(F.tagNameCheck=u.CUSTOM_ELEMENT_HANDLING.tagNameCheck),u.CUSTOM_ELEMENT_HANDLING&&Tt(u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(F.attributeNameCheck=u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),u.CUSTOM_ELEMENT_HANDLING&&typeof u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(F.allowCustomizedBuiltInElements=u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),se&&(Ge=!1),Te&&(oe=!0),ae&&(U=n({},ot),J=[],ae.html===!0&&(n(U,X),n(J,at)),ae.svg===!0&&(n(U,we),n(J,Fe),n(J,Se)),ae.svgFilters===!0&&(n(U,Y),n(J,Fe),n(J,Se)),ae.mathMl===!0&&(n(U,K),n(J,ft),n(J,Se))),u.ADD_TAGS&&(U===yt&&(U=b(U)),n(U,u.ADD_TAGS,H)),u.ADD_ATTR&&(J===Et&&(J=b(J)),n(J,u.ADD_ATTR,H)),u.ADD_URI_SAFE_ATTR&&n(Ve,u.ADD_URI_SAFE_ATTR,H),u.FORBID_CONTENTS&&(fe===wt&&(fe=b(fe)),n(fe,u.FORBID_CONTENTS,H)),qe&&(U["#text"]=!0),ie&&n(U,["html","head","body"]),U.table&&(n(U,["tbody"]),delete Oe.tbody),u.TRUSTED_TYPES_POLICY){if(typeof u.TRUSTED_TYPES_POLICY.createHTML!="function")throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof u.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');z=u.TRUSTED_TYPES_POLICY,Ee=z.createHTML("")}else z===void 0&&(z=Fr(xe,M)),z!==null&&typeof Ee=="string"&&(Ee=z.createHTML(""));s&&s(u),ue=u}},Ct=n({},["mi","mo","mn","ms","mtext"]),Rt=n({},["annotation-xml"]),ln=n({},["title","style","font","a","script"]),Dt=n({},[...we,...Y,...ee]),It=n({},[...K,...he]),sn=function(u){let A=Le(u);(!A||!A.tagName)&&(A={namespaceURI:ce,tagName:"template"});let S=m(u.tagName),P=m(A.tagName);return Ke[u.namespaceURI]?u.namespaceURI===De?A.namespaceURI===re?S==="svg":A.namespaceURI===Re?S==="svg"&&(P==="annotation-xml"||Ct[P]):!!Dt[S]:u.namespaceURI===Re?A.namespaceURI===re?S==="math":A.namespaceURI===De?S==="math"&&Rt[P]:!!It[S]:u.namespaceURI===re?A.namespaceURI===De&&!Rt[P]||A.namespaceURI===Re&&!Ct[P]?!1:!It[S]&&(ln[S]||!Dt[S]):!!(be==="application/xhtml+xml"&&Ke[u.namespaceURI]):!1},Q=function(u){O(T.removed,{element:u});try{Le(u).removeChild(u)}catch{Mr(u)}},Ie=function(u,A){try{O(T.removed,{attribute:A.getAttributeNode(u),from:A})}catch{O(T.removed,{attribute:null,from:A})}if(A.removeAttribute(u),u==="is"&&!J[u])if(oe||Te)try{Q(A)}catch{}else try{A.setAttribute(u,"")}catch{}},vt=function(u){let A=null,S=null;if(Ye)u="<remove></remove>"+u;else{let B=p(u,/^[\r\n\t ]+/);S=B&&B[0]}be==="application/xhtml+xml"&&ce===re&&(u='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+u+"</body></html>");let P=z?z.createHTML(u):u;if(ce===re)try{A=new Hr().parseFromString(P,be)}catch{}if(!A||!A.documentElement){A=Ue.createDocument(ce,"template",null);try{A.documentElement.innerHTML=Xe?Ee:P}catch{}}let G=A.body||A.documentElement;return u&&S&&G.insertBefore(k.createTextNode(S),G.childNodes[0]||null),ce===re?qr.call(A,ie?"html":"body")[0]:ie?A.documentElement:G},kt=function(u){return Wr.call(u.ownerDocument||u,u,ge.SHOW_ELEMENT|ge.SHOW_COMMENT|ge.SHOW_TEXT|ge.SHOW_PROCESSING_INSTRUCTION|ge.SHOW_CDATA_SECTION,null)},Pt=function(u){return u instanceof Jr&&(typeof u.nodeName!="string"||typeof u.textContent!="string"||typeof u.removeChild!="function"||!(u.attributes instanceof Ur)||typeof u.removeAttribute!="function"||typeof u.setAttribute!="function"||typeof u.namespaceURI!="string"||typeof u.insertBefore!="function"||typeof u.hasChildNodes!="function")},Ft=function(u){return typeof $e=="function"&&u instanceof $e},ne=function(u,A,S){Z[u]&&y(Z[u],P=>{P.call(T,A,S,ue)})},$t=function(u){let A=null;if(ne("beforeSanitizeElements",u,null),Pt(u))return Q(u),!0;let S=H(u.nodeName);if(ne("uponSanitizeElement",u,{tagName:S,allowedTags:U}),u.hasChildNodes()&&!Ft(u.firstElementChild)&&x(/<[/\w]/g,u.innerHTML)&&x(/<[/\w]/g,u.textContent)||u.nodeType===me.progressingInstruction||ze&&u.nodeType===me.comment&&x(/<[/\w]/g,u.data))return Q(u),!0;if(!U[S]||Oe[S]){if(!Oe[S]&&Jt(S)&&(F.tagNameCheck instanceof RegExp&&x(F.tagNameCheck,S)||F.tagNameCheck instanceof Function&&F.tagNameCheck(S)))return!1;if(qe&&!fe[S]){let P=Le(u)||u.parentNode,G=zr(u)||u.childNodes;if(G&&P){let B=G.length;for(let q=B-1;q>=0;--q){let j=Br(G[q],!0);j.__removalCount=(u.__removalCount||0)+1,P.insertBefore(j,Gr(u))}}}return Q(u),!0}return u instanceof ht&&!sn(u)||(S==="noscript"||S==="noembed"||S==="noframes")&&x(/<\/no(script|embed|frames)/i,u.innerHTML)?(Q(u),!0):(se&&u.nodeType===me.text&&(A=u.textContent,y([Je,He,Be],P=>{A=g(A,P," ")}),u.textContent!==A&&(O(T.removed,{element:u.cloneNode()}),u.textContent=A)),ne("afterSanitizeElements",u,null),!1)},Ut=function(u,A,S){if(_t&&(A==="id"||A==="name")&&(S in k||S in nn))return!1;if(!(Ge&&!Me[A]&&x(Xr,A))){if(!(Ot&&x(Kr,A))){if(!J[A]||Me[A]){if(!(Jt(u)&&(F.tagNameCheck instanceof RegExp&&x(F.tagNameCheck,u)||F.tagNameCheck instanceof Function&&F.tagNameCheck(u))&&(F.attributeNameCheck instanceof RegExp&&x(F.attributeNameCheck,A)||F.attributeNameCheck instanceof Function&&F.attributeNameCheck(A))||A==="is"&&F.allowCustomizedBuiltInElements&&(F.tagNameCheck instanceof RegExp&&x(F.tagNameCheck,S)||F.tagNameCheck instanceof Function&&F.tagNameCheck(S))))return!1}else if(!Ve[A]){if(!x(gt,g(S,mt,""))){if(!((A==="src"||A==="xlink:href"||A==="href")&&u!=="script"&&N(S,"data:")===0&&St[u])){if(!(Nt&&!x(Zr,g(S,mt,"")))){if(S)return!1}}}}}}return!0},Jt=function(u){return u!=="annotation-xml"&&p(u,Qr)},Ht=function(u){ne("beforeSanitizeAttributes",u,null);let{attributes:A}=u;if(!A)return;let S={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J},P=A.length;for(;P--;){let G=A[P],{name:B,namespaceURI:q,value:j}=G,_e=H(B),W=B==="value"?j:w(j);if(S.attrName=_e,S.attrValue=W,S.keepAttr=!0,S.forceKeepAttr=void 0,ne("uponSanitizeAttribute",u,S),W=S.attrValue,S.forceKeepAttr||(Ie(B,u),!S.keepAttr))continue;if(!bt&&x(/\/>/i,W)){Ie(B,u);continue}se&&y([Je,He,Be],Mt=>{W=g(W,Mt," ")});let Bt=H(u.nodeName);if(Ut(Bt,_e,W)){if(At&&(_e==="id"||_e==="name")&&(Ie(B,u),W=jr+W),ze&&x(/((--!?|])>)|<\/(style|title)/i,W)){Ie(B,u);continue}if(z&&typeof xe=="object"&&typeof xe.getAttributeType=="function"&&!q)switch(xe.getAttributeType(Bt,_e)){case"TrustedHTML":{W=z.createHTML(W);break}case"TrustedScriptURL":{W=z.createScriptURL(W);break}}try{q?u.setAttributeNS(q,B,W):u.setAttribute(B,W),Pt(u)?Q(u):l(T.removed)}catch{}}}ne("afterSanitizeAttributes",u,null)},on=function C(u){let A=null,S=kt(u);for(ne("beforeSanitizeShadowDOM",u,null);A=S.nextNode();)ne("uponSanitizeShadowNode",A,null),!$t(A)&&(A.content instanceof te&&C(A.content),Ht(A));ne("afterSanitizeShadowDOM",u,null)};return T.sanitize=function(C){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=null,S=null,P=null,G=null;if(Xe=!C,Xe&&(C="<!-->"),typeof C!="string"&&!Ft(C))if(typeof C.toString=="function"){if(C=C.toString(),typeof C!="string")throw R("dirty is not a string, aborting")}else throw R("toString is not a function");if(!T.isSupported)return C;if(We||Ze(u),T.removed=[],typeof C=="string"&&(Ne=!1),Ne){if(C.nodeName){let j=H(C.nodeName);if(!U[j]||Oe[j])throw R("root node is forbidden and cannot be sanitized in-place")}}else if(C instanceof $e)A=vt("<!---->"),S=A.ownerDocument.importNode(C,!0),S.nodeType===me.element&&S.nodeName==="BODY"||S.nodeName==="HTML"?A=S:A.appendChild(S);else{if(!oe&&!se&&!ie&&C.indexOf("<")===-1)return z&&Ce?z.createHTML(C):C;if(A=vt(C),!A)return oe?null:Ce?Ee:""}A&&Ye&&Q(A.firstChild);let B=kt(Ne?C:A);for(;P=B.nextNode();)$t(P)||(P.content instanceof te&&on(P.content),Ht(P));if(Ne)return C;if(oe){if(Te)for(G=Yr.call(A.ownerDocument);A.firstChild;)G.appendChild(A.firstChild);else G=A;return(J.shadowroot||J.shadowrootmode)&&(G=Vr.call(I,G,!0)),G}let q=ie?A.outerHTML:A.innerHTML;return ie&&U["!doctype"]&&A.ownerDocument&&A.ownerDocument.doctype&&A.ownerDocument.doctype.name&&x(ut,A.ownerDocument.doctype.name)&&(q="<!DOCTYPE "+A.ownerDocument.doctype.name+`>
`+q),se&&y([Je,He,Be],j=>{q=g(q,j," ")}),z&&Ce?z.createHTML(q):q},T.setConfig=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ze(C),We=!0},T.clearConfig=function(){ue=null,We=!1},T.isValidAttribute=function(C,u,A){ue||Ze({});let S=H(C),P=H(u);return Ut(S,P,A)},T.addHook=function(C,u){typeof u=="function"&&(Z[C]=Z[C]||[],O(Z[C],u))},T.removeHook=function(C){if(Z[C])return l(Z[C])},T.removeHooks=function(C){Z[C]&&(Z[C]=[])},T.removeAllHooks=function(){Z={}},T}var $r=dt();return $r})});var Ar=Ae((Ln,_r)=>{var V=br();_r.exports=class{constructor(t){let i=this;i.parentContext=t,i.websiteRegex=/^(https?:\/\/)?[-a-zA-Z0-9]*[a-zA-Z0-9]+(\.[-a-zA-Z0-9]*[a-zA-Z0-9]+)+/}escape(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(t,i=!1,e=void 0){let r=this;try{r.parentContext.mapToJSON(t)}catch(c){throw console.log(c),new Error("Provided map value doesn't passes JSON.parse()")}var s=0,a=document.createElement("ul"),o;return e!==void 0&&(o=JSON.parse(e)),a.className="DAMON-List",h(t,a),a;function h(c,y){if(typeof y!="object"||y==null||Array.isArray(y))throw new Error("Error List Item number "+s+": @param { {} } list");if(typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map){if(y.tagName=="UL")for(let[m,d]of c){let p=document.createElement("ul"),g=document.createElement("code"),N=document.createElement("span"),w=document.createElement("li");if(N.className="type-key",r.websiteRegex.test(m)){let _=V.sanitize(`<a href="${m}">${m}</a>`);N.innerHTML=_}else e!==void 0&&m in o["@context"]?N.innerHTML=V.sanitize(`<a href="${o["@context"][m]["@id"]}">${m}</a>`):N.textContent=m;if(typeof d=="object"&&d!==null)if(Array.isArray(d))if(c.damonInlineArrays!==void 0&&c.damonInlineArrays.indexOf(m)>-1){g.innerHTML=N.outerHTML+": [";for(let _=0,x=d.length;_<x;_++){let R=document.createElement("span"),D=d[_];D===!0?(R.textContent="true",R.className="type-boolean"):D===!1?(R.textContent="false",R.className="type-boolean"):D===null?(R.textContent="null",R.className="type-null"):Number.isFinite(D)&&!Number.isNaN(D)?(R.textContent=D+"",R.className="type-number"):(i?r.websiteRegex.test(D)?R.innerHTML=V.sanitize(`<a href="${D}">"${D}"</a>`):R.innerHTML=`"${D}"`:r.websiteRegex.test(D)?R.innerHTML=V.sanitize(`<a href="${D}">"${D}"</a>`):R.textContent=`"${D}"`,R.className="type-string"),_!==0&&(g.innerHTML+=", "),g.appendChild(R)}g.innerHTML+="]",w.appendChild(g),w.appendChild(p),y.appendChild(w)}else g.innerHTML=N.outerHTML+": []",w.appendChild(g),w.appendChild(p),y.appendChild(w),h(d,p);else c.implicitMaps!==void 0&&c.implicitMaps.indexOf(m)>-1?g.innerHTML=N.outerHTML:g.innerHTML=N.outerHTML+": {}",w.appendChild(g),w.appendChild(p),y.appendChild(w),h(d,p);else{s++,g.innerHTML=N.outerHTML+": ";let _=document.createElement("span"),x=d;x===!0?(_.textContent="true",_.className="type-boolean"):x===!1?(_.textContent="false",_.className="type-boolean"):x===null?(_.textContent="null",_.className="type-null"):Number.isFinite(x)&&!Number.isNaN(x)?(_.textContent=x+"",_.className="type-number"):(i?r.websiteRegex.test(x)?_.innerHTML=V.sanitize(`<a href="${x}">"${x}"</a>`):_.innerHTML=`"${x}"`:r.websiteRegex.test(x)?_.innerHTML=V.sanitize(`<a href="${x}">"${x}"</a>`):_.textContent=`"${x}"`,_.className="type-string"),c.implicitNulls===void 0||c.implicitNulls.indexOf(m)==-1?g.appendChild(_):g.innerHTML=g.innerHTML.slice(0,-2),w.appendChild(g),y.appendChild(w)}}}else if(Array.isArray(c))for(var l=0,O=c.length;l<O;l++){let m=document.createElement("ul"),d=document.createElement("code"),p=document.createElement("li");if(typeof c[l]=="object"&&c[l]!==null)if(Array.isArray(c[l]))if(c.damonInlineArrays!==void 0&&c.damonInlineArrays.indexOf(l)>-1){d.innerHTML+="[";for(let g=0,N=c[l].length;g<N;g++){let w=document.createElement("span"),_=c[l][g];_===!0?(w.textContent="true",w.className="type-boolean"):_===!1?(w.textContent="false",w.className="type-boolean"):_===null?(w.textContent="null",w.className="type-null"):Number.isFinite(_)&&!Number.isNaN(_)?(w.textContent=_+"",w.className="type-number"):(i?r.websiteRegex.test(_)?w.innerHTML=V.sanitize(`<a href="${_}">"${_}"</a>`):w.innerHTML=`"${_}"`:r.websiteRegex.test(_)?w.innerHTML=V.sanitize(`<a href="${_}">"${_}"</a>`):w.textContent=`"${_}"`,w.className="type-string"),g!==0&&(d.innerHTML+=", "),d.appendChild(w)}d.innerHTML+="]",p.appendChild(d),p.appendChild(m),y.appendChild(p)}else d.textContent="[]",p.appendChild(d),p.appendChild(m),y.appendChild(p),h(c[l],m);else d.textContent="{}",p.appendChild(d),p.appendChild(m),y.appendChild(p),h(c[l],m);else{s++;let g=c[l];g===!0?(d.textContent="true",d.className="type-boolean"):g===!1?(d.textContent="false",d.className="type-boolean"):g===null?(d.textContent="null",d.className="type-null"):Number.isFinite(g)&&!Number.isNaN(g)?(d.textContent=g+"",d.className="type-number"):(i?r.websiteRegex.test(g)?d.innerHTML=V.sanitize(`<a href="${g}">"${g}"</a>`):d.innerHTML=`"${g}"`:r.websiteRegex.test(g)?d.innerHTML=V.sanitize(`<a href="${g}">"${g}"</a>`):d.textContent=`"${g}"`,d.className="type-string"),p.appendChild(d),p.appendChild(m),y.appendChild(p)}}}}mapToHtmlTable(t,i=!1){let e=this;try{e.parentContext.mapToJSON(t)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var r=0,s=document.createElement("table"),a=document.createElement("thead"),o=document.createElement("tbody"),h=!1,c=0;if(s.className="DAMON-Table",typeof t!="object"||t==null||Array.isArray(t)||!(t instanceof Map)||t.constructor!==Map)throw new Error("Error List Item number "+r+": @param { {} } list");for(let[y,l]of t){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map)if(y=="0"&&!h){let O=document.createElement("tr");c=l.length;for(let[m,d]of l)if(d===null){let p=document.createElement("th");i?e.websiteRegex.test(m)?p.innerHTML=V.sanitize(`<a href="${m}">${m}</a>`):p.innerHTML=`${m}`:e.websiteRegex.test(m)?p.innerHTML=V.sanitize(`<a href="${m}">${m}</a>`):p.textContent=`${m}`,O.appendChild(p)}else throw new Error("Expected implicit null property, saw otherwise");a.appendChild(O),h=!0}else{if(c==0&&(c=l.length),l.length!=c)throw new Error("Error List Item number "+r+": @param { {} } list");let O=document.createElement("tr");for(let[m,d]of l)if(d===null){let p=document.createElement("td");i?e.websiteRegex.test(m)?p.innerHTML=V.sanitize(`<a href="${m}">${m}</a>`):p.innerHTML=`${m}`:e.websiteRegex.test(m)?p.innerHTML=V.sanitize(`<a href="${m}">${m}</a>`):p.textContent=`${m}`,O.appendChild(p)}else throw new Error("Expected implicit null property, saw otherwise");o.appendChild(O)}else if(typeof l!="object"&&y=="00"){let O=document.createElement("caption");i?O.innerHTML=l:O.textContent=l,s.appendChild(O)}else throw new Error("Error List Item number "+r+": @param { {} } list");r++}return h&&s.appendChild(a),s.appendChild(o),s}mapTreeLeavesToHtmlTable(t,i=!1){let e=this;try{e.parentContext.mapToJSON(t)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var r=0,s=0,a=document.createElement("table"),o=document.createElement("thead"),h=document.createElement("tbody"),c=!1;if(a.className="DAMON-LeavesToTable",typeof t!="object"||t==null||Array.isArray(t)||!(t instanceof Map)||t.constructor!==Map)throw new Error("Error List Item number "+r+": @param { {} } list");for(let[l,O]of t){if(typeof O=="object"&&!Array.isArray(O)){if(l=="head"&&!c){try{y(O,o)}catch{return}c=!0}else if(l=="body")try{y(O,h)}catch{return}}else if(typeof O!="object"&&l=="caption"){let m=document.createElement("caption");i?m.innerHTML=O:m.textContent=O,a.appendChild(m)}else throw new Error("Error List Item number "+r+": @param { {} } list");r++}return c&&a.appendChild(o),a.appendChild(h),a;function y(l,O,m=0,d=[]){if(typeof O!="object"||O==null)throw new Error("Error List Item number "+r+": @param { {} } list");if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map){if(O.tagName=="THEAD")if(Array.from(l.keys()).length==1)if(typeof l.get(Array.from(l.keys())[0])=="object"&&l.get(Array.from(l.keys())[0])!==null)r++,y(l.get(Array.from(l.keys())[0]),O,m+1,d.concat([Array.from(l.keys())[0]]));else throw new Error("Error List Item number "+r+": @param { {} } list");else throw new Error("Error List Item number "+r+": @param { {} } list");else if(O.tagName=="TBODY"){if(Array.from(l.keys()).length==0)throw new Error("Error List Item number "+r+": @param { {} } list");for(let[p,g]of l)if(typeof g=="object"&&g!==null)r++,y(g,O,m+1,d.concat([p]));else throw new Error("Error List Item number "+r+": @param { {} } list")}}else if(Array.isArray(l)){if(O.tagName=="THEAD")if(l.length==1){r++,s=m;let p=document.createElement("tr");d.push(l[0]);for(let g=0,N=d.length;g<N;g++){let w=document.createElement("th");i?w.innerHTML=d[g]:w.textContent=d[g],p.appendChild(w)}O.appendChild(p)}else throw new Error("Error List Item number "+r+": @param { {} } list");else if(O.tagName=="TBODY")if(m==s){if(l.length==0)throw new Error("Error List Item number "+r+": @param { {} } list");for(let p=0,g=l.length;p<g;p++){r++;let N=document.createElement("tr");for(let _=0,x=d.length;_<x;_++){let R=document.createElement("td");i?R.innerHTML=d[_]:R.textContent=d[_],N.appendChild(R)}let w=document.createElement("td");i?w.innerHTML=l[p]:w.textContent=l[p],w.textContent=l[p],N.appendChild(w),O.appendChild(N)}}else throw new Error("Error List Item number "+r+": @param { {} } list")}}}htmlToJSON(t){let i=this;var e=0;if(t.firstElementChild.textContent=="{}")return i._mapToJSON(r(tree,new Map));if(t.firstElementChild.textContent=="[]")return i._mapToJSON(r(tree,[]));function r(s,a){if(typeof s!="object"||s==null||Array.isArray(s))throw new Error("Error List Item number "+e+": @param { {} } list");if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map){for(let o=0,h=s.children.length;o<h;o++)if(e++,s.children[o].tagName=="LI")if(s.children[o].firstElementChild.tagName=="CODE")if(s.children[o].firstElementChild.innerHTML.length){let c=s.children[o].firstElementChild.innerHTML.trim();if(c[c.length-1]==":"&&c.length>1){let y=s.children[o].children[1];if(y.tagName=="UL"&&y.firstElementChild.tagName=="LI"&&y.children.length==1&&y.firstElementChild.firstElementChild.tagName=="CODE"){e++;let l=y.firstElementChild.firstElementChild.textContent.trim();l=="true"?a.set(c.slice(0,-1),!0):l=="false"?a.set(c.slice(0,-1),!1):l=="null"?a.set(c.slice(0,-1),null):isFinite(l)&&!isNaN(parseFloat(l))?a.set(c.slice(0,-1),l*1):a.set(c.slice(0,-1),l)}else throw new Error("Error List Item number "+e+": not DAMON-compliant.")}else if(c[c.length-4]==":"&&c.length>4){if(c.slice(-3)==" []")if(a.set(c.slice(0,-4),[]),s.children[o].children[1].tagName=="UL")r(s.children[o].children[1],a.get(c.slice(0,-4)));else throw new Error("Error List Item number "+e+": not DAMON-compliant.");else if(c.slice(-3)==" {}")if(a.set(c.slice(0,-4),new Map),s.children[o].children[1].tagName=="UL")r(s.children[o].children[1],a.get(c.slice(0,-4)));else throw new Error("Error List Item number "+e+": not DAMON-compliant.")}else throw new Error("Error List Item number "+e+": map items need a key")}else throw new Error("Error List Item number "+e+": empty node.");else throw new Error("Error List Item number "+e+": not DAMON-compliant.")}else if(Array.isArray(a)){for(let o=0,h=s.children.length;o<h;o++)if(e++,s.children[o].tagName=="LI")if(s.children[o].firstElementChild.tagName=="CODE")if(s.children[o].firstElementChild.innerHTML.length){let c=s.children[o].firstElementChild.innerHTML.trim();if(c[c.length-1]==":"&&c.length>1)throw new Error("Error List Item number "+e+": lists can't have keys.");if(c[c.length-4]==":"&&c.length>4)throw new Error("Error List Item number "+e+": not DAMON-compliant.");if(c=="[]")if(a.push([]),s.children[o].children[1]&&s.children[o].children[1].tagName=="UL")r(s.children[o].children[1],a[a.length-1]);else throw new Error("Error List Item number "+e+": not DAMON-compliant.");else if(c=="{}")if(a.push({}),s.children[o].children[1]&&s.children[o].children[1].tagName=="UL")r(s.children[o].children[1],a[a.length-1]);else throw new Error("Error List Item number "+e+": not DAMON-compliant.");else c=="true"?a.push(!0):c=="false"?a.push(!1):c=="null"?a.push(null):isFinite(c)&&!isNaN(parseFloat(c))?a.push(c*1):a.push(c)}else throw new Error("Error List Item number "+e+": empty node.");else throw new Error("Error List Item number "+e+": not DAMON-compliant.")}else throw new Error("Error List Item number "+e+": @param { {} | [] } jsonMap");return a}}mapsDiff(t,i){let e=this;try{e.parentContext.mapToJSON(t),e.parentContext.mapToJSON(i)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var r="";return Array.isArray(jsonMap)?r+=`- []
`:r+=`- {}
`,s(jsonMap),r.slice(0,-1);function s(a,o=1){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map)for(let[y,l]of a)if(typeof l=="object"&&l!==null)if(Array.isArray(l)){let O=0,m=l.filter(function(d){return d===!0||d===!1?!0:d===null?(O++,!0):typeof d=="string"?!0:!!(isFinite(d)&&!isNaN(parseFloat(d))&&Number.isFinite(d*1)&&!Number.isNaN(d*1))});if(l.length==m.length&&o*4+2+l.join(", ").length+O*4<=80){let d="["+l.map(p=>JSON.stringify(p)).join(", ")+"]";r+="    ".repeat(o)+"- "+JSON.stringify(y).slice(1,-1)+": "+d+`
`}else r+="    ".repeat(o)+"- "+JSON.stringify(y).slice(1,-1)+`: []
`,s(l,o+1)}else r+="    ".repeat(o)+"- "+JSON.stringify(y).slice(1,-1)+`: {}
`,s(l,o+1);else r+="    ".repeat(o)+"- "+JSON.stringify(y).slice(1,-1)+": ",l===!0?r+=`true
`:l===!1?r+=`false
`:l===null?r+=`null
`:Number.isFinite(l)&&!Number.isNaN(l)?r+=l+`
`:r+=`${JSON.stringify(l)}
`;else if(Array.isArray(a))for(var h=0,c=a.length;h<c;h++)if(typeof a[h]=="object"&&a[h]!==null)if(Array.isArray(a[h])){let y=0,l=a[h].filter(function(O){return O===!0||O===!1?!0:O===null?(y++,!0):typeof O=="string"?!0:!!(isFinite(O)&&!isNaN(parseFloat(O))&&Number.isFinite(O*1)&&!Number.isNaN(O*1))});if(a[h].length==l.length&&o*4+2+a[h].join(", ").length+y*4<=80){let O="["+a[h].map(m=>JSON.stringify(m)).join(", ")+"]";r+="    ".repeat(o)+"- "+O+`
`}else r+="    ".repeat(o)+`- []
`,s(a[h],o+1)}else r+="    ".repeat(o)+`- {}
`,s(a[h],o+1);else a[h]===!0?r+="    ".repeat(o)+`- true
`:a[h]===!1?r+="    ".repeat(o)+`- false
`:a[h]===null?r+="    ".repeat(o)+`- null
`:Number.isFinite(a[h])&&!Number.isNaN(a[h])?r+="    ".repeat(o)+"- "+a[h]+`
`:r+="    ".repeat(o)+`- ${JSON.stringify(a[h])}
`}}}});var xr=Ae((Cn,Sr)=>{var wr=Nr().parse,_n=Ar();Sr.exports=class{constructor(t=!1){let i=this;if(this.indentation=4,[!0,!1,void 0].indexOf(t)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=t,this.utils=new _n(this)}template(t){let i=this;var e=t.raw[0];for(let s=1;s<t.raw.length;s++)typeof arguments[s]=="string"?e+='"'+arguments[s]+'"':e+=arguments[s],e+=t.raw[s];return i._treeToMap(i._damonToTree(e))}damonToMap(t){let i=this,e=i._damonToTree(t);return e===!0||e===!1||e===null||typeof e=="string"||typeof e=="number"?e:i._treeToMap(i._damonToTree(t))}damonToJSON(t){let i=this;return i.mapToJSON(i.damonToMap(t))}damonToSExpression(t){let i=this;return i.implicitMapToSExpression(i.damonToMap(t))}jsonToDamon(t){let i=this;return i.mapToDamon(i.jsonToMap(t),!1)}jsonToMap(t){var e=this._getLines(t,"JSON");if(e=e.filter(r=>!/^ *\/\//.test(r)),e=e.filter(r=>r!=""),e=e.filter(r=>!/^[ \t]+$/.test(r)),e.length==1){if(["true","false","null"].indexOf(e[0].trim())>-1)return JSON.parse(e[0]);if(/^".*"$/.test(e[0].trim()))try{return JSON.parse(e[0].trim())}catch(r){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),r.line=1,r.language="JSON",r.type="string",r}else if(isFinite(e[0])&&!isNaN(parseFloat(e[0]))&&Number.isFinite(e[0]*1)&&!Number.isNaN(e[0]*1)){if(e[0].indexOf(0)==0&&e[0].length>1&&e[0].indexOf(".")!==1)throw new Error("Error line number 1: leading 0",{line:1,language:"DAMON"});try{return JSON.parse(e[0]*1)}catch(r){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),r.line=1,r.language="JSON",r.type="number",r}}else if(e[0]*1===1/0)try{JSON.parse(e[0]*1)}catch(r){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),r.line=1,r.language="JSON",r.type="infinity",r}else return wr(t)}else return wr(t)}_getLines(t,i="DAMON"){if(["DAMON","JSON"].indexOf(i)==-1)throw new Error("Bad language argument, expected 'DAMON' or 'JSON'");if(t==="")throw new Error("Error line 1: empty string",{line:1,language:i});if(/[\s]/.test(t)&&t.match(new RegExp(/[\s]/))[0].length==t.length)throw new Error("Error line 1: string only contains whitespace",{line:1,language:i});var e=/\r\n/.test(t)?`\r
`:`
`,r=t.split(e);if(/\\*\n/.test(t)&&e==`
`){if(/[^\\]\\(\\\\)*\n/.test(t)){let o=t.split(/[^\\]\\(\\\\)*\n/)[0].split(`
`).length;throw new Error("Error line "+o+": oddly escaped newline",{line:o,language:i})}r=t.split("").reverse().join("").split(/\n/).map(o=>o.split("").reverse().join("")).reverse()}return r}_damonToTree(t){let i=this,e=i._getLines(t),r=e.slice(0);if(e=e.filter(p=>!/^ *\/\//.test(p)),e=e.filter(p=>p!=""),e=e.filter(p=>!/^[ \t]+$/.test(p)),e.length==1){if(["true","false","null"].indexOf(e[0].trim())>-1)return JSON.parse(e[0]);if(/^".*"$/.test(e[0].trim()))try{return JSON.parse(e[0].trim())}catch(p){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),p.line=1,p.language="JSON",p.type="string",p}else if(isFinite(e[0])&&!isNaN(parseFloat(e[0]))&&Number.isFinite(e[0]*1)&&!Number.isNaN(e[0]*1)){if(e[0].indexOf(0)==0&&e[0].length>1&&e[0].indexOf(".")!==1)throw new Error("Error line number 1: leading 0",{line:1,language:"DAMON"});try{return JSON.parse(e[0]*1)}catch(p){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),p.line=1,p.language="JSON",p.type="number",p}}else if(e[0]*1===1/0)try{JSON.parse(e[0]*1)}catch(p){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),p.line=1,p.language="JSON",p.type="infinity",p}}let s=0,a=[];for(let p=0,g=r.length;p<g;p++)e.slice(s).indexOf(r[p])>-1?a[p]=e.slice(s).indexOf(r[p]):a[p]=null;let o=new RegExp("^(	)+");for(let p=0,g=e.length;p<g;p++){if(o.test(e[p])){let N=e[p].match(o)[0].length;for(let w=0,_=N;w<_;w++)e[p]=e[p].replace("	"," ".repeat(i.indentation))}if(!/^ *- $/.test(e[p])&&/[ \t]+$/.test(e[p]))throw new Error("Error line "+(a.indexOf(p)+1)+": trailing whitespace",{line:a.indexOf(p)+1,language:"DAMON"})}let h=new RegExp("^("+" ".repeat(i.indentation)+")+");if(h.test(e[0])){let p=e[0].match(h)[0].length,g=!0;for(let N=0,w=e.length;N<w;N++)h.test(e[N])&&e[N].match(h)[0].length>=p?e[N]=e[N].slice(p):g=!1;if(!g)throw new Error("Error line 1: bad formatting",{line:1,language:"DAMON"})}else if(h.test(e[1])&&e[1].match(h)[0].length>i.indentation){let p=e[1].match(h)[0].length-i.indentation,g=!0;for(let N=1,w=e.length;N<w;N++)h.test(e[N])&&e[N].match(h)[0].length>=p?e[N]=e[N].slice(p):g=!1;if(!g)throw new Error("Error line 2: bad formatting",{line:2,language:"DAMON"})}let c=!1;if(e.length>1)for(let p=0,g=e.length;p<g;p++)p!==0&&/^- /.test(e[p])&&(c=!0);if(!/^- \{\}$/.test(e[0])&&!/^- \[\]$/.test(e[0])&&(c=!0),c){for(let p=0,g=e.length;p<g;p++)e[p]=" ".repeat(i.indentation)+e[p];e.unshift("- {}")}var y={content:e[0],level:0,id:0,children:[],headless:c,damonOriginalLinesMapping:a},l=y;if(!/^- /.test(e[0].trimStart())||/^ +/.test(e[0])&&(e[0].match(/^ +/)[0].length%i.indentation!=0||e[0].match(/^ +/)[0].length!=i.indentation))throw new Error("Error line "+(c*1+1)+": bad formatting",{line:c*1+1,language:"DAMON"});e.shift();for(let p=0,g=e.length;p<g;p++){if(!/^- /.test(e[p].trimStart())||/^ +/.test(e[p])&&(e[p].match(/^ +/)[0].length%i.indentation!=0||p==0&&e[p].match(/^ +/)[0].length!=i.indentation||p!=0&&/^- /.test(e[p-1])&&e[p].match(/^ +/)[0].length!=i.indentation||p!=0&&!/^- /.test(e[p-1])&&e[p].match(/^ +/)[0].length>e[p-1].match(/^ +/)[0].length+i.indentation))throw console.log(e[p]),new Error("Error line "+(a.indexOf(p)+1)+": bad formatting",{line:a.indexOf(p)+1,language:"DAMON"});let N={content:e[p].trimStart().slice(2),level:1+e[p].match(/^ +/)[0].length/i.indentation,id:"",children:[]};if(l===y)N.id=y.children.length+1,y.children.push(N);else if(l.level===N.level){var O=i._findListItemCommonDirectParent(l,y);O.level==0?N.id=O.children.length+1:N.id=O.id+"-"+(O.children.length+1),O.children.push(N)}else if(l.level>N.level){var m=i._findListItemCommonAncestor(l,y,N.level);m.level==0?N.id=m.children.length+1:N.id=m.id+"-"+(m.children.length+1),m.children.push(N)}else if(l.level<N.level){var d=i._findListItemCommonDirectParent(l,y);let w=d.children.indexOf(l),_=d.children[w].id,x=d.children[w].children.length+1;N.id=_+"-"+x,d.children[w].children.push(N)}l=N}return y}_findListItemCommonDirectParent(t,i){let e=this;if(i.children.indexOf(t)>-1)return i;var r;for(let s=i.children.length-1,a=0;s>=a;s--)if(r=e._findListItemCommonDirectParent(t,i.children[s]),r)return r}_findListItemCommonAncestor(t,i,e){let r=this;var s=r._findListItemCommonDirectParent(t,i);return s.level<e?s:r._findListItemCommonAncestor(s,i,e)}_treeToMap(t){let i=this;var e=0;if(t.content=="- {}"){let o=new Map;return o.damonOriginalLinesMapping=t.damonOriginalLinesMapping,r(t,o)}else if(t.content=="- []"){let o=[];return o.damonOriginalLinesMapping=t.damonOriginalLinesMapping,r(t,o)}else{let o=new Map;return o.damonOriginalLinesMapping=t.damonOriginalLinesMapping,t.headless&&(o.headless=!0),r(t,o)}function r(o,h){if(typeof o!="object"||o==null||Array.isArray(o))throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": @param { {} } tree",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,language:"DAMON"});if(typeof h=="object"&&h!==null&&!Array.isArray(h)&&h instanceof Map&&h.constructor===Map)s(o,h);else if(Array.isArray(h))a(o,h);else throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": @param { {} | [] } jsonMap",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,language:"DAMON"});return h}function s(o,h){for(let c=0,y=o.children.length;c<y;c++)if(e++,o.children[c].content.length==0){let l="";o.children[c].children.length>0?(l="implicit map key",h.set("",new Map),h.implicitMaps===void 0&&(h.implicitMaps=[]),h.implicitMaps.push(""),r(o.children[c],h.get(""))):(l="implicit null key",h.set("",null),h.implicitNulls===void 0&&(h.implicitNulls=[]),h.implicitNulls.push(""))}else{let l=o.children[c].content,O="key";try{if(/^.*: +\[/.test(l)&&l[l.length-1]=="]")if(/: +\[ *\]$/.test(l)){let m=JSON.parse(`["${l.slice(0,-1*l.match(/: +\[ *\]$/)[0].length)}"]`)[0];h.set(m,[]),o.children[c].children.length>0&&r(o.children[c],h.get(m))}else{let m=new RegExp(/: +\[/g),d=l.slice(0,-1).split(m),p=l.match(m).concat([""]),g=d.map((x,R)=>x+p[R]),N="",w=[];for(let x=0,R=d.length;x<R;x++)try{let D;if(x==0?D=d[0]:D=g.slice(0,x).join("")+d[x],N=JSON.parse(`["${D}"]`)[0],O="list",w=JSON.parse(`[${g.slice(x+1).join("")}]`),Array.isArray(w))break}catch{if(x==R-2)throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": invalid inline list",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,language:"DAMON"})}if(w.every(function(x){return x===!0||x===!1||x===null||typeof x=="string"?!0:!!(isFinite(x)&&!isNaN(parseFloat(x))&&Number.isFinite(x*1)&&!Number.isNaN(x*1))}))h.set(N,w),h.damonInlineArrays===void 0&&(h.damonInlineArrays=[]),h.damonInlineArrays.push(N);else throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": no nesting in inline lists",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,language:"DAMON"});if(o.children[c].children.length>0)throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+3)+": inline lists can't have children",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+3,language:"DAMON"})}else if(/: +\{ *\}$/.test(l)){let m=JSON.parse(`["${l.slice(0,-1*l.match(/: +\{ *\}$/)[0].length)}"]`)[0];h.set(m,new Map),r(o.children[c],h.get(m))}else{let m=!1;if(l.split(new RegExp(/: +/))[l.split(new RegExp(/: +/)).length-1]==="true"){let d=l.match(new RegExp(/: +/g))[l.match(new RegExp(/: +/g)).length-1],p=JSON.parse(`["${l.slice(0,-1*d.length-4)}"]`)[0];h.set(p,!0)}else if(l.split(new RegExp(/: +/))[l.split(new RegExp(/: +/)).length-1]==="false"){let d=l.match(new RegExp(/: +/g))[l.match(new RegExp(/: +/g)).length-1],p=JSON.parse(`["${l.slice(0,-1*d.length-5)}"]`)[0];h.set(p,!1)}else if(l.split(new RegExp(/: +/))[l.split(new RegExp(/: +/)).length-1]=="null"){let d=l.match(new RegExp(/: +/g))[l.match(new RegExp(/: +/g)).length-1],p=JSON.parse(`["${l.slice(0,-1*d.length-4)}"]`)[0];h.set(p,null)}else if(/^.*: +"/.test(l)&&l[l.length-1]=='"'){let d=l.match(new RegExp(/: +"/g));if(d.length==1){let p=JSON.parse(`["${l.split(d[0])[0]}"]`)[0];O="string";let g=JSON.parse(`["${l.split(d[0]).slice(1).join("").slice(0,-1)}"]`)[0];h.set(p,g)}else if(d.length==2&&/: +"$/.test(l)){let p=JSON.parse(`["${l.split(d[0])[0]}"]`)[0];O="string";let g=JSON.parse(`["${l.split(d[0]).slice(1).join("")+": "}"]`)[0];h.set(p,g)}else throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": unescaped double quote",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,language:"DAMON"})}else if(/^.*: /.test(l)&&isFinite(l.split(": ")[l.split(": ").length-1])&&!isNaN(parseFloat(l.split(": ")[l.split(": ").length-1]))&&Number.isFinite(l.split(": ")[l.split(": ").length-1]*1)&&!Number.isNaN(l.split(": ")[l.split(": ").length-1]*1)){let d=JSON.parse(`["${l.split(": ").slice(0,-1).join(": ")}"]`)[0];O="number";let p=l.match(new RegExp(/: +/g)),g=p[p.length-1],N=l.split(g)[l.split(g).length-1];if(N.indexOf(0)==0&&N.length>1&&N.indexOf(".")!==1)throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": leading 0",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,language:"DAMON"});let w=JSON.parse(`[${l.split(": ")[l.split(": ").length-1]*1}]`)[0];h.set(d,w)}else if(/^.*: /.test(l)&&l.split(new RegExp(/: +/))[l.split(new RegExp(/: +/)).length-1]*1===1/0){let d=JSON.parse(`["${l.split(": ").slice(0,-1).join(": ")}"]`)[0];O="infinity";let p=JSON.parse(`[${l.split(": ")[l.split(": ").length-1]*1}]`)}else{let d=!1,p=0;if(/\[ *\]$/.test(l)&&(d=!0,p=l.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(l)&&(d=!0,p=l.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(l)&&(d=!0,p=4),/false$/.test(l)&&(d=!0,p=5),/null$/.test(l)&&(d=!0,p=4),/".*"$/.test(l)&&(d=!0,p=l.match(new RegExp(/".*"$/g))[0].length),!d){let g="";for(let N=l.length-1;N>-1&&(g=l[N].concat(g),isFinite(g)&&!isNaN(parseFloat(g))&&Number.isFinite(g*1)&&!Number.isNaN(g*1));N--){if(!/[ \t]/.test(l[N]))break;d=!0,p=g.length}}if(d){let g=JSON.parse(`["${l.slice(0,-1*p)}"]`)[0];if(i.pedantic)throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e))+": missing separator",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e),language:"DAMON",errorType:"pedantic"});if(/: +$/.test(g))if(m=!0,o.children[c].children.length>0){O="implicit map key";let N=JSON.parse(`["${l}"]`)[0];h.set(N,new Map),h.implicitMaps===void 0&&(h.implicitMaps=[]),h.implicitMaps.push(N),r(o.children[c],h.get(N))}else{O="implicit null key";let N=JSON.parse(`["${l}"]`)[0];h.set(N,null),h.implicitNulls===void 0&&(h.implicitNulls=[]),h.implicitNulls.push(N)}else throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e))+": missing separator",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e),language:"DAMON",errorType:"pedantic"})}else{let g=JSON.parse(`["${l.slice(0,-1*p)}"]`)[0];if(i.pedantic)throw/: +$/.test(g)?new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+3)+": bad value",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e),language:"DAMON",errorType:"pedantic"}):new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e))+": missing separator",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e),language:"DAMON",errorType:"pedantic"});if(m=!0,o.children[c].children.length>0){O="implicit map key";let N=JSON.parse(`["${l}"]`)[0];h.set(N,new Map),h.implicitMaps===void 0&&(h.implicitMaps=[]),h.implicitMaps.push(N),r(o.children[c],h.get(N))}else{O="implicit null key";let N=JSON.parse(`["${l}"]`)[0];h.set(N,null),h.implicitNulls===void 0&&(h.implicitNulls=[]),h.implicitNulls.push(N)}}}if(!m&&o.children[c].children.length>0)throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+3)+": missing container or excess indentation",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+3,language:"DAMON"})}}catch(m){throw m.language===void 0&&(console.error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": not JSON-compliant, detailed error follows"),m.line=t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,m.language="JSON",m.type=O),m}}}function a(o,h){for(let c=0,y=o.children.length;c<y;c++)if(e++,o.children[c].content.length){let l=o.children[c].content;if(/^[ \t]*\[/.test(l)&&l[l.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(l))h.push([]),r(o.children[c],h[h.length-1]);else{let O;try{O=JSON.parse(l)}catch{throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": invalid inline lists",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,language:"JSON",type:"list"})}if(O.every(function(d){return d===!0||d===!1||d===null||typeof d=="string"?!0:!!(isFinite(d)&&!isNaN(parseFloat(d))&&Number.isFinite(d*1)&&!Number.isNaN(d*1))}))h.push(O),h.damonInlineArrays===void 0&&(h.damonInlineArrays=[]),h.damonInlineArrays.push(c);else throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": no nesting in inline lists",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,language:"DAMON"});if(o.children[c].children.length>0)throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+3)+": inline lists can't have children",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+3,language:"DAMON"})}else if(/^[ \t]*\{\}$/.test(l))h.push(new Map),r(o.children[c],h[h.length-1]);else if(/^[ \t]*true$/.test(l))h.push(!0);else if(/^[ \t]*false$/.test(l))h.push(!1);else if(/^[ \t]*null$/.test(l))h.push(null);else if(/^[ \t]*".*"$/.test(l))try{h.push(JSON.parse(`[${l.trimStart()}]`)[0])}catch(O){throw console.error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": not JSON-compliant, detailed error follows"),O.line=t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,O.language="JSON",O.type="string",O}else if(isFinite(l)&&!isNaN(parseFloat(l))&&Number.isFinite(l*1)&&!Number.isNaN(l*1)){if(l.indexOf(0)==0&&l.length>1&&l.indexOf(".")!==1)throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": leading 0",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,language:"DAMON"});try{h.push(JSON.parse(`[${l*1}]`)[0])}catch(O){throw console.error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": not JSON-compliant, detailed error follows"),O.line=t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,O.language="JSON",O.type="number",O}}else if(l*1===1/0)try{JSON.parse(l*1)}catch(O){throw console.error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": not JSON-compliant, detailed error follows"),O.line=t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,O.language="JSON",O.type="infinity",O}else throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": list items can't have a key",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,language:"DAMON"})}else throw new Error("Error line number "+(t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2)+": empty list node",{line:t.headless*-1+t.damonOriginalLinesMapping.indexOf(e-1)+2,language:"DAMON"})}}mapToDamon(t,i){let e=this;var r="";if(Array.isArray(t))r+=`- []
`;else if(typeof t=="object"&&t!==null&&t instanceof Map&&t.constructor===Map)r+=`- {}
`;else return typeof t=="string"&&(t='"'+t+'"'),JSON.parse(t),t;return s(t),e.damonToMap(r.slice(0,-1)),r.slice(0,-1);function s(a,o=1){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map)for(let[y,l]of a)if(typeof l=="object"&&l!==null)if(Array.isArray(l)){let O=0,m=l.filter(function(d){return d===!0||d===!1?!0:d===null?(O++,!0):typeof d=="string"?!0:!!(isFinite(d)&&!isNaN(parseFloat(d))&&Number.isFinite(d*1)&&!Number.isNaN(d*1))});if(l.length==m.length&&o*4+2+l.join(", ").length+O*4<=80||i&&a.damonInlineArrays!==void 0&&a.damonInlineArrays.indexOf(y)>-1){let d="["+l.map(function(p){return typeof p=="string"&&(p=JSON.stringify(p)),p}).join(", ")+"]";r+="    ".repeat(o)+"- "+JSON.stringify(y).slice(1,-1)+": "+d+`
`}else r+="    ".repeat(o)+"- "+JSON.stringify(y).slice(1,-1)+`: []
`,s(l,o+1)}else r+="    ".repeat(o)+"- "+JSON.stringify(y).slice(1,-1)+`: {}
`,s(l,o+1);else r+="    ".repeat(o)+"- "+JSON.stringify(y).slice(1,-1)+": ",l===!0?r+=`true
`:l===!1?r+=`false
`:l===null?r+=`null
`:Number.isFinite(l)&&!Number.isNaN(l)?r+=l+`
`:r+=JSON.stringify(l)+`
`;else if(Array.isArray(a))for(var h=0,c=a.length;h<c;h++)if(typeof a[h]=="object"&&a[h]!==null)if(Array.isArray(a[h])){let y=0,l=a[h].filter(function(O){return O===!0||O===!1?!0:O===null?(y++,!0):typeof O=="string"?!0:!!(isFinite(O)&&!isNaN(parseFloat(O))&&Number.isFinite(O*1)&&!Number.isNaN(O*1))});if(a[h].length==l.length&&o*4+2+a[h].join(", ").length+y*4<=80||i&&a.damonInlineArrays!==void 0&&a.damonInlineArrays.indexOf(h)>-1){let O="["+a[h].map(function(m){return typeof m=="string"&&(m=JSON.stringify(m)),m}).join(", ")+"]";r+="    ".repeat(o)+"- "+O+`
`}else r+="    ".repeat(o)+`- []
`,s(a[h],o+1)}else r+="    ".repeat(o)+`- {}
`,s(a[h],o+1);else a[h]===!0?r+="    ".repeat(o)+`- true
`:a[h]===!1?r+="    ".repeat(o)+`- false
`:a[h]===null?r+="    ".repeat(o)+`- null
`:Number.isFinite(a[h])&&!Number.isNaN(a[h])?r+="    ".repeat(o)+"- "+a[h]+`
`:r+="    ".repeat(o)+"- "+JSON.stringify(a[h])+`
`}}mapToJSON(t){let i=this;var e="";if(Array.isArray(t))return e+=`[\r
`,r(t),e+="]",JSON.parse(e),e;return typeof t=="object"&&t!==null&&t instanceof Map&&t.constructor===Map?(e+=`{\r
`,r(t),e+="}",JSON.parse(e),e):(typeof t=="string"&&(t=JSON.stringify(t)),JSON.parse(t),t);function r(s,a=1){if(typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map)for(let[c,y]of s)typeof y=="object"&&y!==null?Array.isArray(y)?y.length>0?(e+="    ".repeat(a)+`${JSON.stringify(c)}: [\r
`,r(y,a+1),e+="    ".repeat(a)+"]"):e+="    ".repeat(a)+`${JSON.stringify(c)}: []`:Array.from(y.keys()).length>0?(e+="    ".repeat(a)+`${JSON.stringify(c)}: {\r
`,r(y,a+1),e+="    ".repeat(a)+"}"):e+="    ".repeat(a)+`${JSON.stringify(c)}: {}`:y===!0?e+="    ".repeat(a)+`${JSON.stringify(c)}: true`:y===!1?e+="    ".repeat(a)+`${JSON.stringify(c)}: false`:y===null?e+="    ".repeat(a)+`${JSON.stringify(c)}: null`:Number.isFinite(y)&&!Number.isNaN(y)?e+="    ".repeat(a)+`${JSON.stringify(c)}: `+y:e+="    ".repeat(a)+`${JSON.stringify(c)}: `+JSON.stringify(y),c!=Array.from(s.keys())[Array.from(s.keys()).length-1]?e+=`,\r
`:e+=`\r
`;else if(Array.isArray(s))for(var o=0,h=s.length;o<h;o++)typeof s[o]=="object"&&s[o]!==null?Array.isArray(s[o])?s[o].length>0?(e+="    ".repeat(a)+`[\r
`,r(s[o],a+1),e+="    ".repeat(a)+"]"):e+="    ".repeat(a)+"[]":Array.from(s[o].keys()).length>0?(e+="    ".repeat(a)+`{\r
`,r(s[o],a+1),e+="    ".repeat(a)+"}"):e+="    ".repeat(a)+"{}":s[o]===!0?e+="    ".repeat(a)+"true":s[o]===!1?e+="    ".repeat(a)+"false":s[o]===null?e+="    ".repeat(a)+"null":Number.isFinite(s[o])&&!Number.isNaN(s[o])?e+="    ".repeat(a)+s[o]:e+="    ".repeat(a)+JSON.stringify(s[o]),o!=h-1?e+=`,\r
`:e+=`\r
`}}implicitMapToSExpression(t){let i=this;var e="";if(typeof t=="object"&&t!==null&&t instanceof Map&&t.constructor===Map)return e+=`[\r
`,r(t),e+="]",JSON.parse(e),e;return typeof t=="string"&&(t='"'+t+'"'),JSON.parse(t),t;function r(s,a=1){if(typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map){let c=-1;for(let[y,l]of s){if(c++,typeof l=="object"&&l!==null)if(Array.isArray(l))l.length>0?(e+="    ".repeat(a)+`${JSON.stringify(y)}, [\r
`,r(l,a+1),e+="    ".repeat(a)+"]"):e+="    ".repeat(a)+`${JSON.stringify(y)}, []`;else if(Array.from(l.keys()).length>0){if(a==1)if(c==0)e="";else throw new Error("Multiple S-Expression roots");e+="    ".repeat(a)+`[${JSON.stringify(y)}, \r
`,r(l,a+1),a!=1&&(e+="    ".repeat(a)+"]")}else e+="    ".repeat(a)+`${JSON.stringify(y)}, []`;else{if(l===!0)throw new Error("Booleans require quotes");if(l===!1)throw new Error("Booleans require quotes");l===null?e+="    ".repeat(a)+`${JSON.stringify(y)}`:Number.isFinite(l)&&!Number.isNaN(l)?e+="    ".repeat(a)+`${JSON.stringify(y)}, `+l:e+="    ".repeat(a)+`${JSON.stringify(y)}, "${l}"`}y!=Array.from(s.keys())[Array.from(s.keys()).length-1]?e+=`,\r
`:e+=`\r
`}}else if(Array.isArray(s))for(var o=0,h=s.length;o<h;o++){if(typeof s[o]=="object"&&s[o]!==null)Array.isArray(s[o])?s[o].length>0?(e+="    ".repeat(a)+`[\r
`,r(s[o],a+1),e+="    ".repeat(a)+"]"):e+="    ".repeat(a)+"[]":Array.from(s[o].keys()).length>0?(e+="    ".repeat(a)+`[\r
`,r(s[o],a+1),e+="    ".repeat(a)+"]"):e+="    ".repeat(a)+"[]";else{if(s[o]===!0)throw new Error("Booleans require quotes");if(s[o]===!1)throw new Error("Booleans require quotes");if(s[o]===null)throw new Error("Array-nulls require quotes");Number.isFinite(s[o])&&!Number.isNaN(s[o])?e+="    ".repeat(a)+s[o]:e+="    ".repeat(a)+JSON.stringify(s[o])}o!=h-1?e+=`,\r
`:e+=`\r
`}}}getRangeFromPath(t,i){let e=this,r=e.damonToMap(t),s=-1,a=!1;O(r,i),r.headless&&(s-=1);let o=0,h=0;for(let m=0,d=r.damonOriginalLinesMapping.length;m<d;m++)if(r.damonOriginalLinesMapping[m]!==null&&h++,h==s){o=m+1;break}let c=e._getLines(t)[o],y=0,l=c.length;if(i.length==1)typeof i[i.length-1]=="string"?y=c.length-c.trimStart().slice(2+i[i.length-1].length+2).trimStart().length:y=c.length-c.trimStart().slice(2).length;else if(typeof i[i.length-2]=="string")if(typeof i[i.length-1]=="string")y=c.length-c.trimStart().slice(2+i[i.length-1].length+2).trimStart().length;else if(c[c.length-1]=="]"&&!/\[ *\]$/.test(c)){let m=c.trimStart().slice(2+i[i.length-2].length+2),d=JSON.parse(m),p=d.slice(0,i[i.length-1].length).reduce((w,_)=>w+(_===d[i[i.length-1]]),0),g=0,N=d[i[i.length-1]];typeof N=="string"&&(N='"'+N+'"');for(let w=0,_=p+1;w<_;w++)g=m.indexOf(N,g);y=c.length-m.length+g,l=y+N.length}else y=c.length-c.trimStart().slice(2).length;else if(typeof i[i.length-1]=="string")y=c.length-c.trimStart().slice(2+i[i.length-1].length+2).trimStart().length;else if(c[c.length-1]=="]"&&!/\[ *\]$/.test(c)){let m=c.trimStart().slice(2),d=JSON.parse(m),p=d.slice(0,i[i.length-1]).reduce((w,_)=>w+(_===d[i[i.length-1]]),0),g=0,N=d[i[i.length-1]];typeof N=="string"&&(N='"'+N+'"');for(let w=0,_=p+1;w<_;w++)g=m.indexOf(N,g);y=c.length-m.length+g,l=y+N.length}else y=c.length-c.trimStart().slice(2).length;return[[o,y],[o,l]];function O(m,d,p=[]){if(a!=!0){if(s+=1,typeof m=="object"&&m!==null&&!Array.isArray(m)&&m instanceof Map&&m.constructor===Map){for(let[g,N]of m)if(s+=1,typeof N=="object"&&N!==null&&!Array.isArray(N)&&N instanceof Map&&N.constructor===Map)if(JSON.stringify(d)===JSON.stringify(p.concat([g]))){a=!0;return}else Array.from(N.keys()).length&&(s-=1,O(N,d,p.concat([g])));else if(Array.isArray(N))if(JSON.stringify(d)===JSON.stringify(p.concat([g]))){a=!0;return}else(m.damonInlineArrays==null||m.damonInlineArrays.indexOf(g)===-1)&&N.length&&(s-=1,O(N,d,p.concat([g])))}else for(let g=0,N=m.length;g<N;g++)if(s+=1,typeof m[g]=="object"&&m[g]!==null&&!Array.isArray(m[g])&&m[g]instanceof Map&&m[g].constructor===Map)if(JSON.stringify(d)===JSON.stringify(p.concat([g]))){a=!0;return}else Array.from(m[g].keys()).length&&(s-=1,O(m[g],d,p.concat([g])));else if(Array.isArray(m[g]))if(JSON.stringify(d)===JSON.stringify(p.concat([g]))){a=!0;return}else(m.damonInlineArrays==null||m.damonInlineArrays.indexOf(g)===-1)&&m[g].length&&(s-=1,O(m[g],d,p.concat([g])))}}}}});(function(){window.Damon=xr()})();})();
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE *)
*/
