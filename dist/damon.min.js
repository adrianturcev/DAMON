(()=>{var Qe=Object.defineProperty;var an=Object.getOwnPropertyDescriptor;var fn=Object.getOwnPropertyNames;var cn=Object.prototype.hasOwnProperty;var un=(u=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(u,{get:(r,i)=>(typeof require<"u"?require:r)[i]}):u)(function(u){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+u+'" is not supported')});var pn=(u,r)=>()=>(u&&(r=u(u=0)),r);var _e=(u,r)=>()=>(r||u((r={exports:{}}).exports,r),r.exports),hn=(u,r)=>{for(var i in r)Qe(u,i,{get:r[i],enumerable:!0})},dn=(u,r,i,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of fn(r))!cn.call(u,t)&&t!==i&&Qe(u,t,{get:()=>r[t],enumerable:!(e=an(r,t))||e.enumerable});return u};var mn=u=>dn(Qe({},"__esModule",{value:!0}),u);var gr={};hn(gr,{__addDisposableResource:()=>hr,__assign:()=>ke,__asyncDelegator:()=>lr,__asyncGenerator:()=>ir,__asyncValues:()=>sr,__await:()=>pe,__awaiter:()=>Qt,__classPrivateFieldGet:()=>cr,__classPrivateFieldIn:()=>pr,__classPrivateFieldSet:()=>ur,__createBinding:()=>Pe,__decorate:()=>Wt,__disposeResources:()=>dr,__esDecorate:()=>qt,__exportStar:()=>er,__extends:()=>zt,__generator:()=>jt,__importDefault:()=>fr,__importStar:()=>ar,__makeTemplateObject:()=>or,__metadata:()=>Zt,__param:()=>Yt,__propKey:()=>Kt,__read:()=>tt,__rest:()=>Mt,__rewriteRelativeImportExtension:()=>mr,__runInitializers:()=>Vt,__setFunctionName:()=>Xt,__spread:()=>tr,__spreadArray:()=>nr,__spreadArrays:()=>rr,__values:()=>ve,default:()=>En});function zt(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");je(u,r);function i(){this.constructor=u}u.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}function Mt(u,r){var i={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&r.indexOf(e)<0&&(i[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(u);t<e.length;t++)r.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(u,e[t])&&(i[e[t]]=u[e[t]]);return i}function Wt(u,r,i,e){var t=arguments.length,s=t<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,i):e,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(u,r,i,e);else for(var l=u.length-1;l>=0;l--)(n=u[l])&&(s=(t<3?n(s):t>3?n(r,i,s):n(r,i))||s);return t>3&&s&&Object.defineProperty(r,i,s),s}function Yt(u,r){return function(i,e){r(i,e,u)}}function qt(u,r,i,e,t,s){function n(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var l=e.kind,c=l==="getter"?"get":l==="setter"?"set":"value",f=!r&&u?e.static?u:u.prototype:null,g=r||(f?Object.getOwnPropertyDescriptor(f,e.name):{}),o,N=!1,d=i.length-1;d>=0;d--){var m={};for(var p in e)m[p]=p==="access"?{}:e[p];for(var p in e.access)m.access[p]=e.access[p];m.addInitializer=function(E){if(N)throw new TypeError("Cannot add initializers after decoration has completed");s.push(n(E||null))};var y=(0,i[d])(l==="accessor"?{get:g.get,set:g.set}:g[c],m);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(o=n(y.get))&&(g.get=o),(o=n(y.set))&&(g.set=o),(o=n(y.init))&&t.unshift(o)}else(o=n(y))&&(l==="field"?t.unshift(o):g[c]=o)}f&&Object.defineProperty(f,e.name,g),N=!0}function Vt(u,r,i){for(var e=arguments.length>2,t=0;t<r.length;t++)i=e?r[t].call(u,i):r[t].call(u);return e?i:void 0}function Kt(u){return typeof u=="symbol"?u:"".concat(u)}function Xt(u,r,i){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(u,"name",{configurable:!0,value:i?"".concat(i," ",r):r})}function Zt(u,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,r)}function Qt(u,r,i,e){function t(s){return s instanceof i?s:new i(function(n){n(s)})}return new(i||(i=Promise))(function(s,n){function l(g){try{f(e.next(g))}catch(o){n(o)}}function c(g){try{f(e.throw(g))}catch(o){n(o)}}function f(g){g.done?s(g.value):t(g.value).then(l,c)}f((e=e.apply(u,r||[])).next())})}function jt(u,r){var i={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},e,t,s,n=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return n.next=l(0),n.throw=l(1),n.return=l(2),typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function l(f){return function(g){return c([f,g])}}function c(f){if(e)throw new TypeError("Generator is already executing.");for(;n&&(n=0,f[0]&&(i=0)),i;)try{if(e=1,t&&(s=f[0]&2?t.return:f[0]?t.throw||((s=t.return)&&s.call(t),0):t.next)&&!(s=s.call(t,f[1])).done)return s;switch(t=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return i.label++,{value:f[1],done:!1};case 5:i.label++,t=f[1],f=[0];continue;case 7:f=i.ops.pop(),i.trys.pop();continue;default:if(s=i.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){i=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){i.label=f[1];break}if(f[0]===6&&i.label<s[1]){i.label=s[1],s=f;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(f);break}s[2]&&i.ops.pop(),i.trys.pop();continue}f=r.call(u,i)}catch(g){f=[6,g],t=0}finally{e=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function er(u,r){for(var i in u)i!=="default"&&!Object.prototype.hasOwnProperty.call(r,i)&&Pe(r,u,i)}function ve(u){var r=typeof Symbol=="function"&&Symbol.iterator,i=r&&u[r],e=0;if(i)return i.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&e>=u.length&&(u=void 0),{value:u&&u[e++],done:!u}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(u,r){var i=typeof Symbol=="function"&&u[Symbol.iterator];if(!i)return u;var e=i.call(u),t,s=[],n;try{for(;(r===void 0||r-- >0)&&!(t=e.next()).done;)s.push(t.value)}catch(l){n={error:l}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}return s}function tr(){for(var u=[],r=0;r<arguments.length;r++)u=u.concat(tt(arguments[r]));return u}function rr(){for(var u=0,r=0,i=arguments.length;r<i;r++)u+=arguments[r].length;for(var e=Array(u),t=0,r=0;r<i;r++)for(var s=arguments[r],n=0,l=s.length;n<l;n++,t++)e[t]=s[n];return e}function nr(u,r,i){if(i||arguments.length===2)for(var e=0,t=r.length,s;e<t;e++)(s||!(e in r))&&(s||(s=Array.prototype.slice.call(r,0,e)),s[e]=r[e]);return u.concat(s||Array.prototype.slice.call(r))}function pe(u){return this instanceof pe?(this.v=u,this):new pe(u)}function ir(u,r,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i.apply(u,r||[]),t,s=[];return t=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",n),t[Symbol.asyncIterator]=function(){return this},t;function n(d){return function(m){return Promise.resolve(m).then(d,o)}}function l(d,m){e[d]&&(t[d]=function(p){return new Promise(function(y,E){s.push([d,p,y,E])>1||c(d,p)})},m&&(t[d]=m(t[d])))}function c(d,m){try{f(e[d](m))}catch(p){N(s[0][3],p)}}function f(d){d.value instanceof pe?Promise.resolve(d.value.v).then(g,o):N(s[0][2],d)}function g(d){c("next",d)}function o(d){c("throw",d)}function N(d,m){d(m),s.shift(),s.length&&c(s[0][0],s[0][1])}}function lr(u){var r,i;return r={},e("next"),e("throw",function(t){throw t}),e("return"),r[Symbol.iterator]=function(){return this},r;function e(t,s){r[t]=u[t]?function(n){return(i=!i)?{value:pe(u[t](n)),done:!1}:s?s(n):n}:s}}function sr(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=u[Symbol.asyncIterator],i;return r?r.call(u):(u=typeof ve=="function"?ve(u):u[Symbol.iterator](),i={},e("next"),e("throw"),e("return"),i[Symbol.asyncIterator]=function(){return this},i);function e(s){i[s]=u[s]&&function(n){return new Promise(function(l,c){n=u[s](n),t(l,c,n.done,n.value)})}}function t(s,n,l,c){Promise.resolve(c).then(function(f){s({value:f,done:l})},n)}}function or(u,r){return Object.defineProperty?Object.defineProperty(u,"raw",{value:r}):u.raw=r,u}function ar(u){if(u&&u.__esModule)return u;var r={};if(u!=null)for(var i=et(u),e=0;e<i.length;e++)i[e]!=="default"&&Pe(r,u,i[e]);return gn(r,u),r}function fr(u){return u&&u.__esModule?u:{default:u}}function cr(u,r,i,e){if(i==="a"&&!e)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?u!==r||!e:!r.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?e:i==="a"?e.call(u):e?e.value:r.get(u)}function ur(u,r,i,e,t){if(e==="m")throw new TypeError("Private method is not writable");if(e==="a"&&!t)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?u!==r||!t:!r.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e==="a"?t.call(u,i):t?t.value=i:r.set(u,i),i}function pr(u,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof u=="function"?r===u:u.has(r)}function hr(u,r,i){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var e,t;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");e=r[Symbol.asyncDispose]}if(e===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");e=r[Symbol.dispose],i&&(t=e)}if(typeof e!="function")throw new TypeError("Object not disposable.");t&&(e=function(){try{t.call(this)}catch(s){return Promise.reject(s)}}),u.stack.push({value:r,dispose:e,async:i})}else i&&u.stack.push({async:!0});return r}function dr(u){function r(s){u.error=u.hasError?new yn(s,u.error,"An error was suppressed during disposal."):s,u.hasError=!0}var i,e=0;function t(){for(;i=u.stack.pop();)try{if(!i.async&&e===1)return e=0,u.stack.push(i),Promise.resolve().then(t);if(i.dispose){var s=i.dispose.call(i.value);if(i.async)return e|=2,Promise.resolve(s).then(t,function(n){return r(n),t()})}else e|=1}catch(n){r(n)}if(e===1)return u.hasError?Promise.reject(u.error):Promise.resolve();if(u.hasError)throw u.error}return t()}function mr(u,r){return typeof u=="string"&&/^\.\.?\//.test(u)?u.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,e,t,s,n){return e?r?".jsx":".js":t&&(!s||!n)?i:t+s+"."+n.toLowerCase()+"js"}):u}var je,ke,Pe,gn,et,yn,En,yr=pn(()=>{je=function(u,r){return je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])},je(u,r)};ke=function(){return ke=Object.assign||function(r){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},ke.apply(this,arguments)};Pe=Object.create?function(u,r,i,e){e===void 0&&(e=i);var t=Object.getOwnPropertyDescriptor(r,i);(!t||("get"in t?!r.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return r[i]}}),Object.defineProperty(u,e,t)}:function(u,r,i,e){e===void 0&&(e=i),u[e]=r[i]};gn=Object.create?function(u,r){Object.defineProperty(u,"default",{enumerable:!0,value:r})}:function(u,r){u.default=r},et=function(u){return et=Object.getOwnPropertyNames||function(r){var i=[];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(i[i.length]=e);return i},et(u)};yn=typeof SuppressedError=="function"?SuppressedError:function(u,r,i){var e=new Error(i);return e.name="SuppressedError",e.error=u,e.suppressed=r,e};En={__extends:zt,__assign:ke,__rest:Mt,__decorate:Wt,__param:Yt,__esDecorate:qt,__runInitializers:Vt,__propKey:Kt,__setFunctionName:Xt,__metadata:Zt,__awaiter:Qt,__generator:jt,__createBinding:Pe,__exportStar:er,__values:ve,__read:tt,__spread:tr,__spreadArrays:rr,__spreadArray:nr,__await:pe,__asyncGenerator:ir,__asyncDelegator:lr,__asyncValues:sr,__makeTemplateObject:or,__importStar:ar,__importDefault:fr,__classPrivateFieldGet:cr,__classPrivateFieldSet:ur,__classPrivateFieldIn:pr,__addDisposableResource:hr,__disposeResources:dr,__rewriteRelativeImportExtension:mr}});var Er=_e(rt=>{(function(u){"use strict";var r=typeof process=="object"&&process.env?process.env:self;u.parser=function(O){return new o(O)},u.CParser=o,u.CStream=d,u.createStream=N,u.MAX_BUFFER_LENGTH=64*1024,u.DEBUG=r.CDEBUG==="debug",u.INFO=r.CDEBUG==="debug"||r.CDEBUG==="info",u.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var i={textNode:void 0,numberNode:""},e=u.EVENTS.filter(function(O){return O!=="error"&&O!=="end"}),t=0,s;u.STATE={BEGIN:t++,VALUE:t++,OPEN_OBJECT:t++,CLOSE_OBJECT:t++,OPEN_ARRAY:t++,CLOSE_ARRAY:t++,TEXT_ESCAPE:t++,STRING:t++,BACKSLASH:t++,END:t++,OPEN_KEY:t++,CLOSE_KEY:t++,TRUE:t++,TRUE2:t++,TRUE3:t++,FALSE:t++,FALSE2:t++,FALSE3:t++,FALSE4:t++,NULL:t++,NULL2:t++,NULL3:t++,NUMBER_DECIMAL_POINT:t++,NUMBER_DIGIT:t++};for(var n in u.STATE)u.STATE[u.STATE[n]]=n;t=u.STATE;let l={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(O){function a(){this.__proto__=O}return a.prototype=O,new a}),Object.getPrototypeOf||(Object.getPrototypeOf=function(O){return O.__proto__}),Object.keys||(Object.keys=function(O){var a=[];for(var L in O)O.hasOwnProperty(L)&&a.push(L);return a});function c(O){var a=Math.max(u.MAX_BUFFER_LENGTH,10),L=0;for(var A in i){var F=O[A]===void 0?0:O[A].length;if(F>a)switch(A){case"text":closeText(O);break;default:b(O,"Max buffer length exceeded: "+A)}L=Math.max(L,F)}O.bufferCheckPosition=u.MAX_BUFFER_LENGTH-L+O.position}function f(O){for(var a in i)O[a]=i[a]}var g=/[\\"\n]/g;function o(O){if(!(this instanceof o))return new o(O);var a=this;f(a),a.bufferCheckPosition=u.MAX_BUFFER_LENGTH,a.q=a.c=a.p="",a.opt=O||{},a.closed=a.closedRoot=a.sawRoot=!1,a.tag=a.error=null,a.state=t.BEGIN,a.stack=new Array,a.position=a.column=0,a.line=1,a.slashed=!1,a.unicodeI=0,a.unicodeS=null,a.depth=0,m(a,"onready")}o.prototype={end:function(){S(this)},write:I,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{s=un("stream").Stream}catch{s=function(){}}function N(O){return new d(O)}function d(O){if(!(this instanceof d))return new d(O);this._parser=new o(O),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var a=this;s.apply(a),this._parser.onend=function(){a.emit("end")},this._parser.onerror=function(L){a.emit("error",L),a._parser.error=null},e.forEach(function(L){Object.defineProperty(a,"on"+L,{get:function(){return a._parser["on"+L]},set:function(A){if(!A)return a.removeAllListeners(L),a._parser["on"+L]=A,A;a.on(L,A)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(s.prototype,{constructor:{value:d}}),d.prototype.write=function(O){O=new Buffer(O);for(var a=0;a<O.length;a++){var L=O[a];if(this.bytes_remaining>0){for(var A=0;A<this.bytes_remaining;A++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+A]=O[A];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,a=a+A-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&L>=128)if(L>=194&&L<=223&&(this.bytes_in_sequence=2),L>=224&&L<=239&&(this.bytes_in_sequence=3),L>=240&&L<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+a>O.length){for(var F=0;F<=O.length-1-a;F++)this.temp_buffs[this.bytes_in_sequence][F]=O[a+F];return this.bytes_remaining=a+this.bytes_in_sequence-O.length,!0}else{this.string=O.slice(a,a+this.bytes_in_sequence).toString(),a=a+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var K=a;K<O.length&&!(O[K]>=128);K++);this.string=O.slice(a,K).toString(),this._parser.write(this.string),this.emit("data",this.string),a=K-1}},d.prototype.end=function(O){return O&&O.length&&this._parser.write(O.toString()),this._parser.end(),!0},d.prototype.on=function(O,a){var L=this;return!L._parser["on"+O]&&e.indexOf(O)!==-1&&(L._parser["on"+O]=function(){var A=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);A.splice(0,0,O),L.emit.apply(L,A)}),s.prototype.on.call(L,O,a)},d.prototype.destroy=function(){f(this._parser),this.emit("close")};function m(O,a,L){u.INFO&&console.log("-- emit",a,L),O[a]&&O[a](L)}function p(O,a,L){y(O),m(O,a,L)}function y(O,a){O.textNode=w(O.opt,O.textNode),O.textNode!==void 0&&m(O,a||"onvalue",O.textNode),O.textNode=void 0}function E(O){O.numberNode&&m(O,"onvalue",parseFloat(O.numberNode)),O.numberNode=""}function w(O,a){return a===void 0||(O.trim&&(a=a.trim()),O.normalize&&(a=a.replace(/\s+/g," "))),a}function b(O,a){return y(O),a+=`
Line: `+O.line+`
Column: `+O.column+`
Char: `+O.c,a=new Error(a),O.error=a,m(O,"onerror",a),O}function S(O){return(O.state!==t.VALUE||O.depth!==0)&&b(O,"Unexpected end"),y(O),O.c="",O.closed=!0,m(O,"onend"),o.call(O,O.opt),O}function R(O){return O===l.carriageReturn||O===l.lineFeed||O===l.space||O===l.tab}function I(O){var a=this;if(this.error)throw this.error;if(a.closed)return b(a,"Cannot write after close. Assign an onready handler.");if(O===null)return S(a);var L=0,A=O.charCodeAt(0),F=a.p,K=!1;for(u.DEBUG&&console.log("write -> ["+O+"]");A&&(F=A,a.c=A=O.charCodeAt(L++),F!==A?a.p=F:F=a.p,!!A);)switch(u.DEBUG&&console.log(L,A,u.STATE[a.state]),K?K=!1:(a.position++,A===l.lineFeed?(a.line++,a.column=0):a.column++),a.state){case t.BEGIN:A===l.openBrace?a.state=t.OPEN_OBJECT:A===l.openBracket?a.state=t.OPEN_ARRAY:R(A)||b(a,"Non-whitespace before {[.");continue;case t.OPEN_KEY:case t.OPEN_OBJECT:if(R(A))continue;if(a.state===t.OPEN_KEY)a.stack.push(t.CLOSE_KEY);else if(A===l.closeBrace){m(a,"onopenobject"),this.depth++,m(a,"oncloseobject"),this.depth--,a.state=a.stack.pop()||t.VALUE;continue}else a.stack.push(t.CLOSE_OBJECT);A===l.doubleQuote?a.state=t.STRING:b(a,'Malformed object key should start with "');continue;case t.CLOSE_KEY:case t.CLOSE_OBJECT:if(R(A))continue;var we=a.state===t.CLOSE_KEY?"key":"object";A===l.colon?(a.state===t.CLOSE_OBJECT?(a.stack.push(t.CLOSE_OBJECT),y(a,"onopenobject"),this.depth++):y(a,"onkey"),a.state=t.VALUE):A===l.closeBrace?(p(a,"oncloseobject"),this.depth--,a.state=a.stack.pop()||t.VALUE):A===l.comma?(a.state===t.CLOSE_OBJECT&&a.stack.push(t.CLOSE_OBJECT),y(a),a.state=t.OPEN_KEY):b(a,"Bad object");continue;case t.OPEN_ARRAY:case t.VALUE:if(R(A))continue;if(a.state===t.OPEN_ARRAY)if(m(a,"onopenarray"),this.depth++,a.state=t.VALUE,A===l.closeBracket){m(a,"onclosearray"),this.depth--,a.state=a.stack.pop()||t.VALUE;continue}else a.stack.push(t.CLOSE_ARRAY);A===l.doubleQuote?a.state=t.STRING:A===l.openBrace?a.state=t.OPEN_OBJECT:A===l.openBracket?a.state=t.OPEN_ARRAY:A===l.t?a.state=t.TRUE:A===l.f?a.state=t.FALSE:A===l.n?a.state=t.NULL:A===l.minus?a.numberNode+="-":l._0<=A&&A<=l._9?(a.numberNode+=String.fromCharCode(A),a.state=t.NUMBER_DIGIT):b(a,"Bad value");continue;case t.CLOSE_ARRAY:if(A===l.comma)a.stack.push(t.CLOSE_ARRAY),y(a,"onvalue"),a.state=t.VALUE;else if(A===l.closeBracket)p(a,"onclosearray"),this.depth--,a.state=a.stack.pop()||t.VALUE;else{if(R(A))continue;b(a,"Bad array")}continue;case t.STRING:a.textNode===void 0&&(a.textNode="");var Y=L-1,ee=a.slashed,X=a.unicodeI;e:for(;;){for(u.DEBUG&&console.log(L,A,u.STATE[a.state],ee);X>0;)if(a.unicodeS+=String.fromCharCode(A),A=O.charCodeAt(L++),a.position++,X===4?(a.textNode+=String.fromCharCode(parseInt(a.unicodeS,16)),X=0,Y=L-1):X++,!A)break e;if(A===l.doubleQuote&&!ee){a.state=a.stack.pop()||t.VALUE,a.textNode+=O.substring(Y,L-1),a.position+=L-1-Y;break}if(A===l.backslash&&!ee&&(ee=!0,a.textNode+=O.substring(Y,L-1),a.position+=L-1-Y,A=O.charCodeAt(L++),a.position++,!A))break;if(ee){if(ee=!1,A===l.n?a.textNode+=`
`:A===l.r?a.textNode+="\r":A===l.t?a.textNode+="	":A===l.f?a.textNode+="\f":A===l.b?a.textNode+="\b":A===l.u?(X=1,a.unicodeS=""):a.textNode+=String.fromCharCode(A),A=O.charCodeAt(L++),a.position++,Y=L-1,A)continue;break}g.lastIndex=L;var de=g.exec(O);if(de===null){L=O.length+1,a.textNode+=O.substring(Y,L-1),a.position+=L-1-Y;break}if(L=de.index+1,A=O.charCodeAt(de.index),!A){a.textNode+=O.substring(Y,L-1),a.position+=L-1-Y;break}}a.slashed=ee,a.unicodeI=X;continue;case t.TRUE:A===l.r?a.state=t.TRUE2:b(a,"Invalid true started with t"+A);continue;case t.TRUE2:A===l.u?a.state=t.TRUE3:b(a,"Invalid true started with tr"+A);continue;case t.TRUE3:A===l.e?(m(a,"onvalue",!0),a.state=a.stack.pop()||t.VALUE):b(a,"Invalid true started with tru"+A);continue;case t.FALSE:A===l.a?a.state=t.FALSE2:b(a,"Invalid false started with f"+A);continue;case t.FALSE2:A===l.l?a.state=t.FALSE3:b(a,"Invalid false started with fa"+A);continue;case t.FALSE3:A===l.s?a.state=t.FALSE4:b(a,"Invalid false started with fal"+A);continue;case t.FALSE4:A===l.e?(m(a,"onvalue",!1),a.state=a.stack.pop()||t.VALUE):b(a,"Invalid false started with fals"+A);continue;case t.NULL:A===l.u?a.state=t.NULL2:b(a,"Invalid null started with n"+A);continue;case t.NULL2:A===l.l?a.state=t.NULL3:b(a,"Invalid null started with nu"+A);continue;case t.NULL3:A===l.l?(m(a,"onvalue",null),a.state=a.stack.pop()||t.VALUE):b(a,"Invalid null started with nul"+A);continue;case t.NUMBER_DECIMAL_POINT:A===l.period?(a.numberNode+=".",a.state=t.NUMBER_DIGIT):b(a,"Leading zero not followed by .");continue;case t.NUMBER_DIGIT:l._0<=A&&A<=l._9?a.numberNode+=String.fromCharCode(A):A===l.period?(a.numberNode.indexOf(".")!==-1&&b(a,"Invalid number has two dots"),a.numberNode+="."):A===l.e||A===l.E?((a.numberNode.indexOf("e")!==-1||a.numberNode.indexOf("E")!==-1)&&b(a,"Invalid number has two exponential"),a.numberNode+="e"):A===l.plus||A===l.minus?(F===l.e||F===l.E||b(a,"Invalid symbol in number"),a.numberNode+=String.fromCharCode(A)):(E(a),L--,K=!0,a.state=a.stack.pop()||t.VALUE);continue;default:b(a,"Unknown state: "+a.state)}return a.position>=a.bufferCheckPosition&&c(a),a}})(typeof rt>"u"?clarinet={}:rt)});var Or=_e(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.stringify=he.parse=void 0;var Nn=(yr(),mn(gr)),On=Nn.__importDefault(Er());function An(u){let r=it(),i,e;function t(n){try{let l=r.next(n);l.done&&(i=l.value)}catch(l){e=l}}let s=On.default.parser();if(s.onopenobject=n=>t({type:"openobject",key:n}),s.onopenarray=()=>t({type:"openarray"}),s.onkey=n=>t({type:"key",key:n}),s.onvalue=n=>t({type:"value",value:n}),s.oncloseobject=()=>t({type:"closeobject"}),s.onclosearray=()=>t({type:"closearray"}),s.onerror=n=>t({type:"error",err:n}),r.next(),s.write(u).close(),e)throw e;return i}he.parse=An;function nt(u){return Array.isArray(u)?`[${u.map(nt).join(",")}]`:u instanceof Map?`{${[...u].map(([r,i])=>JSON.stringify(r)+":"+nt(i)).join(",")}}`:JSON.stringify(u)}he.stringify=nt;var Nr=Symbol();function*it(){let u=yield;switch(u.type){case"value":return u.value;case"openobject":let r=new Map,i=u.key;for(i===void 0&&(yield);i!==void 0;)r.set(i,yield*it()),i=(yield).key;return r;case"openarray":let e=[],t;for(;;){if(t=yield*it(),t===Nr)return e;e.push(t)}case"closearray":return Nr;case"error":throw u.err;default:throw Error(`Unexpected ParseEvent ${u.type}`)}}});var Ar=_e((lt,st)=>{(function(u,r){typeof lt=="object"&&typeof st<"u"?st.exports=r():typeof define=="function"&&define.amd?define(r):(u=typeof globalThis<"u"?globalThis:u||self,u.DOMPurify=r())})(lt,function(){"use strict";let{entries:u,setPrototypeOf:r,isFrozen:i,getPrototypeOf:e,getOwnPropertyDescriptor:t}=Object,{freeze:s,seal:n,create:l}=Object,{apply:c,construct:f}=typeof Reflect<"u"&&Reflect;s||(s=function(x){return x}),n||(n=function(x){return x}),c||(c=function(x,v,D){return x.apply(v,D)}),f||(f=function(x,v){return new x(...v)});let g=I(Array.prototype.forEach),o=I(Array.prototype.pop),N=I(Array.prototype.push),d=I(String.prototype.toLowerCase),m=I(String.prototype.toString),p=I(String.prototype.match),y=I(String.prototype.replace),E=I(String.prototype.indexOf),w=I(String.prototype.trim),b=I(Object.prototype.hasOwnProperty),S=I(RegExp.prototype.test),R=O(TypeError);function I(k){return function(x){for(var v=arguments.length,D=new Array(v>1?v-1:0),G=1;G<v;G++)D[G-1]=arguments[G];return c(k,x,D)}}function O(k){return function(){for(var x=arguments.length,v=new Array(x),D=0;D<x;D++)v[D]=arguments[D];return f(k,v)}}function a(k,x){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d;r&&r(k,null);let D=x.length;for(;D--;){let G=x[D];if(typeof G=="string"){let te=v(G);te!==G&&(i(x)||(x[D]=te),G=te)}k[G]=!0}return k}function L(k){for(let x=0;x<k.length;x++)b(k,x)||(k[x]=null);return k}function A(k){let x=l(null);for(let[v,D]of u(k))b(k,v)&&(Array.isArray(D)?x[v]=L(D):D&&typeof D=="object"&&D.constructor===Object?x[v]=A(D):x[v]=D);return x}function F(k,x){for(;k!==null;){let D=t(k,x);if(D){if(D.get)return I(D.get);if(typeof D.value=="function")return I(D.value)}k=e(k)}function v(){return null}return v}let K=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),we=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ee=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),X=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),de=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ot=s(["#text"]),at=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$e=s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ft=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Se=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Lr=n(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xr=n(/<%[\w\W]*|[\w\W]*%>/gm),Cr=n(/\${[\w\W]*}/gm),Rr=n(/^data-[\-\w.\u00B7-\uFFFF]/),Ir=n(/^aria-[\-\w]+$/),ct=n(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Dr=n(/^(?:\w+script|data):/i),kr=n(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ut=n(/^html$/i),vr=n(/^[a-z][.\w]*(-[.\w]+)+$/i);var pt=Object.freeze({__proto__:null,MUSTACHE_EXPR:Lr,ERB_EXPR:xr,TMPLIT_EXPR:Cr,DATA_ATTR:Rr,ARIA_ATTR:Ir,IS_ALLOWED_URI:ct,IS_SCRIPT_OR_DATA:Dr,ATTR_WHITESPACE:kr,DOCTYPE_NAME:ut,CUSTOM_ELEMENT:vr});let me={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Pr=function(){return typeof window>"u"?null:window},$r=function(x,v){if(typeof x!="object"||typeof x.createPolicy!="function")return null;let D=null,G="data-tt-policy-suffix";v&&v.hasAttribute(G)&&(D=v.getAttribute(G));let te="dompurify"+(D?"#"+D:"");try{return x.createPolicy(te,{createHTML(le){return le},createScriptURL(le){return le}})}catch{return console.warn("TrustedTypes policy "+te+" could not be created."),null}};function ht(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pr(),x=C=>ht(C);if(x.version="3.1.7",x.removed=[],!k||!k.document||k.document.nodeType!==me.document)return x.isSupported=!1,x;let{document:v}=k,D=v,G=D.currentScript,{DocumentFragment:te,HTMLTemplateElement:le,Node:Fe,Element:dt,NodeFilter:ge,NamedNodeMap:Jr=k.NamedNodeMap||k.MozNamedAttrMap,HTMLFormElement:Ur,DOMParser:Hr,trustedTypes:Te}=k,ye=dt.prototype,Br=F(ye,"cloneNode"),Gr=F(ye,"remove"),zr=F(ye,"nextSibling"),Mr=F(ye,"childNodes"),Le=F(ye,"parentNode");if(typeof le=="function"){let C=v.createElement("template");C.content&&C.content.ownerDocument&&(v=C.content.ownerDocument)}let M,Ee="",{implementation:Je,createNodeIterator:Wr,createDocumentFragment:Yr,getElementsByTagName:qr}=v,{importNode:Vr}=D,Z={};x.isSupported=typeof u=="function"&&typeof Le=="function"&&Je&&Je.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Ue,ERB_EXPR:He,TMPLIT_EXPR:Be,DATA_ATTR:Kr,ARIA_ATTR:Xr,IS_SCRIPT_OR_DATA:Zr,ATTR_WHITESPACE:mt,CUSTOM_ELEMENT:Qr}=pt,{IS_ALLOWED_URI:gt}=pt,J=null,yt=a({},[...K,...we,...Y,...X,...ot]),U=null,Et=a({},[...at,...$e,...ft,...Se]),$=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,Ge=null,Nt=!0,ze=!0,Ot=!1,At=!0,se=!1,Me=!0,ie=!1,We=!1,Ye=!1,oe=!1,xe=!1,Ce=!1,bt=!0,_t=!1,jr="user-content-",qe=!0,Oe=!1,ae={},fe=null,wt=a({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),St=null,Tt=a({},["audio","video","img","source","image","track"]),Ve=null,Lt=a({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Re="http://www.w3.org/1998/Math/MathML",Ie="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xhtml",ce=re,Ke=!1,Xe=null,en=a({},[Re,Ie,re],m),Ae=null,tn=["application/xhtml+xml","text/html"],rn="text/html",H=null,ue=null,nn=v.createElement("form"),xt=function(h){return h instanceof RegExp||h instanceof Function},Ze=function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ue&&ue===h)){if((!h||typeof h!="object")&&(h={}),h=A(h),Ae=tn.indexOf(h.PARSER_MEDIA_TYPE)===-1?rn:h.PARSER_MEDIA_TYPE,H=Ae==="application/xhtml+xml"?m:d,J=b(h,"ALLOWED_TAGS")?a({},h.ALLOWED_TAGS,H):yt,U=b(h,"ALLOWED_ATTR")?a({},h.ALLOWED_ATTR,H):Et,Xe=b(h,"ALLOWED_NAMESPACES")?a({},h.ALLOWED_NAMESPACES,m):en,Ve=b(h,"ADD_URI_SAFE_ATTR")?a(A(Lt),h.ADD_URI_SAFE_ATTR,H):Lt,St=b(h,"ADD_DATA_URI_TAGS")?a(A(Tt),h.ADD_DATA_URI_TAGS,H):Tt,fe=b(h,"FORBID_CONTENTS")?a({},h.FORBID_CONTENTS,H):wt,Ne=b(h,"FORBID_TAGS")?a({},h.FORBID_TAGS,H):{},Ge=b(h,"FORBID_ATTR")?a({},h.FORBID_ATTR,H):{},ae=b(h,"USE_PROFILES")?h.USE_PROFILES:!1,Nt=h.ALLOW_ARIA_ATTR!==!1,ze=h.ALLOW_DATA_ATTR!==!1,Ot=h.ALLOW_UNKNOWN_PROTOCOLS||!1,At=h.ALLOW_SELF_CLOSE_IN_ATTR!==!1,se=h.SAFE_FOR_TEMPLATES||!1,Me=h.SAFE_FOR_XML!==!1,ie=h.WHOLE_DOCUMENT||!1,oe=h.RETURN_DOM||!1,xe=h.RETURN_DOM_FRAGMENT||!1,Ce=h.RETURN_TRUSTED_TYPE||!1,Ye=h.FORCE_BODY||!1,bt=h.SANITIZE_DOM!==!1,_t=h.SANITIZE_NAMED_PROPS||!1,qe=h.KEEP_CONTENT!==!1,Oe=h.IN_PLACE||!1,gt=h.ALLOWED_URI_REGEXP||ct,ce=h.NAMESPACE||re,$=h.CUSTOM_ELEMENT_HANDLING||{},h.CUSTOM_ELEMENT_HANDLING&&xt(h.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=h.CUSTOM_ELEMENT_HANDLING.tagNameCheck),h.CUSTOM_ELEMENT_HANDLING&&xt(h.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=h.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),h.CUSTOM_ELEMENT_HANDLING&&typeof h.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($.allowCustomizedBuiltInElements=h.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),se&&(ze=!1),xe&&(oe=!0),ae&&(J=a({},ot),U=[],ae.html===!0&&(a(J,K),a(U,at)),ae.svg===!0&&(a(J,we),a(U,$e),a(U,Se)),ae.svgFilters===!0&&(a(J,Y),a(U,$e),a(U,Se)),ae.mathMl===!0&&(a(J,X),a(U,ft),a(U,Se))),h.ADD_TAGS&&(J===yt&&(J=A(J)),a(J,h.ADD_TAGS,H)),h.ADD_ATTR&&(U===Et&&(U=A(U)),a(U,h.ADD_ATTR,H)),h.ADD_URI_SAFE_ATTR&&a(Ve,h.ADD_URI_SAFE_ATTR,H),h.FORBID_CONTENTS&&(fe===wt&&(fe=A(fe)),a(fe,h.FORBID_CONTENTS,H)),qe&&(J["#text"]=!0),ie&&a(J,["html","head","body"]),J.table&&(a(J,["tbody"]),delete Ne.tbody),h.TRUSTED_TYPES_POLICY){if(typeof h.TRUSTED_TYPES_POLICY.createHTML!="function")throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof h.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');M=h.TRUSTED_TYPES_POLICY,Ee=M.createHTML("")}else M===void 0&&(M=$r(Te,G)),M!==null&&typeof Ee=="string"&&(Ee=M.createHTML(""));s&&s(h),ue=h}},Ct=a({},["mi","mo","mn","ms","mtext"]),Rt=a({},["annotation-xml"]),ln=a({},["title","style","font","a","script"]),It=a({},[...we,...Y,...ee]),Dt=a({},[...X,...de]),sn=function(h){let _=Le(h);(!_||!_.tagName)&&(_={namespaceURI:ce,tagName:"template"});let T=d(h.tagName),P=d(_.tagName);return Xe[h.namespaceURI]?h.namespaceURI===Ie?_.namespaceURI===re?T==="svg":_.namespaceURI===Re?T==="svg"&&(P==="annotation-xml"||Ct[P]):!!It[T]:h.namespaceURI===Re?_.namespaceURI===re?T==="math":_.namespaceURI===Ie?T==="math"&&Rt[P]:!!Dt[T]:h.namespaceURI===re?_.namespaceURI===Ie&&!Rt[P]||_.namespaceURI===Re&&!Ct[P]?!1:!Dt[T]&&(ln[T]||!It[T]):!!(Ae==="application/xhtml+xml"&&Xe[h.namespaceURI]):!1},Q=function(h){N(x.removed,{element:h});try{Le(h).removeChild(h)}catch{Gr(h)}},De=function(h,_){try{N(x.removed,{attribute:_.getAttributeNode(h),from:_})}catch{N(x.removed,{attribute:null,from:_})}if(_.removeAttribute(h),h==="is"&&!U[h])if(oe||xe)try{Q(_)}catch{}else try{_.setAttribute(h,"")}catch{}},kt=function(h){let _=null,T=null;if(Ye)h="<remove></remove>"+h;else{let B=p(h,/^[\r\n\t ]+/);T=B&&B[0]}Ae==="application/xhtml+xml"&&ce===re&&(h='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+h+"</body></html>");let P=M?M.createHTML(h):h;if(ce===re)try{_=new Hr().parseFromString(P,Ae)}catch{}if(!_||!_.documentElement){_=Je.createDocument(ce,"template",null);try{_.documentElement.innerHTML=Ke?Ee:P}catch{}}let z=_.body||_.documentElement;return h&&T&&z.insertBefore(v.createTextNode(T),z.childNodes[0]||null),ce===re?qr.call(_,ie?"html":"body")[0]:ie?_.documentElement:z},vt=function(h){return Wr.call(h.ownerDocument||h,h,ge.SHOW_ELEMENT|ge.SHOW_COMMENT|ge.SHOW_TEXT|ge.SHOW_PROCESSING_INSTRUCTION|ge.SHOW_CDATA_SECTION,null)},Pt=function(h){return h instanceof Ur&&(typeof h.nodeName!="string"||typeof h.textContent!="string"||typeof h.removeChild!="function"||!(h.attributes instanceof Jr)||typeof h.removeAttribute!="function"||typeof h.setAttribute!="function"||typeof h.namespaceURI!="string"||typeof h.insertBefore!="function"||typeof h.hasChildNodes!="function")},$t=function(h){return typeof Fe=="function"&&h instanceof Fe},ne=function(h,_,T){Z[h]&&g(Z[h],P=>{P.call(x,_,T,ue)})},Ft=function(h){let _=null;if(ne("beforeSanitizeElements",h,null),Pt(h))return Q(h),!0;let T=H(h.nodeName);if(ne("uponSanitizeElement",h,{tagName:T,allowedTags:J}),h.hasChildNodes()&&!$t(h.firstElementChild)&&S(/<[/\w]/g,h.innerHTML)&&S(/<[/\w]/g,h.textContent)||h.nodeType===me.progressingInstruction||Me&&h.nodeType===me.comment&&S(/<[/\w]/g,h.data))return Q(h),!0;if(!J[T]||Ne[T]){if(!Ne[T]&&Ut(T)&&($.tagNameCheck instanceof RegExp&&S($.tagNameCheck,T)||$.tagNameCheck instanceof Function&&$.tagNameCheck(T)))return!1;if(qe&&!fe[T]){let P=Le(h)||h.parentNode,z=Mr(h)||h.childNodes;if(z&&P){let B=z.length;for(let q=B-1;q>=0;--q){let j=Br(z[q],!0);j.__removalCount=(h.__removalCount||0)+1,P.insertBefore(j,zr(h))}}}return Q(h),!0}return h instanceof dt&&!sn(h)||(T==="noscript"||T==="noembed"||T==="noframes")&&S(/<\/no(script|embed|frames)/i,h.innerHTML)?(Q(h),!0):(se&&h.nodeType===me.text&&(_=h.textContent,g([Ue,He,Be],P=>{_=y(_,P," ")}),h.textContent!==_&&(N(x.removed,{element:h.cloneNode()}),h.textContent=_)),ne("afterSanitizeElements",h,null),!1)},Jt=function(h,_,T){if(bt&&(_==="id"||_==="name")&&(T in v||T in nn))return!1;if(!(ze&&!Ge[_]&&S(Kr,_))){if(!(Nt&&S(Xr,_))){if(!U[_]||Ge[_]){if(!(Ut(h)&&($.tagNameCheck instanceof RegExp&&S($.tagNameCheck,h)||$.tagNameCheck instanceof Function&&$.tagNameCheck(h))&&($.attributeNameCheck instanceof RegExp&&S($.attributeNameCheck,_)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(_))||_==="is"&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&S($.tagNameCheck,T)||$.tagNameCheck instanceof Function&&$.tagNameCheck(T))))return!1}else if(!Ve[_]){if(!S(gt,y(T,mt,""))){if(!((_==="src"||_==="xlink:href"||_==="href")&&h!=="script"&&E(T,"data:")===0&&St[h])){if(!(Ot&&!S(Zr,y(T,mt,"")))){if(T)return!1}}}}}}return!0},Ut=function(h){return h!=="annotation-xml"&&p(h,Qr)},Ht=function(h){ne("beforeSanitizeAttributes",h,null);let{attributes:_}=h;if(!_)return;let T={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U},P=_.length;for(;P--;){let z=_[P],{name:B,namespaceURI:q,value:j}=z,be=H(B),W=B==="value"?j:w(j);if(T.attrName=be,T.attrValue=W,T.keepAttr=!0,T.forceKeepAttr=void 0,ne("uponSanitizeAttribute",h,T),W=T.attrValue,T.forceKeepAttr||(De(B,h),!T.keepAttr))continue;if(!At&&S(/\/>/i,W)){De(B,h);continue}se&&g([Ue,He,Be],Gt=>{W=y(W,Gt," ")});let Bt=H(h.nodeName);if(Jt(Bt,be,W)){if(_t&&(be==="id"||be==="name")&&(De(B,h),W=jr+W),Me&&S(/((--!?|])>)|<\/(style|title)/i,W)){De(B,h);continue}if(M&&typeof Te=="object"&&typeof Te.getAttributeType=="function"&&!q)switch(Te.getAttributeType(Bt,be)){case"TrustedHTML":{W=M.createHTML(W);break}case"TrustedScriptURL":{W=M.createScriptURL(W);break}}try{q?h.setAttributeNS(q,B,W):h.setAttribute(B,W),Pt(h)?Q(h):o(x.removed)}catch{}}}ne("afterSanitizeAttributes",h,null)},on=function C(h){let _=null,T=vt(h);for(ne("beforeSanitizeShadowDOM",h,null);_=T.nextNode();)ne("uponSanitizeShadowNode",_,null),!Ft(_)&&(_.content instanceof te&&C(_.content),Ht(_));ne("afterSanitizeShadowDOM",h,null)};return x.sanitize=function(C){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=null,T=null,P=null,z=null;if(Ke=!C,Ke&&(C="<!-->"),typeof C!="string"&&!$t(C))if(typeof C.toString=="function"){if(C=C.toString(),typeof C!="string")throw R("dirty is not a string, aborting")}else throw R("toString is not a function");if(!x.isSupported)return C;if(We||Ze(h),x.removed=[],typeof C=="string"&&(Oe=!1),Oe){if(C.nodeName){let j=H(C.nodeName);if(!J[j]||Ne[j])throw R("root node is forbidden and cannot be sanitized in-place")}}else if(C instanceof Fe)_=kt("<!---->"),T=_.ownerDocument.importNode(C,!0),T.nodeType===me.element&&T.nodeName==="BODY"||T.nodeName==="HTML"?_=T:_.appendChild(T);else{if(!oe&&!se&&!ie&&C.indexOf("<")===-1)return M&&Ce?M.createHTML(C):C;if(_=kt(C),!_)return oe?null:Ce?Ee:""}_&&Ye&&Q(_.firstChild);let B=vt(Oe?C:_);for(;P=B.nextNode();)Ft(P)||(P.content instanceof te&&on(P.content),Ht(P));if(Oe)return C;if(oe){if(xe)for(z=Yr.call(_.ownerDocument);_.firstChild;)z.appendChild(_.firstChild);else z=_;return(U.shadowroot||U.shadowrootmode)&&(z=Vr.call(D,z,!0)),z}let q=ie?_.outerHTML:_.innerHTML;return ie&&J["!doctype"]&&_.ownerDocument&&_.ownerDocument.doctype&&_.ownerDocument.doctype.name&&S(ut,_.ownerDocument.doctype.name)&&(q="<!DOCTYPE "+_.ownerDocument.doctype.name+`>
`+q),se&&g([Ue,He,Be],j=>{q=y(q,j," ")}),M&&Ce?M.createHTML(q):q},x.setConfig=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ze(C),We=!0},x.clearConfig=function(){ue=null,We=!1},x.isValidAttribute=function(C,h,_){ue||Ze({});let T=H(C),P=H(h);return Jt(T,P,_)},x.addHook=function(C,h){typeof h=="function"&&(Z[C]=Z[C]||[],N(Z[C],h))},x.removeHook=function(C){if(Z[C])return o(Z[C])},x.removeHooks=function(C){Z[C]&&(Z[C]=[])},x.removeAllHooks=function(){Z={}},x}var Fr=ht();return Fr})});var _r=_e((Ln,br)=>{var V=Ar();br.exports=class{constructor(r){let i=this;i.parentContext=r,i.websiteRegex=/^(https?:\/\/)?[-a-zA-Z0-9]*[a-zA-Z0-9]+(\.[-a-zA-Z0-9]*[a-zA-Z0-9]+)+/}damonToSExpression(r){let i=this;return i.implicitMapToSExpression(i.parentContext.damonToMap(r))}escape(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(r,i=!1,e=void 0){let t=this;try{t.parentContext.mapToJSON(r)}catch(f){throw console.log(f),new Error("Provided map value doesn't passes JSON.parse()")}var s=0,n=document.createElement("ul"),l;return e!==void 0&&(l=JSON.parse(e)),n.className="DAMON-List",c(r,n),n;function c(f,g){if(typeof g!="object"||g==null||Array.isArray(g))throw new Error("Error List Item number "+s+": @param { {} } list");if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map){if(g.tagName=="UL")for(let[d,m]of f){let p=document.createElement("ul"),y=document.createElement("code"),E=document.createElement("span"),w=document.createElement("li");if(E.className="type-key",t.websiteRegex.test(d)){let b=V.sanitize(`<a href="${d}">${d}</a>`);E.innerHTML=b}else e!==void 0&&d in l["@context"]?E.innerHTML=V.sanitize(`<a href="${l["@context"][d]["@id"]}">${d}</a>`):E.textContent=d;if(typeof m=="object"&&m!==null)if(Array.isArray(m))if(f.damonInlineArrays!==void 0&&f.damonInlineArrays.indexOf(d)>-1){y.innerHTML=E.outerHTML+": [";for(let b=0,S=m.length;b<S;b++){let R=document.createElement("span"),I=m[b];I===!0?(R.textContent="true",R.className="type-boolean"):I===!1?(R.textContent="false",R.className="type-boolean"):I===null?(R.textContent="null",R.className="type-null"):Number.isFinite(I)&&!Number.isNaN(I)?(R.textContent=I+"",R.className="type-number"):(i?t.websiteRegex.test(I)?R.innerHTML=V.sanitize(`<a href="${I}">"${I}"</a>`):R.innerHTML=`"${I}"`:t.websiteRegex.test(I)?R.innerHTML=V.sanitize(`<a href="${I}">"${I}"</a>`):R.textContent=`"${I}"`,R.className="type-string"),b!==0&&(y.innerHTML+=", "),y.appendChild(R)}y.innerHTML+="]",w.appendChild(y),w.appendChild(p),g.appendChild(w)}else y.innerHTML=E.outerHTML+": []",w.appendChild(y),w.appendChild(p),g.appendChild(w),c(m,p);else f.implicitMaps!==void 0&&f.implicitMaps.indexOf(d)>-1?y.innerHTML=E.outerHTML:y.innerHTML=E.outerHTML+": {}",w.appendChild(y),w.appendChild(p),g.appendChild(w),c(m,p);else{s++,y.innerHTML=E.outerHTML+": ";let b=document.createElement("span"),S=m;S===!0?(b.textContent="true",b.className="type-boolean"):S===!1?(b.textContent="false",b.className="type-boolean"):S===null?(b.textContent="null",b.className="type-null"):Number.isFinite(S)&&!Number.isNaN(S)?(b.textContent=S+"",b.className="type-number"):(i?t.websiteRegex.test(S)?b.innerHTML=V.sanitize(`<a href="${S}">"${S}"</a>`):b.innerHTML=`"${S}"`:t.websiteRegex.test(S)?b.innerHTML=V.sanitize(`<a href="${S}">"${S}"</a>`):b.textContent=`"${S}"`,b.className="type-string"),f.implicitNulls===void 0||f.implicitNulls.indexOf(d)==-1?y.appendChild(b):y.innerHTML=y.innerHTML.slice(0,-2),w.appendChild(y),g.appendChild(w)}}}else if(Array.isArray(f))for(var o=0,N=f.length;o<N;o++){let d=document.createElement("ul"),m=document.createElement("code"),p=document.createElement("li");if(typeof f[o]=="object"&&f[o]!==null)if(Array.isArray(f[o]))if(f.damonInlineArrays!==void 0&&f.damonInlineArrays.indexOf(o)>-1){m.innerHTML+="[";for(let y=0,E=f[o].length;y<E;y++){let w=document.createElement("span"),b=f[o][y];b===!0?(w.textContent="true",w.className="type-boolean"):b===!1?(w.textContent="false",w.className="type-boolean"):b===null?(w.textContent="null",w.className="type-null"):Number.isFinite(b)&&!Number.isNaN(b)?(w.textContent=b+"",w.className="type-number"):(i?t.websiteRegex.test(b)?w.innerHTML=V.sanitize(`<a href="${b}">"${b}"</a>`):w.innerHTML=`"${b}"`:t.websiteRegex.test(b)?w.innerHTML=V.sanitize(`<a href="${b}">"${b}"</a>`):w.textContent=`"${b}"`,w.className="type-string"),y!==0&&(m.innerHTML+=", "),m.appendChild(w)}m.innerHTML+="]",p.appendChild(m),p.appendChild(d),g.appendChild(p)}else m.textContent="[]",p.appendChild(m),p.appendChild(d),g.appendChild(p),c(f[o],d);else m.textContent="{}",p.appendChild(m),p.appendChild(d),g.appendChild(p),c(f[o],d);else{s++;let y=f[o];y===!0?(m.textContent="true",m.className="type-boolean"):y===!1?(m.textContent="false",m.className="type-boolean"):y===null?(m.textContent="null",m.className="type-null"):Number.isFinite(y)&&!Number.isNaN(y)?(m.textContent=y+"",m.className="type-number"):(i?t.websiteRegex.test(y)?m.innerHTML=V.sanitize(`<a href="${y}">"${y}"</a>`):m.innerHTML=`"${y}"`:t.websiteRegex.test(y)?m.innerHTML=V.sanitize(`<a href="${y}">"${y}"</a>`):m.textContent=`"${y}"`,m.className="type-string"),p.appendChild(m),p.appendChild(d),g.appendChild(p)}}}}mapToHtmlTable(r,i=!1){let e=this;try{e.parentContext.mapToJSON(r)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var t=0,s=document.createElement("table"),n=document.createElement("thead"),l=document.createElement("tbody"),c=!1,f=0;if(s.className="DAMON-Table",typeof r!="object"||r==null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map)throw new Error("Error List Item number "+t+": @param { {} } list");for(let[g,o]of r){if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map)if(g=="0"&&!c){let N=document.createElement("tr");f=o.length;for(let[d,m]of o)if(m===null){let p=document.createElement("th");i?e.websiteRegex.test(d)?p.innerHTML=V.sanitize(`<a href="${d}">${d}</a>`):p.innerHTML=`${d}`:e.websiteRegex.test(d)?p.innerHTML=V.sanitize(`<a href="${d}">${d}</a>`):p.textContent=`${d}`,N.appendChild(p)}else throw new Error("Expected implicit null property, saw otherwise");n.appendChild(N),c=!0}else{if(f==0&&(f=o.length),o.length!=f)throw new Error("Error List Item number "+t+": @param { {} } list");let N=document.createElement("tr");for(let[d,m]of o)if(m===null){let p=document.createElement("td");i?e.websiteRegex.test(d)?p.innerHTML=V.sanitize(`<a href="${d}">${d}</a>`):p.innerHTML=`${d}`:e.websiteRegex.test(d)?p.innerHTML=V.sanitize(`<a href="${d}">${d}</a>`):p.textContent=`${d}`,N.appendChild(p)}else throw new Error("Expected implicit null property, saw otherwise");l.appendChild(N)}else if(typeof o!="object"&&g=="00"){let N=document.createElement("caption");i?N.innerHTML=o:N.textContent=o,s.appendChild(N)}else throw new Error("Error List Item number "+t+": @param { {} } list");t++}return c&&s.appendChild(n),s.appendChild(l),s}mapTreeLeavesToHtmlTable(r,i=!1){let e=this;try{e.parentContext.mapToJSON(r)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var t=0,s=0,n=document.createElement("table"),l=document.createElement("thead"),c=document.createElement("tbody"),f=!1;if(n.className="DAMON-LeavesToTable",typeof r!="object"||r==null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map)throw new Error("Error List Item number "+t+": @param { {} } list");for(let[o,N]of r){if(typeof N=="object"&&!Array.isArray(N)){if(o=="head"&&!f){try{g(N,l)}catch{return}f=!0}else if(o=="body")try{g(N,c)}catch{return}}else if(typeof N!="object"&&o=="caption"){let d=document.createElement("caption");i?d.innerHTML=N:d.textContent=N,n.appendChild(d)}else throw new Error("Error List Item number "+t+": @param { {} } list");t++}return f&&n.appendChild(l),n.appendChild(c),n;function g(o,N,d=0,m=[]){if(typeof N!="object"||N==null)throw new Error("Error List Item number "+t+": @param { {} } list");if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map){if(N.tagName=="THEAD")if(Array.from(o.keys()).length==1)if(typeof o.get(Array.from(o.keys())[0])=="object"&&o.get(Array.from(o.keys())[0])!==null)t++,g(o.get(Array.from(o.keys())[0]),N,d+1,m.concat([Array.from(o.keys())[0]]));else throw new Error("Error List Item number "+t+": @param { {} } list");else throw new Error("Error List Item number "+t+": @param { {} } list");else if(N.tagName=="TBODY"){if(Array.from(o.keys()).length==0)throw new Error("Error List Item number "+t+": @param { {} } list");for(let[p,y]of o)if(typeof y=="object"&&y!==null)t++,g(y,N,d+1,m.concat([p]));else throw new Error("Error List Item number "+t+": @param { {} } list")}}else if(Array.isArray(o)){if(N.tagName=="THEAD")if(o.length==1){t++,s=d;let p=document.createElement("tr");m.push(o[0]);for(let y=0,E=m.length;y<E;y++){let w=document.createElement("th");i?w.innerHTML=m[y]:w.textContent=m[y],p.appendChild(w)}N.appendChild(p)}else throw new Error("Error List Item number "+t+": @param { {} } list");else if(N.tagName=="TBODY")if(d==s){if(o.length==0)throw new Error("Error List Item number "+t+": @param { {} } list");for(let p=0,y=o.length;p<y;p++){t++;let E=document.createElement("tr");for(let b=0,S=m.length;b<S;b++){let R=document.createElement("td");i?R.innerHTML=m[b]:R.textContent=m[b],E.appendChild(R)}let w=document.createElement("td");i?w.innerHTML=o[p]:w.textContent=o[p],w.textContent=o[p],E.appendChild(w),N.appendChild(E)}}else throw new Error("Error List Item number "+t+": @param { {} } list")}}}htmlToJSON(r){let i=this;var e=0;if(r.firstElementChild.textContent=="{}")return i._mapToJSON(t(r,new Map));if(r.firstElementChild.textContent=="[]")return i._mapToJSON(t(r,[]));function t(s,n){if(typeof s!="object"||s==null||Array.isArray(s))throw new Error("Error List Item number "+e+": @param { {} } list");if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map){for(let l=0,c=s.children.length;l<c;l++)if(e++,s.children[l].tagName=="LI")if(s.children[l].firstElementChild.tagName=="CODE")if(s.children[l].firstElementChild.innerHTML.length){let f=s.children[l].firstElementChild.innerHTML.trim();if(f[f.length-1]==":"&&f.length>1){let g=s.children[l].children[1];if(g.tagName=="UL"&&g.firstElementChild.tagName=="LI"&&g.children.length==1&&g.firstElementChild.firstElementChild.tagName=="CODE"){e++;let o=g.firstElementChild.firstElementChild.textContent.trim();o=="true"?n.set(f.slice(0,-1),!0):o=="false"?n.set(f.slice(0,-1),!1):o=="null"?n.set(f.slice(0,-1),null):isFinite(o)&&!isNaN(parseFloat(o))?n.set(f.slice(0,-1),o*1):n.set(f.slice(0,-1),o)}else throw new Error("Error List Item number "+e+": not DAMON-compliant.")}else if(f[f.length-4]==":"&&f.length>4){if(f.slice(-3)==" []")if(n.set(f.slice(0,-4),[]),s.children[l].children[1].tagName=="UL")t(s.children[l].children[1],n.get(f.slice(0,-4)));else throw new Error("Error List Item number "+e+": not DAMON-compliant.");else if(f.slice(-3)==" {}")if(n.set(f.slice(0,-4),new Map),s.children[l].children[1].tagName=="UL")t(s.children[l].children[1],n.get(f.slice(0,-4)));else throw new Error("Error List Item number "+e+": not DAMON-compliant.")}else throw new Error("Error List Item number "+e+": map items need a key")}else throw new Error("Error List Item number "+e+": empty node.");else throw new Error("Error List Item number "+e+": not DAMON-compliant.")}else if(Array.isArray(n)){for(let l=0,c=s.children.length;l<c;l++)if(e++,s.children[l].tagName=="LI")if(s.children[l].firstElementChild.tagName=="CODE")if(s.children[l].firstElementChild.innerHTML.length){let f=s.children[l].firstElementChild.innerHTML.trim();if(f[f.length-1]==":"&&f.length>1)throw new Error("Error List Item number "+e+": lists can't have keys.");if(f[f.length-4]==":"&&f.length>4)throw new Error("Error List Item number "+e+": not DAMON-compliant.");if(f=="[]")if(n.push([]),s.children[l].children[1]&&s.children[l].children[1].tagName=="UL")t(s.children[l].children[1],n[n.length-1]);else throw new Error("Error List Item number "+e+": not DAMON-compliant.");else if(f=="{}")if(n.push({}),s.children[l].children[1]&&s.children[l].children[1].tagName=="UL")t(s.children[l].children[1],n[n.length-1]);else throw new Error("Error List Item number "+e+": not DAMON-compliant.");else f=="true"?n.push(!0):f=="false"?n.push(!1):f=="null"?n.push(null):isFinite(f)&&!isNaN(parseFloat(f))?n.push(f*1):n.push(f)}else throw new Error("Error List Item number "+e+": empty node.");else throw new Error("Error List Item number "+e+": not DAMON-compliant.")}else throw new Error("Error List Item number "+e+": @param { {} | [] } jsonMap");return n}}implicitMapToSExpression(r){let i=this;var e="";if(typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map)return e+=`[\r
`,t(r),e+="]",JSON.parse(e),e;return typeof r=="string"&&(r='"'+r+'"'),JSON.parse(r),r;function t(s,n=1){if(typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map){let f=-1;for(let[g,o]of s){if(f++,typeof o=="object"&&o!==null)if(Array.isArray(o))o.length>0?(e+="    ".repeat(n)+`${JSON.stringify(g)}, [\r
`,t(o,n+1),e+="    ".repeat(n)+"]"):e+="    ".repeat(n)+`${JSON.stringify(g)}, []`;else if(Array.from(o.keys()).length>0){if(n==1)if(f==0)e="";else throw new Error("Multiple S-Expression roots");e+="    ".repeat(n)+`[${JSON.stringify(g)}, \r
`,t(o,n+1),n!=1&&(e+="    ".repeat(n)+"]")}else e+="    ".repeat(n)+`${JSON.stringify(g)}, []`;else{if(o===!0)throw new Error("Booleans require quotes");if(o===!1)throw new Error("Booleans require quotes");o===null?e+="    ".repeat(n)+`${JSON.stringify(g)}`:Number.isFinite(o)&&!Number.isNaN(o)?e+="    ".repeat(n)+`${JSON.stringify(g)}, `+o:e+="    ".repeat(n)+`${JSON.stringify(g)}, "${o}"`}g!=Array.from(s.keys())[Array.from(s.keys()).length-1]?e+=`,\r
`:e+=`\r
`}}else if(Array.isArray(s))for(var l=0,c=s.length;l<c;l++){if(typeof s[l]=="object"&&s[l]!==null)Array.isArray(s[l])?s[l].length>0?(e+="    ".repeat(n)+`[\r
`,t(s[l],n+1),e+="    ".repeat(n)+"]"):e+="    ".repeat(n)+"[]":Array.from(s[l].keys()).length>0?(e+="    ".repeat(n)+`[\r
`,t(s[l],n+1),e+="    ".repeat(n)+"]"):e+="    ".repeat(n)+"[]";else{if(s[l]===!0)throw new Error("Booleans require quotes");if(s[l]===!1)throw new Error("Booleans require quotes");if(s[l]===null)throw new Error("Array-nulls require quotes");Number.isFinite(s[l])&&!Number.isNaN(s[l])?e+="    ".repeat(n)+s[l]:e+="    ".repeat(n)+JSON.stringify(s[l])}l!=c-1?e+=`,\r
`:e+=`\r
`}}}getPathsList(r){let e=this.parentContext.damonToMap(r),t=[];return s(e),t;function s(n,l=[]){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map)for(let[c,f]of n)typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map&&Array.from(f.keys()).length?(t.push(l.concat(c)),s(f,l.concat([c]))):Array.isArray(f)&&(n.damonInlineArrays==null||n.damonInlineArrays.indexOf(c)===-1)&&f.length?(t.push(l.concat(c)),s(f,l.concat([c]))):t.push(l.concat(c).concat(f));else for(let c=0,f=n.length;c<f;c++)typeof n[c]=="object"&&n[c]!==null&&!Array.isArray(n[c])&&n[c]instanceof Map&&n[c].constructor===Map&&Array.from(n[c].keys()).length?(t.push(l.concat(c)),s(n[c],l.concat([c]))):Array.isArray(n[c])&&(n.damonInlineArrays==null||n.damonInlineArrays.indexOf(c)===-1)&&n[c].length?(t.push(l.concat(c)),s(n[c],l.concat([c]))):t.push(l.concat(n[c]))}}damonToMathJs(r){let i=this,e="",t=i.parentContext.damonToMap(r);if(Array.isArray(t))return e+=`(\r
`,s(t),e+=")",e;return typeof t=="object"&&t!==null&&t instanceof Map&&t.constructor===Map?(e+=`(\r
`,s(t),e+=")",e):(typeof t=="string"&&(t=JSON.stringify(t)),JSON.parse(t),t);function s(n,l=1){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map)for(let[g,o]of n)typeof o=="object"&&o!==null?Array.isArray(o)?o.length>0?(e+="    ".repeat(l)+`${JSON.stringify(g)}(\r
`,s(o,l+1),e+="    ".repeat(l)+")"):e+="    ".repeat(l)+`${JSON.stringify(g)}()`:Array.from(o.keys()).length>0?(e+="    ".repeat(l)+`${JSON.stringify(g)}(\r
`,s(o,l+1),e+="    ".repeat(l)+")"):e+="    ".repeat(l)+`${JSON.stringify(g)}()`:o===!0?e+="    ".repeat(l)+`${JSON.stringify(g)}(true)`:o===!1?e+="    ".repeat(l)+`${JSON.stringify(g)}(false)`:o===null?e+="    ".repeat(l)+`${JSON.stringify(g)}(null)`:Number.isFinite(o)&&!Number.isNaN(o)?e+="    ".repeat(l)+`${JSON.stringify(g)}(`+o+")":e+="    ".repeat(l)+`${JSON.stringify(g)}(`+JSON.stringify(o)+")",g!=Array.from(n.keys())[Array.from(n.keys()).length-1]?e+=`,\r
`:e+=`\r
`;else if(Array.isArray(n))for(var c=0,f=n.length;c<f;c++)typeof n[c]=="object"&&n[c]!==null?Array.isArray(n[c])?n[c].length>0?n.damonInlineArrays!==void 0&&n.damonInlineArrays.indexOf(c)>-1?e+="    ".repeat(l)+JSON.stringify(n[c]):(e+="    ".repeat(l)+`(\r
`,s(n[c],l+1),e+="    ".repeat(l)+")"):e+="    ".repeat(l)+"()":Array.from(n[c].keys()).length>0?(e+="    ".repeat(l)+`(\r
`,s(n[c],l+1),e+="    ".repeat(l)+")"):e+="    ".repeat(l)+"()":n[c]===!0?e+="    ".repeat(l)+"true":n[c]===!1?e+="    ".repeat(l)+"false":n[c]===null?e+="    ".repeat(l)+"null":Number.isFinite(n[c])&&!Number.isNaN(n[c])?e+="    ".repeat(l)+n[c]:e+="    ".repeat(l)+JSON.stringify(n[c]),c!=f-1?e+=`,\r
`:e+=`\r
`}}mapsDiff(r,i){let e=this;try{e.parentContext.mapToJSON(r),e.parentContext.mapToJSON(i)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}if(typeof r!=typeof i){let n="go"}var t="";return Array.isArray(r)?t+=`- []
`:t+=`- {}
`,s(r),t.slice(0,-1);function s(n,l=1){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map)for(let[g,o]of n)if(typeof o=="object"&&o!==null)if(Array.isArray(o)){let N=0,d=o.filter(function(m){return m===!0||m===!1?!0:m===null?(N++,!0):typeof m=="string"?!0:!!(isFinite(m)&&!isNaN(parseFloat(m))&&Number.isFinite(m*1)&&!Number.isNaN(m*1))});if(o.length==d.length&&l*4+2+o.join(", ").length+N*4<=80){let m="["+o.map(p=>JSON.stringify(p)).join(", ")+"]";t+="    ".repeat(l)+"- "+JSON.stringify(g).slice(1,-1)+": "+m+`
`}else t+="    ".repeat(l)+"- "+JSON.stringify(g).slice(1,-1)+`: []
`,s(o,l+1)}else t+="    ".repeat(l)+"- "+JSON.stringify(g).slice(1,-1)+`: {}
`,s(o,l+1);else t+="    ".repeat(l)+"- "+JSON.stringify(g).slice(1,-1)+": ",o===!0?t+=`true
`:o===!1?t+=`false
`:o===null?t+=`null
`:Number.isFinite(o)&&!Number.isNaN(o)?t+=o+`
`:t+=`${JSON.stringify(o)}
`;else if(Array.isArray(n))for(var c=0,f=n.length;c<f;c++)if(typeof n[c]=="object"&&n[c]!==null)if(Array.isArray(n[c])){let g=0,o=n[c].filter(function(N){return N===!0||N===!1?!0:N===null?(g++,!0):typeof N=="string"?!0:!!(isFinite(N)&&!isNaN(parseFloat(N))&&Number.isFinite(N*1)&&!Number.isNaN(N*1))});if(n[c].length==o.length&&l*4+2+n[c].join(", ").length+g*4<=80){let N="["+n[c].map(d=>JSON.stringify(d)).join(", ")+"]";t+="    ".repeat(l)+"- "+N+`
`}else t+="    ".repeat(l)+`- []
`,s(n[c],l+1)}else t+="    ".repeat(l)+`- {}
`,s(n[c],l+1);else n[c]===!0?t+="    ".repeat(l)+`- true
`:n[c]===!1?t+="    ".repeat(l)+`- false
`:n[c]===null?t+="    ".repeat(l)+`- null
`:Number.isFinite(n[c])&&!Number.isNaN(n[c])?t+="    ".repeat(l)+"- "+n[c]+`
`:t+="    ".repeat(l)+`- ${JSON.stringify(n[c])}
`}}}});var Tr=_e((Cn,Sr)=>{var wr=Or().parse,bn=_r();Sr.exports=class{constructor(r=!1){let i=this;if(this.indentation=4,[!0,!1,void 0].indexOf(r)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=r,this.utils=new bn(i)}template(r){let i=this;var e=r.raw[0];for(let s=1;s<r.raw.length;s++)typeof arguments[s]=="string"?e+='"'+arguments[s]+'"':e+=arguments[s],e+=r.raw[s];return i._treeToMap(i._damonToTree(e))}damonToMap(r){let i=this,e=i._damonToTree(r);return e===!0||e===!1||e===null||typeof e=="string"||typeof e=="number"?e:i._treeToMap(i._damonToTree(r))}damonToJSON(r){let i=this;return i.mapToJSON(i.damonToMap(r))}jsonToDamon(r){let i=this;return i.mapToDamon(i.jsonToMap(r),!1)}jsonToMap(r){var e=this._getLines(r,"JSON");if(e=e.filter(t=>!/^ *\/\//.test(t)),e=e.filter(t=>t!=""),e=e.filter(t=>!/^[ \t]+$/.test(t)),e.length==1){if(["true","false","null"].indexOf(e[0].trim())>-1)return JSON.parse(e[0]);if(/^".*"$/.test(e[0].trim()))try{return JSON.parse(e[0].trim())}catch(t){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),t.line=1,t.language="JSON",t.type="string",t}else if(isFinite(e[0])&&!isNaN(parseFloat(e[0]))&&Number.isFinite(e[0]*1)&&!Number.isNaN(e[0]*1)){if(e[0].indexOf(0)==0&&e[0].length>1&&e[0].indexOf(".")!==1){let t=new Error("Error line number 1: leading 0");throw t.line=1,t.language="DAMON",t}try{return JSON.parse(e[0]*1)}catch(t){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),t.line=1,t.language="JSON",t.type="number",t}}else if(e[0]*1===1/0)try{JSON.parse(e[0]*1)}catch(t){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),t.line=1,t.language="JSON",t.type="infinity",t}else return wr(r)}else return wr(r)}_getLines(r,i="DAMON"){if(["DAMON","JSON"].indexOf(i)==-1)throw new Error("Bad language argument, expected 'DAMON' or 'JSON'");if(r===""){let s=new Error("Error line 1: empty string");throw s.line=1,s.language=i,s}if(/[\s]/.test(r)&&r.match(new RegExp(/[\s]/))[0].length==r.length){let s=new Error("Error line 1: string only contains whitespace");throw s.line=1,s.language=i,s}var e=/\r\n/.test(r)?`\r
`:`
`,t=r.split(e);if(/\\*\n/.test(r)&&e==`
`){if(/[^\\]\\(\\\\)*\n/.test(r)){let l=r.split(/[^\\]\\(\\\\)*\n/)[0].split(`
`).length,c=new Error("Error line "+l+": oddly escaped newline");throw c.line=l,c.language=i,c}t=r.split("").reverse().join("").split(/\n/).map(l=>l.split("").reverse().join("")).reverse()}return t}_damonToTree(r){let i=this,e=i._getLines(r),t=e.slice(0);if(e=e.filter(p=>!/^ *\/\//.test(p)),e=e.filter(p=>p!=""),e=e.filter(p=>!/^[ \t]+$/.test(p)),e.length==1){if(["true","false","null"].indexOf(e[0].trim())>-1)return JSON.parse(e[0]);if(/^".*"$/.test(e[0].trim()))try{return JSON.parse(e[0].trim())}catch(p){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),p.line=1,p.language="JSON",p.type="string",p}else if(isFinite(e[0])&&!isNaN(parseFloat(e[0]))&&Number.isFinite(e[0]*1)&&!Number.isNaN(e[0]*1)){if(e[0].indexOf(0)==0&&e[0].length>1&&e[0].indexOf(".")!==1){let p=new Error("Error line number 1: leading 0");throw p.line=1,p.language="DAMON",p}try{return JSON.parse(e[0]*1)}catch(p){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),p.line=1,p.language="JSON",p.type="number",p}}else if(e[0]*1===1/0)try{JSON.parse(e[0]*1)}catch(p){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),p.line=1,p.language="JSON",p.type="infinity",p}}let s=0,n=[];for(let p=0,y=t.length;p<y;p++)e.slice(s).indexOf(t[p])>-1?n[p]=e.slice(s).indexOf(t[p]):n[p]=null;let l=new RegExp("^(\\t)+");for(let p=0,y=e.length;p<y;p++){if(l.test(e[p])){let E=e[p].match(l)[0].length;for(let w=0,b=E;w<b;w++)e[p]=e[p].replace("	"," ".repeat(i.indentation))}if(!/^ *- $/.test(e[p])&&/[ \t]+$/.test(e[p])){let E=new Error("Error line "+(n.indexOf(p)+1)+": trailing whitespace");throw E.line=n.indexOf(p)+1,E.language="DAMON",E}}let c=new RegExp("^("+" ".repeat(i.indentation)+")+");if(c.test(e[0])){let p=e[0].match(c)[0].length,y=!0;for(let E=0,w=e.length;E<w;E++)c.test(e[E])&&e[E].match(c)[0].length>=p?e[E]=e[E].slice(p):y=!1;if(!y){let E=new Error("Error line 1: bad formatting");throw E.line=1,E.language="DAMON",E}}else if(c.test(e[1])&&e[1].match(c)[0].length>i.indentation){let p=e[1].match(c)[0].length-i.indentation,y=!0;for(let E=1,w=e.length;E<w;E++)c.test(e[E])&&e[E].match(c)[0].length>=p?e[E]=e[E].slice(p):y=!1;if(!y){let E=new Error("Error line 2: bad formatting");throw E.line=2,E.language="DAMON",E}}let f=!1;if(e.length>1)for(let p=0,y=e.length;p<y;p++)p!==0&&/^- /.test(e[p])&&(f=!0);if(!/^- \{\}$/.test(e[0])&&!/^- \[\]$/.test(e[0])&&(f=!0),f){for(let p=0,y=e.length;p<y;p++)e[p]=" ".repeat(i.indentation)+e[p];e.unshift("- {}")}var g={content:e[0],level:0,id:0,children:[],headless:f,damonOriginalLinesMapping:n},o=g;if(!/^- /.test(e[0].trimStart())||/^ +/.test(e[0])&&(e[0].match(/^ +/)[0].length%i.indentation!=0||e[0].match(/^ +/)[0].length!=i.indentation)){let p=new Error("Error line "+(f*1+1)+": bad formatting");throw p.line=f*1+1,p.language="DAMON",p}e.shift();for(let p=0,y=e.length;p<y;p++){if(!/^- /.test(e[p].trimStart())||/^ +/.test(e[p])&&(e[p].match(/^ +/)[0].length%i.indentation!=0||p==0&&e[p].match(/^ +/)[0].length!=i.indentation||p!=0&&/^- /.test(e[p-1])&&e[p].match(/^ +/)[0].length!=i.indentation||p!=0&&!/^- /.test(e[p-1])&&e[p].match(/^ +/)[0].length>e[p-1].match(/^ +/)[0].length+i.indentation)){console.log(e[p]);let w=new Error("Error line "+(n.indexOf(p)+1)+": bad formatting");throw w.line=n.indexOf(p)+1,w.language="DAMON",w}let E={content:e[p].trimStart().slice(2),level:1+e[p].match(/^ +/)[0].length/i.indentation,id:"",children:[]};if(o===g)E.id=g.children.length+1,g.children.push(E);else if(o.level===E.level){var N=i._findListItemCommonDirectParent(o,g);N.level==0?E.id=N.children.length+1:E.id=N.id+"-"+(N.children.length+1),N.children.push(E)}else if(o.level>E.level){var d=i._findListItemCommonAncestor(o,g,E.level);d.level==0?E.id=d.children.length+1:E.id=d.id+"-"+(d.children.length+1),d.children.push(E)}else if(o.level<E.level){var m=i._findListItemCommonDirectParent(o,g);let w=m.children.indexOf(o),b=m.children[w].id,S=m.children[w].children.length+1;E.id=b+"-"+S,m.children[w].children.push(E)}o=E}return g}_findListItemCommonDirectParent(r,i){let e=this;if(i.children.indexOf(r)>-1)return i;var t;for(let s=i.children.length-1,n=0;s>=n;s--)if(t=e._findListItemCommonDirectParent(r,i.children[s]),t)return t}_findListItemCommonAncestor(r,i,e){let t=this;var s=t._findListItemCommonDirectParent(r,i);return s.level<e?s:t._findListItemCommonAncestor(s,i,e)}_treeToMap(r){let i=this;var e=0;if(r.content=="- {}"){let l=new Map;return l.damonOriginalLinesMapping=r.damonOriginalLinesMapping,t(r,l)}else if(r.content=="- []"){let l=[];return l.damonOriginalLinesMapping=r.damonOriginalLinesMapping,t(r,l)}else{let l=new Map;return l.damonOriginalLinesMapping=r.damonOriginalLinesMapping,r.headless&&(l.headless=!0),t(r,l)}function t(l,c){if(typeof l!="object"||l==null||Array.isArray(l)){let f=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,g=new Error("Error line number "+f+": @param { {} } tree");throw g.line=f,g.language="DAMON",g}if(typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map)s(l,c);else if(Array.isArray(c))n(l,c);else{let f=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,g=new Error("Error line number "+f+": @param { {} | [] } jsonMap");throw g.line=f,g.language="DAMON",g}return c}function s(l,c){for(let f=0,g=l.children.length;f<g;f++)if(e++,l.children[f].content.length==0){let o="";l.children[f].children.length>0?(o="implicit map key",c.set("",new Map),c.implicitMaps===void 0&&(c.implicitMaps=[]),c.implicitMaps.push(""),t(l.children[f],c.get(""))):(o="implicit null key",c.set("",null),c.implicitNulls===void 0&&(c.implicitNulls=[]),c.implicitNulls.push(""))}else{let o=l.children[f].content,N="key";try{if(/^.*: +\[/.test(o)&&o[o.length-1]=="]")if(/: +\[ *\]$/.test(o)){let d=JSON.parse(`["${o.slice(0,-1*o.match(/: +\[ *\]$/)[0].length)}"]`)[0];c.set(d,[]),l.children[f].children.length>0&&t(l.children[f],c.get(d))}else{let d=new RegExp(/: +\[/g),m=o.slice(0,-1).split(d),p=o.match(d).concat([""]),y=m.map((S,R)=>S+p[R]),E="",w=[];for(let S=0,R=m.length;S<R;S++)try{let I;if(S==0?I=m[0]:I=y.slice(0,S).join("")+m[S],E=JSON.parse(`["${I}"]`)[0],N="list",w=JSON.parse(`[${y.slice(S+1).join("")}]`),Array.isArray(w))break}catch{if(S==R-2){let O=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,a=new Error("Error line number "+O+": invalid inline list");throw a.line=O,a.language="DAMON",a}}if(w.every(function(S){return S===!0||S===!1||S===null||typeof S=="string"?!0:!!(isFinite(S)&&!isNaN(parseFloat(S))&&Number.isFinite(S*1)&&!Number.isNaN(S*1))}))c.set(E,w),c.damonInlineArrays===void 0&&(c.damonInlineArrays=[]),c.damonInlineArrays.push(E);else{let S=+(r.headless*-1)+r.damonOriginalLinesMapping.indexOf(e-1)+2,R=new Error("Error line number "+S+": no nesting in inline lists");throw R.line=S,R.language="DAMON",R}if(l.children[f].children.length>0){let S=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+3,R=new Error("Error line number "+S+": inline lists can't have children");throw R.line=S,R.language="DAMON",R}}else if(/: +\{ *\}$/.test(o)){let d=JSON.parse(`["${o.slice(0,-1*o.match(/: +\{ *\}$/)[0].length)}"]`)[0];c.set(d,new Map),t(l.children[f],c.get(d))}else{let d=!1;if(/^.*: /.test(o)&&o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="true"){let m=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],p=JSON.parse(`["${o.slice(0,-1*m.length-4)}"]`)[0];c.set(p,!0)}else if(/^.*: /.test(o)&&o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="false"){let m=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],p=JSON.parse(`["${o.slice(0,-1*m.length-5)}"]`)[0];c.set(p,!1)}else if(/^.*: /.test(o)&&o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="null"){let m=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],p=JSON.parse(`["${o.slice(0,-1*m.length-4)}"]`)[0];c.set(p,null)}else if(/^.*: +"/.test(o)&&o[o.length-1]=='"'){let m=o.match(new RegExp(/: +"/g));if(m.length==1){let p=JSON.parse(`["${o.split(m[0])[0]}"]`)[0];N="string";let y=JSON.parse(`["${o.split(m[0]).slice(1).join("").slice(0,-1)}"]`)[0];c.set(p,y)}else if(m.length==2&&/: +"$/.test(o)){let p=JSON.parse(`["${o.split(m[0])[0]}"]`)[0];N="string";let y=JSON.parse(`["${o.split(m[0]).slice(1).join("")+": "}"]`)[0];c.set(p,y)}else{let p=+(r.headless*-1)+r.damonOriginalLinesMapping.indexOf(e-1)+2,y=new Error("Error line number "+p+": unescaped double quote");throw y.line=p,y.language="DAMON",y}}else if(/^.*: /.test(o)&&isFinite(o.split(": ")[o.split(": ").length-1])&&!isNaN(parseFloat(o.split(": ")[o.split(": ").length-1]))&&Number.isFinite(o.split(": ")[o.split(": ").length-1]*1)&&!Number.isNaN(o.split(": ")[o.split(": ").length-1]*1)){let m=JSON.parse(`["${o.split(": ").slice(0,-1).join(": ")}"]`)[0];N="number";let p=o.match(new RegExp(/: +/g)),y=p[p.length-1],E=o.split(y)[o.split(y).length-1];if(E.indexOf(0)==0&&E.length>1&&E.indexOf(".")!==1){let b=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,S=new Error("Error line number "+b+": leading 0");throw S.line=b,S.language="DAMON",S}let w=JSON.parse(`[${o.split(": ")[o.split(": ").length-1]*1}]`)[0];c.set(m,w)}else if(/^.*: /.test(o)&&o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]*1===1/0){let m=JSON.parse(`["${o.split(": ").slice(0,-1).join(": ")}"]`)[0];N="infinity";let p=JSON.parse(`[${o.split(": ")[o.split(": ").length-1]*1}]`)}else{let m=!1,p=0;if(/\[ *\]$/.test(o)&&(m=!0,p=o.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(o)&&(m=!0,p=o.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(o)&&(m=!0,p=4),/false$/.test(o)&&(m=!0,p=5),/null$/.test(o)&&(m=!0,p=4),/".*"$/.test(o)&&(m=!0,p=o.match(new RegExp(/".*"$/g))[0].length),!m){let y="";for(let E=o.length-1;E>-1&&(y=o[E].concat(y),isFinite(y)&&!isNaN(parseFloat(y))&&Number.isFinite(y*1)&&!Number.isNaN(y*1));E--){if(!/[ \t]/.test(o[E]))break;m=!0,p=y.length}}if(m)if(JSON.parse(`["${o.slice(0,-1*p)}"]`)[0],i.pedantic){let y=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e),E=new Error("Error line number "+y+": missing separator");throw E.line=y,E.language="DAMON",E.errorType="pedantic",E}else if(d=!0,l.children[f].children.length>0){N="implicit map key";let y=JSON.parse(`["${o}"]`)[0];c.set(y,new Map),c.implicitMaps===void 0&&(c.implicitMaps=[]),c.implicitMaps.push(y),t(l.children[f],c.get(y))}else{N="implicit null key";let y=JSON.parse(`["${o}"]`)[0];c.set(y,null),c.implicitNulls===void 0&&(c.implicitNulls=[]),c.implicitNulls.push(y)}else{let y=JSON.parse(`["${o.slice(0,-1*p)}"]`)[0];if(i.pedantic)if(/: +$/.test(y)){let E=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e),w=new Error("Error line number "+E+": bad value");throw w.line=E,w.language="DAMON",w.errorType="pedantic",w}else{let E=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e),w=new Error("Error line number "+E+": missing separator");throw w.line=E,w.language="DAMON",w.errorType="pedantic",w}else if(d=!0,l.children[f].children.length>0){N="implicit map key";let E=JSON.parse(`["${o}"]`)[0];c.set(E,new Map),c.implicitMaps===void 0&&(c.implicitMaps=[]),c.implicitMaps.push(E),t(l.children[f],c.get(E))}else{N="implicit null key";let E=JSON.parse(`["${o}"]`)[0];c.set(E,null),c.implicitNulls===void 0&&(c.implicitNulls=[]),c.implicitNulls.push(E)}}}if(!d&&l.children[f].children.length>0){let m=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+3,p=new Error("Error line number "+m+": missing container or excess indentation");throw p.line=m,p.language="DAMON",p}}}catch(d){if(d.language===void 0){let m=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2;console.error("Error line number "+m+": not JSON-compliant, detailed error follows"),d.line=m,d.language="JSON",d.type=N}throw d}}}function n(l,c){for(let f=0,g=l.children.length;f<g;f++)if(e++,l.children[f].content.length){let o=l.children[f].content;if(/^[ \t]*\[/.test(o)&&o[o.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(o))c.push([]),t(l.children[f],c[c.length-1]);else{let N;try{N=JSON.parse(o)}catch{let p=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,y=new Error("Error line number "+p+": invalid inline lists");throw y.line=p,y.language="JSON",y.type="list",y}if(N.every(function(m){return m===!0||m===!1||m===null||typeof m=="string"?!0:!!(isFinite(m)&&!isNaN(parseFloat(m))&&Number.isFinite(m*1)&&!Number.isNaN(m*1))}))c.push(N),c.damonInlineArrays===void 0&&(c.damonInlineArrays=[]),c.damonInlineArrays.push(f);else{let m=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,p=new Error("Error line number "+m+": no nesting in inline lists");throw p.line=m,p.language="DAMON",p}if(l.children[f].children.length>0){let m=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+3,p=new Error("Error line number "+m+": inline lists can't have children");throw p.line=m,p.language="DAMON",p}}else if(/^[ \t]*\{\}$/.test(o))c.push(new Map),t(l.children[f],c[c.length-1]);else if(/^[ \t]*true$/.test(o))c.push(!0);else if(/^[ \t]*false$/.test(o))c.push(!1);else if(/^[ \t]*null$/.test(o))c.push(null);else if(/^[ \t]*".*"$/.test(o))try{c.push(JSON.parse(`[${o.trimStart()}]`)[0])}catch(N){let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2;throw console.error("Error line number "+d+": not JSON-compliant, detailed error follows"),N.line=d,N.language="JSON",N.type="string",N}else if(isFinite(o)&&!isNaN(parseFloat(o))&&Number.isFinite(o*1)&&!Number.isNaN(o*1)){if(o.indexOf(0)==0&&o.length>1&&o.indexOf(".")!==1){let N=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,d=new Error("Error line number "+N+": leading 0");throw d.line=N,d.language="DAMON",d}try{c.push(JSON.parse(`[${o*1}]`)[0])}catch(N){let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2;throw console.error("Error line number "+d+": not JSON-compliant, detailed error follows"),N.line=d,N.language="JSON",N.type="number",N}}else if(o*1===1/0)try{JSON.parse(o*1)}catch(N){let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2;throw console.error("Error line number "+d+": not JSON-compliant, detailed error follows"),N.line=d,N.language="JSON",N.type="infinity",N}else{let N=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,d=new Error("Error line number "+N+": list items can't have a key");throw d.line=N,d.language="DAMON",d}}else{let o=r.headless*-1+r.damonOriginalLinesMapping.indexOf(e-1)+2,N=new Error("Error line number "+o+": empty list node");throw N.line=o,N.language="DAMON",N}}}mapToDamon(r,i){let e=this;var t="";if(Array.isArray(r))t+=`- []
`;else if(typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map)t+=`- {}
`;else return typeof r=="string"&&(r='"'+r+'"'),JSON.parse(r),r;return s(r),e.damonToMap(t.slice(0,-1)),t.slice(0,-1);function s(n,l=1){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map)for(let[g,o]of n)if(typeof o=="object"&&o!==null)if(Array.isArray(o)){let N=0,d=o.filter(function(m){return m===!0||m===!1?!0:m===null?(N++,!0):typeof m=="string"?!0:!!(isFinite(m)&&!isNaN(parseFloat(m))&&Number.isFinite(m*1)&&!Number.isNaN(m*1))});if(o.length==d.length&&l*4+2+o.join(", ").length+N*4<=80||i&&n.damonInlineArrays!==void 0&&n.damonInlineArrays.indexOf(g)>-1){let m="["+o.map(function(p){return typeof p=="string"&&(p=JSON.stringify(p)),p}).join(", ")+"]";t+="    ".repeat(l)+"- "+JSON.stringify(g).slice(1,-1)+": "+m+`
`}else t+="    ".repeat(l)+"- "+JSON.stringify(g).slice(1,-1)+`: []
`,s(o,l+1)}else t+="    ".repeat(l)+"- "+JSON.stringify(g).slice(1,-1)+`: {}
`,s(o,l+1);else t+="    ".repeat(l)+"- "+JSON.stringify(g).slice(1,-1)+": ",o===!0?t+=`true
`:o===!1?t+=`false
`:o===null?t+=`null
`:Number.isFinite(o)&&!Number.isNaN(o)?t+=o+`
`:t+=JSON.stringify(o)+`
`;else if(Array.isArray(n))for(var c=0,f=n.length;c<f;c++)if(typeof n[c]=="object"&&n[c]!==null)if(Array.isArray(n[c])){let g=0,o=n[c].filter(function(N){return N===!0||N===!1?!0:N===null?(g++,!0):typeof N=="string"?!0:!!(isFinite(N)&&!isNaN(parseFloat(N))&&Number.isFinite(N*1)&&!Number.isNaN(N*1))});if(n[c].length==o.length&&l*4+2+n[c].join(", ").length+g*4<=80||i&&n.damonInlineArrays!==void 0&&n.damonInlineArrays.indexOf(c)>-1){let N="["+n[c].map(function(d){return typeof d=="string"&&(d=JSON.stringify(d)),d}).join(", ")+"]";t+="    ".repeat(l)+"- "+N+`
`}else t+="    ".repeat(l)+`- []
`,s(n[c],l+1)}else t+="    ".repeat(l)+`- {}
`,s(n[c],l+1);else n[c]===!0?t+="    ".repeat(l)+`- true
`:n[c]===!1?t+="    ".repeat(l)+`- false
`:n[c]===null?t+="    ".repeat(l)+`- null
`:Number.isFinite(n[c])&&!Number.isNaN(n[c])?t+="    ".repeat(l)+"- "+n[c]+`
`:t+="    ".repeat(l)+"- "+JSON.stringify(n[c])+`
`}}mapToJSON(r){let i=this;var e="";if(Array.isArray(r))return e+=`[\r
`,t(r),e+="]",JSON.parse(e),e;return typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map?(e+=`{\r
`,t(r),e+="}",JSON.parse(e),e):(typeof r=="string"&&(r=JSON.stringify(r)),JSON.parse(r),r);function t(s,n=1){if(typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map)for(let[f,g]of s)typeof g=="object"&&g!==null?Array.isArray(g)?g.length>0?(e+="    ".repeat(n)+`${JSON.stringify(f)}: [\r
`,t(g,n+1),e+="    ".repeat(n)+"]"):e+="    ".repeat(n)+`${JSON.stringify(f)}: []`:Array.from(g.keys()).length>0?(e+="    ".repeat(n)+`${JSON.stringify(f)}: {\r
`,t(g,n+1),e+="    ".repeat(n)+"}"):e+="    ".repeat(n)+`${JSON.stringify(f)}: {}`:g===!0?e+="    ".repeat(n)+`${JSON.stringify(f)}: true`:g===!1?e+="    ".repeat(n)+`${JSON.stringify(f)}: false`:g===null?e+="    ".repeat(n)+`${JSON.stringify(f)}: null`:Number.isFinite(g)&&!Number.isNaN(g)?e+="    ".repeat(n)+`${JSON.stringify(f)}: `+g:e+="    ".repeat(n)+`${JSON.stringify(f)}: `+JSON.stringify(g),f!=Array.from(s.keys())[Array.from(s.keys()).length-1]?e+=`,\r
`:e+=`\r
`;else if(Array.isArray(s))for(var l=0,c=s.length;l<c;l++)typeof s[l]=="object"&&s[l]!==null?Array.isArray(s[l])?s[l].length>0?(e+="    ".repeat(n)+`[\r
`,t(s[l],n+1),e+="    ".repeat(n)+"]"):e+="    ".repeat(n)+"[]":Array.from(s[l].keys()).length>0?(e+="    ".repeat(n)+`{\r
`,t(s[l],n+1),e+="    ".repeat(n)+"}"):e+="    ".repeat(n)+"{}":s[l]===!0?e+="    ".repeat(n)+"true":s[l]===!1?e+="    ".repeat(n)+"false":s[l]===null?e+="    ".repeat(n)+"null":Number.isFinite(s[l])&&!Number.isNaN(s[l])?e+="    ".repeat(n)+s[l]:e+="    ".repeat(n)+JSON.stringify(s[l]),l!=c-1?e+=`,\r
`:e+=`\r
`}}getRangeFromPath(r,i){let e=this,t=e.damonToMap(r),s=-1,n=!1;N(t,i),t.headless&&(s-=1);let l=0,c=0;for(let d=0,m=t.damonOriginalLinesMapping.length;d<m;d++)if(t.damonOriginalLinesMapping[d]!==null&&c++,c==s){l=d+1;break}let f=e._getLines(r)[l],g=0,o=f.length;if(i.length==1)typeof i[i.length-1]=="string"?g=f.length-f.trimStart().slice(2+i[i.length-1].length+2).trimStart().length:g=f.length-f.trimStart().slice(2).length;else if(typeof i[i.length-2]=="string")if(typeof i[i.length-1]=="string")g=f.length-f.trimStart().slice(2+i[i.length-1].length+2).trimStart().length;else if(f[f.length-1]=="]"&&!/\[ *\]$/.test(f)){let d=f.trimStart().slice(2+i[i.length-2].length+2),m=JSON.parse(d),p=m.slice(0,i[i.length-1].length).reduce((w,b)=>w+(b===m[i[i.length-1]]),0),y=0,E=m[i[i.length-1]];typeof E=="string"&&(E='"'+E+'"');for(let w=0,b=p+1;w<b;w++)y=d.indexOf(E,y);g=f.length-d.length+y,o=g+E.length}else g=f.length-f.trimStart().slice(2).length;else if(typeof i[i.length-1]=="string")g=f.length-f.trimStart().slice(2+i[i.length-1].length+2).trimStart().length;else if(f[f.length-1]=="]"&&!/\[ *\]$/.test(f)){let d=f.trimStart().slice(2),m=JSON.parse(d),p=m.slice(0,i[i.length-1]).reduce((w,b)=>w+(b===m[i[i.length-1]]),0),y=0,E=m[i[i.length-1]];typeof E=="string"&&(E='"'+E+'"');for(let w=0,b=p+1;w<b;w++)y=d.indexOf(E,y);g=f.length-d.length+y,o=g+E.length}else g=f.length-f.trimStart().slice(2).length;return[[l,g],[l,o]];function N(d,m,p=[]){if(n!=!0)if(s+=1,typeof d=="object"&&d!==null&&!Array.isArray(d)&&d instanceof Map&&d.constructor===Map)for(let[y,E]of d){if(s+=1,JSON.stringify(m)===JSON.stringify(p.concat([y]))){n=!0;return}typeof E=="object"&&E!==null&&!Array.isArray(E)&&E instanceof Map&&E.constructor===Map&&Array.from(E.keys()).length?(s-=1,N(E,m,p.concat([y]))):Array.isArray(E)&&(d.damonInlineArrays==null||d.damonInlineArrays.indexOf(y)===-1)&&E.length&&(s-=1,N(E,m,p.concat([y])))}else for(let y=0,E=d.length;y<E;y++){if(s+=1,JSON.stringify(m)===JSON.stringify(p.concat([y]))){n=!0;return}typeof d[y]=="object"&&d[y]!==null&&!Array.isArray(d[y])&&d[y]instanceof Map&&d[y].constructor===Map&&Array.from(d[y].keys()).length?(s-=1,N(d[y],m,p.concat([y]))):Array.isArray(d[y])&&(d.damonInlineArrays==null||d.damonInlineArrays.indexOf(y)===-1)&&d[y].length&&(s-=1,N(d[y],m,p.concat([y])))}}}getTokenFromCoordinates(r,i){let e=this,t={},s=e._getLines(r).slice(0,i[0]);if(s[i[0]-1]=="")return t.type="newline",t.path=null,t.range=[i,i],t;if(/^[ \t]+$/.test(s[i[0]-1]))return t.type="indentation",t.path=null,t.range=[[i[0],1],[i[0],s[s.length-1].length]],t;if(/^[ \t]+/.test(s[i[0]-1].slice(0,i[1]-1))&&(t.type="indentation",t.range=[[i[0],1],[i[0],s[i[0]-1].match(/^[ \t]+/)[0].length]]),/^ *\/\//.test(s[i[0]-1]))return t.type=="indentation"?(t.path=null,t):(t.type="comment",t.path=null,t.range=[[[i[0],s[i[0]-1].split("//")[0].length]],[[i[0],s[i[0]-1].length]]],t);if(s.length==1)try{let g=JSON.parse(r);if(g===!0||g===!1||g===null||typeof g=="string"||typeof g=="number"){let o=r.match(/^ */)[0].length,N=r.match(/ *$/)[0].length;return t.type="null",typeof g!="object"&&(t.type=typeof g),t.path=null,t.range=[[0,o],[0,r.length-N]],t}}catch{}let n=e.damonToMap(s.join(`
`)),l=Array.from(n.keys()),c=[];for(;l.length;){let g=l[l.length-1];if(c.push(g),typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map?n=n.get(g):Array.isArray(n)&&(n=n[g]),n===!0||n===!1||n===null||typeof n=="string"||typeof n=="number")break;l=Array.from(n.keys())}t.path=c;let f=e.getRangeFromPath(r,c);if(typeof c[c.length-1]=="string")if(i[1]<f[0][1]){let g=s[i[0]-1].slice(0,-1*(f[1][1]-f[0][1])-1).length;if(i[1]<g){let o=s[i[0]-1].match(/^[ \t]+/)[0].length+3;i[1]>=o?(t.type="property",t.range=[[i[0],o],[i[0],g]]):(t.type="hyphen",t.range=[[i[0],o-2],[i[0],o-1]])}else t.type="separator",t.range=[[i[0],g+1],[i[0],f[0][1]-1]]}else t.type="?",t.range=f;else if(i[1]<f[0][1]){t.type="hyphen";let g=s[i[0]-1].match(/^[ \t]+/)[0].length+1;t.range=[[i[0],g],[i[0],g+1]]}else t.type="?",t.range=f;return t}}});(function(){window.Damon=Tr()})();})();
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE *)
*/
