(()=>{var Qe=Object.defineProperty;var an=Object.getOwnPropertyDescriptor;var fn=Object.getOwnPropertyNames;var cn=Object.prototype.hasOwnProperty;var un=(f=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(f,{get:(r,n)=>(typeof require<"u"?require:r)[n]}):f)(function(f){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+f+'" is not supported')});var pn=(f,r)=>()=>(f&&(r=f(f=0)),r);var Ae=(f,r)=>()=>(r||f((r={exports:{}}).exports,r),r.exports),hn=(f,r)=>{for(var n in r)Qe(f,n,{get:r[n],enumerable:!0})},dn=(f,r,n,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let e of fn(r))!cn.call(f,e)&&e!==n&&Qe(f,e,{get:()=>r[e],enumerable:!(t=an(r,e))||t.enumerable});return f};var mn=f=>dn(Qe({},"__esModule",{value:!0}),f);var gr={};hn(gr,{__addDisposableResource:()=>hr,__assign:()=>ve,__asyncDelegator:()=>lr,__asyncGenerator:()=>ir,__asyncValues:()=>sr,__await:()=>pe,__awaiter:()=>Qt,__classPrivateFieldGet:()=>cr,__classPrivateFieldIn:()=>pr,__classPrivateFieldSet:()=>ur,__createBinding:()=>Pe,__decorate:()=>Wt,__disposeResources:()=>dr,__esDecorate:()=>qt,__exportStar:()=>er,__extends:()=>Gt,__generator:()=>jt,__importDefault:()=>fr,__importStar:()=>ar,__makeTemplateObject:()=>or,__metadata:()=>Zt,__param:()=>Yt,__propKey:()=>Kt,__read:()=>tt,__rest:()=>zt,__rewriteRelativeImportExtension:()=>mr,__runInitializers:()=>Vt,__setFunctionName:()=>Xt,__spread:()=>tr,__spreadArray:()=>nr,__spreadArrays:()=>rr,__values:()=>ke,default:()=>En});function Gt(f,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");je(f,r);function n(){this.constructor=f}f.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}function zt(f,r){var n={};for(var t in f)Object.prototype.hasOwnProperty.call(f,t)&&r.indexOf(t)<0&&(n[t]=f[t]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,t=Object.getOwnPropertySymbols(f);e<t.length;e++)r.indexOf(t[e])<0&&Object.prototype.propertyIsEnumerable.call(f,t[e])&&(n[t[e]]=f[t[e]]);return n}function Wt(f,r,n,t){var e=arguments.length,i=e<3?r:t===null?t=Object.getOwnPropertyDescriptor(r,n):t,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(f,r,n,t);else for(var a=f.length-1;a>=0;a--)(o=f[a])&&(i=(e<3?o(i):e>3?o(r,n,i):o(r,n))||i);return e>3&&i&&Object.defineProperty(r,n,i),i}function Yt(f,r){return function(n,t){r(n,t,f)}}function qt(f,r,n,t,e,i){function o(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var a=t.kind,m=a==="getter"?"get":a==="setter"?"set":"value",c=!r&&f?t.static?f:f.prototype:null,y=r||(c?Object.getOwnPropertyDescriptor(c,t.name):{}),l,N=!1,h=n.length-1;h>=0;h--){var d={};for(var u in t)d[u]=u==="access"?{}:t[u];for(var u in t.access)d.access[u]=t.access[u];d.addInitializer=function(E){if(N)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(E||null))};var g=(0,n[h])(a==="accessor"?{get:y.get,set:y.set}:y[m],d);if(a==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(l=o(g.get))&&(y.get=l),(l=o(g.set))&&(y.set=l),(l=o(g.init))&&e.unshift(l)}else(l=o(g))&&(a==="field"?e.unshift(l):y[m]=l)}c&&Object.defineProperty(c,t.name,y),N=!0}function Vt(f,r,n){for(var t=arguments.length>2,e=0;e<r.length;e++)n=t?r[e].call(f,n):r[e].call(f);return t?n:void 0}function Kt(f){return typeof f=="symbol"?f:"".concat(f)}function Xt(f,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(f,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function Zt(f,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,r)}function Qt(f,r,n,t){function e(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(y){try{c(t.next(y))}catch(l){o(l)}}function m(y){try{c(t.throw(y))}catch(l){o(l)}}function c(y){y.done?i(y.value):e(y.value).then(a,m)}c((t=t.apply(f,r||[])).next())})}function jt(f,r){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,e,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(y){return m([c,y])}}function m(c){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(t=1,e&&(i=c[0]&2?e.return:c[0]?e.throw||((i=e.return)&&i.call(e),0):e.next)&&!(i=i.call(e,c[1])).done)return i;switch(e=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,e=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=r.call(f,n)}catch(y){c=[6,y],e=0}finally{t=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function er(f,r){for(var n in f)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&Pe(r,f,n)}function ke(f){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&f[r],t=0;if(n)return n.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&t>=f.length&&(f=void 0),{value:f&&f[t++],done:!f}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(f,r){var n=typeof Symbol=="function"&&f[Symbol.iterator];if(!n)return f;var t=n.call(f),e,i=[],o;try{for(;(r===void 0||r-- >0)&&!(e=t.next()).done;)i.push(e.value)}catch(a){o={error:a}}finally{try{e&&!e.done&&(n=t.return)&&n.call(t)}finally{if(o)throw o.error}}return i}function tr(){for(var f=[],r=0;r<arguments.length;r++)f=f.concat(tt(arguments[r]));return f}function rr(){for(var f=0,r=0,n=arguments.length;r<n;r++)f+=arguments[r].length;for(var t=Array(f),e=0,r=0;r<n;r++)for(var i=arguments[r],o=0,a=i.length;o<a;o++,e++)t[e]=i[o];return t}function nr(f,r,n){if(n||arguments.length===2)for(var t=0,e=r.length,i;t<e;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return f.concat(i||Array.prototype.slice.call(r))}function pe(f){return this instanceof pe?(this.v=f,this):new pe(f)}function ir(f,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n.apply(f,r||[]),e,i=[];return e=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),e[Symbol.asyncIterator]=function(){return this},e;function o(h){return function(d){return Promise.resolve(d).then(h,l)}}function a(h,d){t[h]&&(e[h]=function(u){return new Promise(function(g,E){i.push([h,u,g,E])>1||m(h,u)})},d&&(e[h]=d(e[h])))}function m(h,d){try{c(t[h](d))}catch(u){N(i[0][3],u)}}function c(h){h.value instanceof pe?Promise.resolve(h.value.v).then(y,l):N(i[0][2],h)}function y(h){m("next",h)}function l(h){m("throw",h)}function N(h,d){h(d),i.shift(),i.length&&m(i[0][0],i[0][1])}}function lr(f){var r,n;return r={},t("next"),t("throw",function(e){throw e}),t("return"),r[Symbol.iterator]=function(){return this},r;function t(e,i){r[e]=f[e]?function(o){return(n=!n)?{value:pe(f[e](o)),done:!1}:i?i(o):o}:i}}function sr(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=f[Symbol.asyncIterator],n;return r?r.call(f):(f=typeof ke=="function"?ke(f):f[Symbol.iterator](),n={},t("next"),t("throw"),t("return"),n[Symbol.asyncIterator]=function(){return this},n);function t(i){n[i]=f[i]&&function(o){return new Promise(function(a,m){o=f[i](o),e(a,m,o.done,o.value)})}}function e(i,o,a,m){Promise.resolve(m).then(function(c){i({value:c,done:a})},o)}}function or(f,r){return Object.defineProperty?Object.defineProperty(f,"raw",{value:r}):f.raw=r,f}function ar(f){if(f&&f.__esModule)return f;var r={};if(f!=null)for(var n=et(f),t=0;t<n.length;t++)n[t]!=="default"&&Pe(r,f,n[t]);return gn(r,f),r}function fr(f){return f&&f.__esModule?f:{default:f}}function cr(f,r,n,t){if(n==="a"&&!t)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?f!==r||!t:!r.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?t:n==="a"?t.call(f):t?t.value:r.get(f)}function ur(f,r,n,t,e){if(t==="m")throw new TypeError("Private method is not writable");if(t==="a"&&!e)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?f!==r||!e:!r.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t==="a"?e.call(f,n):e?e.value=n:r.set(f,n),n}function pr(f,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof f=="function"?r===f:f.has(r)}function hr(f,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var t,e;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");t=r[Symbol.asyncDispose]}if(t===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");t=r[Symbol.dispose],n&&(e=t)}if(typeof t!="function")throw new TypeError("Object not disposable.");e&&(t=function(){try{e.call(this)}catch(i){return Promise.reject(i)}}),f.stack.push({value:r,dispose:t,async:n})}else n&&f.stack.push({async:!0});return r}function dr(f){function r(i){f.error=f.hasError?new yn(i,f.error,"An error was suppressed during disposal."):i,f.hasError=!0}var n,t=0;function e(){for(;n=f.stack.pop();)try{if(!n.async&&t===1)return t=0,f.stack.push(n),Promise.resolve().then(e);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return t|=2,Promise.resolve(i).then(e,function(o){return r(o),e()})}else t|=1}catch(o){r(o)}if(t===1)return f.hasError?Promise.reject(f.error):Promise.resolve();if(f.hasError)throw f.error}return e()}function mr(f,r){return typeof f=="string"&&/^\.\.?\//.test(f)?f.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,t,e,i,o){return t?r?".jsx":".js":e&&(!i||!o)?n:e+i+"."+o.toLowerCase()+"js"}):f}var je,ve,Pe,gn,et,yn,En,yr=pn(()=>{je=function(f,r){return je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},je(f,r)};ve=function(){return ve=Object.assign||function(r){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},ve.apply(this,arguments)};Pe=Object.create?function(f,r,n,t){t===void 0&&(t=n);var e=Object.getOwnPropertyDescriptor(r,n);(!e||("get"in e?!r.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(f,t,e)}:function(f,r,n,t){t===void 0&&(t=n),f[t]=r[n]};gn=Object.create?function(f,r){Object.defineProperty(f,"default",{enumerable:!0,value:r})}:function(f,r){f.default=r},et=function(f){return et=Object.getOwnPropertyNames||function(r){var n=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[n.length]=t);return n},et(f)};yn=typeof SuppressedError=="function"?SuppressedError:function(f,r,n){var t=new Error(n);return t.name="SuppressedError",t.error=f,t.suppressed=r,t};En={__extends:Gt,__assign:ve,__rest:zt,__decorate:Wt,__param:Yt,__esDecorate:qt,__runInitializers:Vt,__propKey:Kt,__setFunctionName:Xt,__metadata:Zt,__awaiter:Qt,__generator:jt,__createBinding:Pe,__exportStar:er,__values:ke,__read:tt,__spread:tr,__spreadArrays:rr,__spreadArray:nr,__await:pe,__asyncGenerator:ir,__asyncDelegator:lr,__asyncValues:sr,__makeTemplateObject:or,__importStar:ar,__importDefault:fr,__classPrivateFieldGet:cr,__classPrivateFieldSet:ur,__classPrivateFieldIn:pr,__addDisposableResource:hr,__disposeResources:dr,__rewriteRelativeImportExtension:mr}});var Er=Ae(rt=>{(function(f){"use strict";var r=typeof process=="object"&&process.env?process.env:self;f.parser=function(O){return new l(O)},f.CParser=l,f.CStream=h,f.createStream=N,f.MAX_BUFFER_LENGTH=64*1024,f.DEBUG=r.CDEBUG==="debug",f.INFO=r.CDEBUG==="debug"||r.CDEBUG==="info",f.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var n={textNode:void 0,numberNode:""},t=f.EVENTS.filter(function(O){return O!=="error"&&O!=="end"}),e=0,i;f.STATE={BEGIN:e++,VALUE:e++,OPEN_OBJECT:e++,CLOSE_OBJECT:e++,OPEN_ARRAY:e++,CLOSE_ARRAY:e++,TEXT_ESCAPE:e++,STRING:e++,BACKSLASH:e++,END:e++,OPEN_KEY:e++,CLOSE_KEY:e++,TRUE:e++,TRUE2:e++,TRUE3:e++,FALSE:e++,FALSE2:e++,FALSE3:e++,FALSE4:e++,NULL:e++,NULL2:e++,NULL3:e++,NUMBER_DECIMAL_POINT:e++,NUMBER_DIGIT:e++};for(var o in f.STATE)f.STATE[f.STATE[o]]=o;e=f.STATE;let a={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(O){function s(){this.__proto__=O}return s.prototype=O,new s}),Object.getPrototypeOf||(Object.getPrototypeOf=function(O){return O.__proto__}),Object.keys||(Object.keys=function(O){var s=[];for(var L in O)O.hasOwnProperty(L)&&s.push(L);return s});function m(O){var s=Math.max(f.MAX_BUFFER_LENGTH,10),L=0;for(var b in n){var $=O[b]===void 0?0:O[b].length;if($>s)switch(b){case"text":closeText(O);break;default:_(O,"Max buffer length exceeded: "+b)}L=Math.max(L,$)}O.bufferCheckPosition=f.MAX_BUFFER_LENGTH-L+O.position}function c(O){for(var s in n)O[s]=n[s]}var y=/[\\"\n]/g;function l(O){if(!(this instanceof l))return new l(O);var s=this;c(s),s.bufferCheckPosition=f.MAX_BUFFER_LENGTH,s.q=s.c=s.p="",s.opt=O||{},s.closed=s.closedRoot=s.sawRoot=!1,s.tag=s.error=null,s.state=e.BEGIN,s.stack=new Array,s.position=s.column=0,s.line=1,s.slashed=!1,s.unicodeI=0,s.unicodeS=null,s.depth=0,d(s,"onready")}l.prototype={end:function(){S(this)},write:D,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{i=un("stream").Stream}catch{i=function(){}}function N(O){return new h(O)}function h(O){if(!(this instanceof h))return new h(O);this._parser=new l(O),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var s=this;i.apply(s),this._parser.onend=function(){s.emit("end")},this._parser.onerror=function(L){s.emit("error",L),s._parser.error=null},t.forEach(function(L){Object.defineProperty(s,"on"+L,{get:function(){return s._parser["on"+L]},set:function(b){if(!b)return s.removeAllListeners(L),s._parser["on"+L]=b,b;s.on(L,b)},enumerable:!0,configurable:!1})})}h.prototype=Object.create(i.prototype,{constructor:{value:h}}),h.prototype.write=function(O){O=new Buffer(O);for(var s=0;s<O.length;s++){var L=O[s];if(this.bytes_remaining>0){for(var b=0;b<this.bytes_remaining;b++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+b]=O[b];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,s=s+b-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&L>=128)if(L>=194&&L<=223&&(this.bytes_in_sequence=2),L>=224&&L<=239&&(this.bytes_in_sequence=3),L>=240&&L<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+s>O.length){for(var $=0;$<=O.length-1-s;$++)this.temp_buffs[this.bytes_in_sequence][$]=O[s+$];return this.bytes_remaining=s+this.bytes_in_sequence-O.length,!0}else{this.string=O.slice(s,s+this.bytes_in_sequence).toString(),s=s+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var K=s;K<O.length&&!(O[K]>=128);K++);this.string=O.slice(s,K).toString(),this._parser.write(this.string),this.emit("data",this.string),s=K-1}},h.prototype.end=function(O){return O&&O.length&&this._parser.write(O.toString()),this._parser.end(),!0},h.prototype.on=function(O,s){var L=this;return!L._parser["on"+O]&&t.indexOf(O)!==-1&&(L._parser["on"+O]=function(){var b=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,O),L.emit.apply(L,b)}),i.prototype.on.call(L,O,s)},h.prototype.destroy=function(){c(this._parser),this.emit("close")};function d(O,s,L){f.INFO&&console.log("-- emit",s,L),O[s]&&O[s](L)}function u(O,s,L){g(O),d(O,s,L)}function g(O,s){O.textNode=w(O.opt,O.textNode),O.textNode!==void 0&&d(O,s||"onvalue",O.textNode),O.textNode=void 0}function E(O){O.numberNode&&d(O,"onvalue",parseFloat(O.numberNode)),O.numberNode=""}function w(O,s){return s===void 0||(O.trim&&(s=s.trim()),O.normalize&&(s=s.replace(/\s+/g," "))),s}function _(O,s){return g(O),s+=`
Line: `+O.line+`
Column: `+O.column+`
Char: `+O.c,s=new Error(s),O.error=s,d(O,"onerror",s),O}function S(O){return(O.state!==e.VALUE||O.depth!==0)&&_(O,"Unexpected end"),g(O),O.c="",O.closed=!0,d(O,"onend"),l.call(O,O.opt),O}function R(O){return O===a.carriageReturn||O===a.lineFeed||O===a.space||O===a.tab}function D(O){var s=this;if(this.error)throw this.error;if(s.closed)return _(s,"Cannot write after close. Assign an onready handler.");if(O===null)return S(s);var L=0,b=O.charCodeAt(0),$=s.p,K=!1;for(f.DEBUG&&console.log("write -> ["+O+"]");b&&($=b,s.c=b=O.charCodeAt(L++),$!==b?s.p=$:$=s.p,!!b);)switch(f.DEBUG&&console.log(L,b,f.STATE[s.state]),K?K=!1:(s.position++,b===a.lineFeed?(s.line++,s.column=0):s.column++),s.state){case e.BEGIN:b===a.openBrace?s.state=e.OPEN_OBJECT:b===a.openBracket?s.state=e.OPEN_ARRAY:R(b)||_(s,"Non-whitespace before {[.");continue;case e.OPEN_KEY:case e.OPEN_OBJECT:if(R(b))continue;if(s.state===e.OPEN_KEY)s.stack.push(e.CLOSE_KEY);else if(b===a.closeBrace){d(s,"onopenobject"),this.depth++,d(s,"oncloseobject"),this.depth--,s.state=s.stack.pop()||e.VALUE;continue}else s.stack.push(e.CLOSE_OBJECT);b===a.doubleQuote?s.state=e.STRING:_(s,'Malformed object key should start with "');continue;case e.CLOSE_KEY:case e.CLOSE_OBJECT:if(R(b))continue;var we=s.state===e.CLOSE_KEY?"key":"object";b===a.colon?(s.state===e.CLOSE_OBJECT?(s.stack.push(e.CLOSE_OBJECT),g(s,"onopenobject"),this.depth++):g(s,"onkey"),s.state=e.VALUE):b===a.closeBrace?(u(s,"oncloseobject"),this.depth--,s.state=s.stack.pop()||e.VALUE):b===a.comma?(s.state===e.CLOSE_OBJECT&&s.stack.push(e.CLOSE_OBJECT),g(s),s.state=e.OPEN_KEY):_(s,"Bad object");continue;case e.OPEN_ARRAY:case e.VALUE:if(R(b))continue;if(s.state===e.OPEN_ARRAY)if(d(s,"onopenarray"),this.depth++,s.state=e.VALUE,b===a.closeBracket){d(s,"onclosearray"),this.depth--,s.state=s.stack.pop()||e.VALUE;continue}else s.stack.push(e.CLOSE_ARRAY);b===a.doubleQuote?s.state=e.STRING:b===a.openBrace?s.state=e.OPEN_OBJECT:b===a.openBracket?s.state=e.OPEN_ARRAY:b===a.t?s.state=e.TRUE:b===a.f?s.state=e.FALSE:b===a.n?s.state=e.NULL:b===a.minus?s.numberNode+="-":a._0<=b&&b<=a._9?(s.numberNode+=String.fromCharCode(b),s.state=e.NUMBER_DIGIT):_(s,"Bad value");continue;case e.CLOSE_ARRAY:if(b===a.comma)s.stack.push(e.CLOSE_ARRAY),g(s,"onvalue"),s.state=e.VALUE;else if(b===a.closeBracket)u(s,"onclosearray"),this.depth--,s.state=s.stack.pop()||e.VALUE;else{if(R(b))continue;_(s,"Bad array")}continue;case e.STRING:s.textNode===void 0&&(s.textNode="");var Y=L-1,ee=s.slashed,X=s.unicodeI;e:for(;;){for(f.DEBUG&&console.log(L,b,f.STATE[s.state],ee);X>0;)if(s.unicodeS+=String.fromCharCode(b),b=O.charCodeAt(L++),s.position++,X===4?(s.textNode+=String.fromCharCode(parseInt(s.unicodeS,16)),X=0,Y=L-1):X++,!b)break e;if(b===a.doubleQuote&&!ee){s.state=s.stack.pop()||e.VALUE,s.textNode+=O.substring(Y,L-1),s.position+=L-1-Y;break}if(b===a.backslash&&!ee&&(ee=!0,s.textNode+=O.substring(Y,L-1),s.position+=L-1-Y,b=O.charCodeAt(L++),s.position++,!b))break;if(ee){if(ee=!1,b===a.n?s.textNode+=`
`:b===a.r?s.textNode+="\r":b===a.t?s.textNode+="	":b===a.f?s.textNode+="\f":b===a.b?s.textNode+="\b":b===a.u?(X=1,s.unicodeS=""):s.textNode+=String.fromCharCode(b),b=O.charCodeAt(L++),s.position++,Y=L-1,b)continue;break}y.lastIndex=L;var de=y.exec(O);if(de===null){L=O.length+1,s.textNode+=O.substring(Y,L-1),s.position+=L-1-Y;break}if(L=de.index+1,b=O.charCodeAt(de.index),!b){s.textNode+=O.substring(Y,L-1),s.position+=L-1-Y;break}}s.slashed=ee,s.unicodeI=X;continue;case e.TRUE:b===a.r?s.state=e.TRUE2:_(s,"Invalid true started with t"+b);continue;case e.TRUE2:b===a.u?s.state=e.TRUE3:_(s,"Invalid true started with tr"+b);continue;case e.TRUE3:b===a.e?(d(s,"onvalue",!0),s.state=s.stack.pop()||e.VALUE):_(s,"Invalid true started with tru"+b);continue;case e.FALSE:b===a.a?s.state=e.FALSE2:_(s,"Invalid false started with f"+b);continue;case e.FALSE2:b===a.l?s.state=e.FALSE3:_(s,"Invalid false started with fa"+b);continue;case e.FALSE3:b===a.s?s.state=e.FALSE4:_(s,"Invalid false started with fal"+b);continue;case e.FALSE4:b===a.e?(d(s,"onvalue",!1),s.state=s.stack.pop()||e.VALUE):_(s,"Invalid false started with fals"+b);continue;case e.NULL:b===a.u?s.state=e.NULL2:_(s,"Invalid null started with n"+b);continue;case e.NULL2:b===a.l?s.state=e.NULL3:_(s,"Invalid null started with nu"+b);continue;case e.NULL3:b===a.l?(d(s,"onvalue",null),s.state=s.stack.pop()||e.VALUE):_(s,"Invalid null started with nul"+b);continue;case e.NUMBER_DECIMAL_POINT:b===a.period?(s.numberNode+=".",s.state=e.NUMBER_DIGIT):_(s,"Leading zero not followed by .");continue;case e.NUMBER_DIGIT:a._0<=b&&b<=a._9?s.numberNode+=String.fromCharCode(b):b===a.period?(s.numberNode.indexOf(".")!==-1&&_(s,"Invalid number has two dots"),s.numberNode+="."):b===a.e||b===a.E?((s.numberNode.indexOf("e")!==-1||s.numberNode.indexOf("E")!==-1)&&_(s,"Invalid number has two exponential"),s.numberNode+="e"):b===a.plus||b===a.minus?($===a.e||$===a.E||_(s,"Invalid symbol in number"),s.numberNode+=String.fromCharCode(b)):(E(s),L--,K=!0,s.state=s.stack.pop()||e.VALUE);continue;default:_(s,"Unknown state: "+s.state)}return s.position>=s.bufferCheckPosition&&m(s),s}})(typeof rt>"u"?clarinet={}:rt)});var Or=Ae(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.stringify=he.parse=void 0;var Nn=(yr(),mn(gr)),On=Nn.__importDefault(Er());function bn(f){let r=it(),n,t;function e(o){try{let a=r.next(o);a.done&&(n=a.value)}catch(a){t=a}}let i=On.default.parser();if(i.onopenobject=o=>e({type:"openobject",key:o}),i.onopenarray=()=>e({type:"openarray"}),i.onkey=o=>e({type:"key",key:o}),i.onvalue=o=>e({type:"value",value:o}),i.oncloseobject=()=>e({type:"closeobject"}),i.onclosearray=()=>e({type:"closearray"}),i.onerror=o=>e({type:"error",err:o}),r.next(),i.write(f).close(),t)throw t;return n}he.parse=bn;function nt(f){return Array.isArray(f)?`[${f.map(nt).join(",")}]`:f instanceof Map?`{${[...f].map(([r,n])=>JSON.stringify(r)+":"+nt(n)).join(",")}}`:JSON.stringify(f)}he.stringify=nt;var Nr=Symbol();function*it(){let f=yield;switch(f.type){case"value":return f.value;case"openobject":let r=new Map,n=f.key;for(n===void 0&&(yield);n!==void 0;)r.set(n,yield*it()),n=(yield).key;return r;case"openarray":let t=[],e;for(;;){if(e=yield*it(),e===Nr)return t;t.push(e)}case"closearray":return Nr;case"error":throw f.err;default:throw Error(`Unexpected ParseEvent ${f.type}`)}}});var br=Ae((lt,st)=>{(function(f,r){typeof lt=="object"&&typeof st<"u"?st.exports=r():typeof define=="function"&&define.amd?define(r):(f=typeof globalThis<"u"?globalThis:f||self,f.DOMPurify=r())})(lt,function(){"use strict";let{entries:f,setPrototypeOf:r,isFrozen:n,getPrototypeOf:t,getOwnPropertyDescriptor:e}=Object,{freeze:i,seal:o,create:a}=Object,{apply:m,construct:c}=typeof Reflect<"u"&&Reflect;i||(i=function(x){return x}),o||(o=function(x){return x}),m||(m=function(x,k,I){return x.apply(k,I)}),c||(c=function(x,k){return new x(...k)});let y=D(Array.prototype.forEach),l=D(Array.prototype.pop),N=D(Array.prototype.push),h=D(String.prototype.toLowerCase),d=D(String.prototype.toString),u=D(String.prototype.match),g=D(String.prototype.replace),E=D(String.prototype.indexOf),w=D(String.prototype.trim),_=D(Object.prototype.hasOwnProperty),S=D(RegExp.prototype.test),R=O(TypeError);function D(v){return function(x){for(var k=arguments.length,I=new Array(k>1?k-1:0),M=1;M<k;M++)I[M-1]=arguments[M];return m(v,x,I)}}function O(v){return function(){for(var x=arguments.length,k=new Array(x),I=0;I<x;I++)k[I]=arguments[I];return c(v,k)}}function s(v,x){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h;r&&r(v,null);let I=x.length;for(;I--;){let M=x[I];if(typeof M=="string"){let te=k(M);te!==M&&(n(x)||(x[I]=te),M=te)}v[M]=!0}return v}function L(v){for(let x=0;x<v.length;x++)_(v,x)||(v[x]=null);return v}function b(v){let x=a(null);for(let[k,I]of f(v))_(v,k)&&(Array.isArray(I)?x[k]=L(I):I&&typeof I=="object"&&I.constructor===Object?x[k]=b(I):x[k]=I);return x}function $(v,x){for(;v!==null;){let I=e(v,x);if(I){if(I.get)return D(I.get);if(typeof I.value=="function")return D(I.value)}v=t(v)}function k(){return null}return k}let K=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),we=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ee=i(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),X=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),de=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ot=i(["#text"]),at=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Fe=i(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ft=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Se=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Lr=o(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xr=o(/<%[\w\W]*|[\w\W]*%>/gm),Cr=o(/\${[\w\W]*}/gm),Rr=o(/^data-[\-\w.\u00B7-\uFFFF]/),Dr=o(/^aria-[\-\w]+$/),ct=o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ir=o(/^(?:\w+script|data):/i),vr=o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ut=o(/^html$/i),kr=o(/^[a-z][.\w]*(-[.\w]+)+$/i);var pt=Object.freeze({__proto__:null,MUSTACHE_EXPR:Lr,ERB_EXPR:xr,TMPLIT_EXPR:Cr,DATA_ATTR:Rr,ARIA_ATTR:Dr,IS_ALLOWED_URI:ct,IS_SCRIPT_OR_DATA:Ir,ATTR_WHITESPACE:vr,DOCTYPE_NAME:ut,CUSTOM_ELEMENT:kr});let me={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Pr=function(){return typeof window>"u"?null:window},Fr=function(x,k){if(typeof x!="object"||typeof x.createPolicy!="function")return null;let I=null,M="data-tt-policy-suffix";k&&k.hasAttribute(M)&&(I=k.getAttribute(M));let te="dompurify"+(I?"#"+I:"");try{return x.createPolicy(te,{createHTML(le){return le},createScriptURL(le){return le}})}catch{return console.warn("TrustedTypes policy "+te+" could not be created."),null}};function ht(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pr(),x=C=>ht(C);if(x.version="3.1.7",x.removed=[],!v||!v.document||v.document.nodeType!==me.document)return x.isSupported=!1,x;let{document:k}=v,I=k,M=I.currentScript,{DocumentFragment:te,HTMLTemplateElement:le,Node:$e,Element:dt,NodeFilter:ge,NamedNodeMap:Ur=v.NamedNodeMap||v.MozNamedAttrMap,HTMLFormElement:Jr,DOMParser:Hr,trustedTypes:Te}=v,ye=dt.prototype,Br=$(ye,"cloneNode"),Mr=$(ye,"remove"),Gr=$(ye,"nextSibling"),zr=$(ye,"childNodes"),Le=$(ye,"parentNode");if(typeof le=="function"){let C=k.createElement("template");C.content&&C.content.ownerDocument&&(k=C.content.ownerDocument)}let z,Ee="",{implementation:Ue,createNodeIterator:Wr,createDocumentFragment:Yr,getElementsByTagName:qr}=k,{importNode:Vr}=I,Z={};x.isSupported=typeof f=="function"&&typeof Le=="function"&&Ue&&Ue.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Je,ERB_EXPR:He,TMPLIT_EXPR:Be,DATA_ATTR:Kr,ARIA_ATTR:Xr,IS_SCRIPT_OR_DATA:Zr,ATTR_WHITESPACE:mt,CUSTOM_ELEMENT:Qr}=pt,{IS_ALLOWED_URI:gt}=pt,U=null,yt=s({},[...K,...we,...Y,...X,...ot]),J=null,Et=s({},[...at,...Fe,...ft,...Se]),F=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,Me=null,Nt=!0,Ge=!0,Ot=!1,bt=!0,se=!1,ze=!0,ie=!1,We=!1,Ye=!1,oe=!1,xe=!1,Ce=!1,_t=!0,At=!1,jr="user-content-",qe=!0,Oe=!1,ae={},fe=null,wt=s({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),St=null,Tt=s({},["audio","video","img","source","image","track"]),Ve=null,Lt=s({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Re="http://www.w3.org/1998/Math/MathML",De="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xhtml",ce=re,Ke=!1,Xe=null,en=s({},[Re,De,re],d),be=null,tn=["application/xhtml+xml","text/html"],rn="text/html",H=null,ue=null,nn=k.createElement("form"),xt=function(p){return p instanceof RegExp||p instanceof Function},Ze=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ue&&ue===p)){if((!p||typeof p!="object")&&(p={}),p=b(p),be=tn.indexOf(p.PARSER_MEDIA_TYPE)===-1?rn:p.PARSER_MEDIA_TYPE,H=be==="application/xhtml+xml"?d:h,U=_(p,"ALLOWED_TAGS")?s({},p.ALLOWED_TAGS,H):yt,J=_(p,"ALLOWED_ATTR")?s({},p.ALLOWED_ATTR,H):Et,Xe=_(p,"ALLOWED_NAMESPACES")?s({},p.ALLOWED_NAMESPACES,d):en,Ve=_(p,"ADD_URI_SAFE_ATTR")?s(b(Lt),p.ADD_URI_SAFE_ATTR,H):Lt,St=_(p,"ADD_DATA_URI_TAGS")?s(b(Tt),p.ADD_DATA_URI_TAGS,H):Tt,fe=_(p,"FORBID_CONTENTS")?s({},p.FORBID_CONTENTS,H):wt,Ne=_(p,"FORBID_TAGS")?s({},p.FORBID_TAGS,H):{},Me=_(p,"FORBID_ATTR")?s({},p.FORBID_ATTR,H):{},ae=_(p,"USE_PROFILES")?p.USE_PROFILES:!1,Nt=p.ALLOW_ARIA_ATTR!==!1,Ge=p.ALLOW_DATA_ATTR!==!1,Ot=p.ALLOW_UNKNOWN_PROTOCOLS||!1,bt=p.ALLOW_SELF_CLOSE_IN_ATTR!==!1,se=p.SAFE_FOR_TEMPLATES||!1,ze=p.SAFE_FOR_XML!==!1,ie=p.WHOLE_DOCUMENT||!1,oe=p.RETURN_DOM||!1,xe=p.RETURN_DOM_FRAGMENT||!1,Ce=p.RETURN_TRUSTED_TYPE||!1,Ye=p.FORCE_BODY||!1,_t=p.SANITIZE_DOM!==!1,At=p.SANITIZE_NAMED_PROPS||!1,qe=p.KEEP_CONTENT!==!1,Oe=p.IN_PLACE||!1,gt=p.ALLOWED_URI_REGEXP||ct,ce=p.NAMESPACE||re,F=p.CUSTOM_ELEMENT_HANDLING||{},p.CUSTOM_ELEMENT_HANDLING&&xt(p.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(F.tagNameCheck=p.CUSTOM_ELEMENT_HANDLING.tagNameCheck),p.CUSTOM_ELEMENT_HANDLING&&xt(p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(F.attributeNameCheck=p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),p.CUSTOM_ELEMENT_HANDLING&&typeof p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(F.allowCustomizedBuiltInElements=p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),se&&(Ge=!1),xe&&(oe=!0),ae&&(U=s({},ot),J=[],ae.html===!0&&(s(U,K),s(J,at)),ae.svg===!0&&(s(U,we),s(J,Fe),s(J,Se)),ae.svgFilters===!0&&(s(U,Y),s(J,Fe),s(J,Se)),ae.mathMl===!0&&(s(U,X),s(J,ft),s(J,Se))),p.ADD_TAGS&&(U===yt&&(U=b(U)),s(U,p.ADD_TAGS,H)),p.ADD_ATTR&&(J===Et&&(J=b(J)),s(J,p.ADD_ATTR,H)),p.ADD_URI_SAFE_ATTR&&s(Ve,p.ADD_URI_SAFE_ATTR,H),p.FORBID_CONTENTS&&(fe===wt&&(fe=b(fe)),s(fe,p.FORBID_CONTENTS,H)),qe&&(U["#text"]=!0),ie&&s(U,["html","head","body"]),U.table&&(s(U,["tbody"]),delete Ne.tbody),p.TRUSTED_TYPES_POLICY){if(typeof p.TRUSTED_TYPES_POLICY.createHTML!="function")throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof p.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');z=p.TRUSTED_TYPES_POLICY,Ee=z.createHTML("")}else z===void 0&&(z=Fr(Te,M)),z!==null&&typeof Ee=="string"&&(Ee=z.createHTML(""));i&&i(p),ue=p}},Ct=s({},["mi","mo","mn","ms","mtext"]),Rt=s({},["annotation-xml"]),ln=s({},["title","style","font","a","script"]),Dt=s({},[...we,...Y,...ee]),It=s({},[...X,...de]),sn=function(p){let A=Le(p);(!A||!A.tagName)&&(A={namespaceURI:ce,tagName:"template"});let T=h(p.tagName),P=h(A.tagName);return Xe[p.namespaceURI]?p.namespaceURI===De?A.namespaceURI===re?T==="svg":A.namespaceURI===Re?T==="svg"&&(P==="annotation-xml"||Ct[P]):!!Dt[T]:p.namespaceURI===Re?A.namespaceURI===re?T==="math":A.namespaceURI===De?T==="math"&&Rt[P]:!!It[T]:p.namespaceURI===re?A.namespaceURI===De&&!Rt[P]||A.namespaceURI===Re&&!Ct[P]?!1:!It[T]&&(ln[T]||!Dt[T]):!!(be==="application/xhtml+xml"&&Xe[p.namespaceURI]):!1},Q=function(p){N(x.removed,{element:p});try{Le(p).removeChild(p)}catch{Mr(p)}},Ie=function(p,A){try{N(x.removed,{attribute:A.getAttributeNode(p),from:A})}catch{N(x.removed,{attribute:null,from:A})}if(A.removeAttribute(p),p==="is"&&!J[p])if(oe||xe)try{Q(A)}catch{}else try{A.setAttribute(p,"")}catch{}},vt=function(p){let A=null,T=null;if(Ye)p="<remove></remove>"+p;else{let B=u(p,/^[\r\n\t ]+/);T=B&&B[0]}be==="application/xhtml+xml"&&ce===re&&(p='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+p+"</body></html>");let P=z?z.createHTML(p):p;if(ce===re)try{A=new Hr().parseFromString(P,be)}catch{}if(!A||!A.documentElement){A=Ue.createDocument(ce,"template",null);try{A.documentElement.innerHTML=Ke?Ee:P}catch{}}let G=A.body||A.documentElement;return p&&T&&G.insertBefore(k.createTextNode(T),G.childNodes[0]||null),ce===re?qr.call(A,ie?"html":"body")[0]:ie?A.documentElement:G},kt=function(p){return Wr.call(p.ownerDocument||p,p,ge.SHOW_ELEMENT|ge.SHOW_COMMENT|ge.SHOW_TEXT|ge.SHOW_PROCESSING_INSTRUCTION|ge.SHOW_CDATA_SECTION,null)},Pt=function(p){return p instanceof Jr&&(typeof p.nodeName!="string"||typeof p.textContent!="string"||typeof p.removeChild!="function"||!(p.attributes instanceof Ur)||typeof p.removeAttribute!="function"||typeof p.setAttribute!="function"||typeof p.namespaceURI!="string"||typeof p.insertBefore!="function"||typeof p.hasChildNodes!="function")},Ft=function(p){return typeof $e=="function"&&p instanceof $e},ne=function(p,A,T){Z[p]&&y(Z[p],P=>{P.call(x,A,T,ue)})},$t=function(p){let A=null;if(ne("beforeSanitizeElements",p,null),Pt(p))return Q(p),!0;let T=H(p.nodeName);if(ne("uponSanitizeElement",p,{tagName:T,allowedTags:U}),p.hasChildNodes()&&!Ft(p.firstElementChild)&&S(/<[/\w]/g,p.innerHTML)&&S(/<[/\w]/g,p.textContent)||p.nodeType===me.progressingInstruction||ze&&p.nodeType===me.comment&&S(/<[/\w]/g,p.data))return Q(p),!0;if(!U[T]||Ne[T]){if(!Ne[T]&&Jt(T)&&(F.tagNameCheck instanceof RegExp&&S(F.tagNameCheck,T)||F.tagNameCheck instanceof Function&&F.tagNameCheck(T)))return!1;if(qe&&!fe[T]){let P=Le(p)||p.parentNode,G=zr(p)||p.childNodes;if(G&&P){let B=G.length;for(let q=B-1;q>=0;--q){let j=Br(G[q],!0);j.__removalCount=(p.__removalCount||0)+1,P.insertBefore(j,Gr(p))}}}return Q(p),!0}return p instanceof dt&&!sn(p)||(T==="noscript"||T==="noembed"||T==="noframes")&&S(/<\/no(script|embed|frames)/i,p.innerHTML)?(Q(p),!0):(se&&p.nodeType===me.text&&(A=p.textContent,y([Je,He,Be],P=>{A=g(A,P," ")}),p.textContent!==A&&(N(x.removed,{element:p.cloneNode()}),p.textContent=A)),ne("afterSanitizeElements",p,null),!1)},Ut=function(p,A,T){if(_t&&(A==="id"||A==="name")&&(T in k||T in nn))return!1;if(!(Ge&&!Me[A]&&S(Kr,A))){if(!(Nt&&S(Xr,A))){if(!J[A]||Me[A]){if(!(Jt(p)&&(F.tagNameCheck instanceof RegExp&&S(F.tagNameCheck,p)||F.tagNameCheck instanceof Function&&F.tagNameCheck(p))&&(F.attributeNameCheck instanceof RegExp&&S(F.attributeNameCheck,A)||F.attributeNameCheck instanceof Function&&F.attributeNameCheck(A))||A==="is"&&F.allowCustomizedBuiltInElements&&(F.tagNameCheck instanceof RegExp&&S(F.tagNameCheck,T)||F.tagNameCheck instanceof Function&&F.tagNameCheck(T))))return!1}else if(!Ve[A]){if(!S(gt,g(T,mt,""))){if(!((A==="src"||A==="xlink:href"||A==="href")&&p!=="script"&&E(T,"data:")===0&&St[p])){if(!(Ot&&!S(Zr,g(T,mt,"")))){if(T)return!1}}}}}}return!0},Jt=function(p){return p!=="annotation-xml"&&u(p,Qr)},Ht=function(p){ne("beforeSanitizeAttributes",p,null);let{attributes:A}=p;if(!A)return;let T={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J},P=A.length;for(;P--;){let G=A[P],{name:B,namespaceURI:q,value:j}=G,_e=H(B),W=B==="value"?j:w(j);if(T.attrName=_e,T.attrValue=W,T.keepAttr=!0,T.forceKeepAttr=void 0,ne("uponSanitizeAttribute",p,T),W=T.attrValue,T.forceKeepAttr||(Ie(B,p),!T.keepAttr))continue;if(!bt&&S(/\/>/i,W)){Ie(B,p);continue}se&&y([Je,He,Be],Mt=>{W=g(W,Mt," ")});let Bt=H(p.nodeName);if(Ut(Bt,_e,W)){if(At&&(_e==="id"||_e==="name")&&(Ie(B,p),W=jr+W),ze&&S(/((--!?|])>)|<\/(style|title)/i,W)){Ie(B,p);continue}if(z&&typeof Te=="object"&&typeof Te.getAttributeType=="function"&&!q)switch(Te.getAttributeType(Bt,_e)){case"TrustedHTML":{W=z.createHTML(W);break}case"TrustedScriptURL":{W=z.createScriptURL(W);break}}try{q?p.setAttributeNS(q,B,W):p.setAttribute(B,W),Pt(p)?Q(p):l(x.removed)}catch{}}}ne("afterSanitizeAttributes",p,null)},on=function C(p){let A=null,T=kt(p);for(ne("beforeSanitizeShadowDOM",p,null);A=T.nextNode();)ne("uponSanitizeShadowNode",A,null),!$t(A)&&(A.content instanceof te&&C(A.content),Ht(A));ne("afterSanitizeShadowDOM",p,null)};return x.sanitize=function(C){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=null,T=null,P=null,G=null;if(Ke=!C,Ke&&(C="<!-->"),typeof C!="string"&&!Ft(C))if(typeof C.toString=="function"){if(C=C.toString(),typeof C!="string")throw R("dirty is not a string, aborting")}else throw R("toString is not a function");if(!x.isSupported)return C;if(We||Ze(p),x.removed=[],typeof C=="string"&&(Oe=!1),Oe){if(C.nodeName){let j=H(C.nodeName);if(!U[j]||Ne[j])throw R("root node is forbidden and cannot be sanitized in-place")}}else if(C instanceof $e)A=vt("<!---->"),T=A.ownerDocument.importNode(C,!0),T.nodeType===me.element&&T.nodeName==="BODY"||T.nodeName==="HTML"?A=T:A.appendChild(T);else{if(!oe&&!se&&!ie&&C.indexOf("<")===-1)return z&&Ce?z.createHTML(C):C;if(A=vt(C),!A)return oe?null:Ce?Ee:""}A&&Ye&&Q(A.firstChild);let B=kt(Oe?C:A);for(;P=B.nextNode();)$t(P)||(P.content instanceof te&&on(P.content),Ht(P));if(Oe)return C;if(oe){if(xe)for(G=Yr.call(A.ownerDocument);A.firstChild;)G.appendChild(A.firstChild);else G=A;return(J.shadowroot||J.shadowrootmode)&&(G=Vr.call(I,G,!0)),G}let q=ie?A.outerHTML:A.innerHTML;return ie&&U["!doctype"]&&A.ownerDocument&&A.ownerDocument.doctype&&A.ownerDocument.doctype.name&&S(ut,A.ownerDocument.doctype.name)&&(q="<!DOCTYPE "+A.ownerDocument.doctype.name+`>
`+q),se&&y([Je,He,Be],j=>{q=g(q,j," ")}),z&&Ce?z.createHTML(q):q},x.setConfig=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ze(C),We=!0},x.clearConfig=function(){ue=null,We=!1},x.isValidAttribute=function(C,p,A){ue||Ze({});let T=H(C),P=H(p);return Ut(T,P,A)},x.addHook=function(C,p){typeof p=="function"&&(Z[C]=Z[C]||[],N(Z[C],p))},x.removeHook=function(C){if(Z[C])return l(Z[C])},x.removeHooks=function(C){Z[C]&&(Z[C]=[])},x.removeAllHooks=function(){Z={}},x}var $r=ht();return $r})});var Ar=Ae((Ln,_r)=>{var V=br();_r.exports=class{constructor(r){let n=this;n.parentContext=r,n.websiteRegex=/^(https?:\/\/)?[-a-zA-Z0-9]*[a-zA-Z0-9]+(\.[-a-zA-Z0-9]*[a-zA-Z0-9]+)+/}escape(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(r,n=!1,t=void 0){let e=this;try{e.parentContext.mapToJSON(r)}catch(c){throw console.log(c),new Error("Provided map value doesn't passes JSON.parse()")}var i=0,o=document.createElement("ul"),a;return t!==void 0&&(a=JSON.parse(t)),o.className="DAMON-List",m(r,o),o;function m(c,y){if(typeof y!="object"||y==null||Array.isArray(y))throw new Error("Error List Item number "+i+": @param { {} } list");if(typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map){if(y.tagName=="UL")for(let[h,d]of c){let u=document.createElement("ul"),g=document.createElement("code"),E=document.createElement("span"),w=document.createElement("li");if(E.className="type-key",e.websiteRegex.test(h)){let _=V.sanitize(`<a href="${h}">${h}</a>`);E.innerHTML=_}else t!==void 0&&h in a["@context"]?E.innerHTML=V.sanitize(`<a href="${a["@context"][h]["@id"]}">${h}</a>`):E.textContent=h;if(typeof d=="object"&&d!==null)if(Array.isArray(d))if(c.damonInlineArrays!==void 0&&c.damonInlineArrays.indexOf(h)>-1){g.innerHTML=E.outerHTML+": [";for(let _=0,S=d.length;_<S;_++){let R=document.createElement("span"),D=d[_];D===!0?(R.textContent="true",R.className="type-boolean"):D===!1?(R.textContent="false",R.className="type-boolean"):D===null?(R.textContent="null",R.className="type-null"):Number.isFinite(D)&&!Number.isNaN(D)?(R.textContent=D+"",R.className="type-number"):(n?e.websiteRegex.test(D)?R.innerHTML=V.sanitize(`<a href="${D}">"${D}"</a>`):R.innerHTML=`"${D}"`:e.websiteRegex.test(D)?R.innerHTML=V.sanitize(`<a href="${D}">"${D}"</a>`):R.textContent=`"${D}"`,R.className="type-string"),_!==0&&(g.innerHTML+=", "),g.appendChild(R)}g.innerHTML+="]",w.appendChild(g),w.appendChild(u),y.appendChild(w)}else g.innerHTML=E.outerHTML+": []",w.appendChild(g),w.appendChild(u),y.appendChild(w),m(d,u);else c.implicitMaps!==void 0&&c.implicitMaps.indexOf(h)>-1?g.innerHTML=E.outerHTML:g.innerHTML=E.outerHTML+": {}",w.appendChild(g),w.appendChild(u),y.appendChild(w),m(d,u);else{i++,g.innerHTML=E.outerHTML+": ";let _=document.createElement("span"),S=d;S===!0?(_.textContent="true",_.className="type-boolean"):S===!1?(_.textContent="false",_.className="type-boolean"):S===null?(_.textContent="null",_.className="type-null"):Number.isFinite(S)&&!Number.isNaN(S)?(_.textContent=S+"",_.className="type-number"):(n?e.websiteRegex.test(S)?_.innerHTML=V.sanitize(`<a href="${S}">"${S}"</a>`):_.innerHTML=`"${S}"`:e.websiteRegex.test(S)?_.innerHTML=V.sanitize(`<a href="${S}">"${S}"</a>`):_.textContent=`"${S}"`,_.className="type-string"),c.implicitNulls===void 0||c.implicitNulls.indexOf(h)==-1?g.appendChild(_):g.innerHTML=g.innerHTML.slice(0,-2),w.appendChild(g),y.appendChild(w)}}}else if(Array.isArray(c))for(var l=0,N=c.length;l<N;l++){let h=document.createElement("ul"),d=document.createElement("code"),u=document.createElement("li");if(typeof c[l]=="object"&&c[l]!==null)if(Array.isArray(c[l]))if(c.damonInlineArrays!==void 0&&c.damonInlineArrays.indexOf(l)>-1){d.innerHTML+="[";for(let g=0,E=c[l].length;g<E;g++){let w=document.createElement("span"),_=c[l][g];_===!0?(w.textContent="true",w.className="type-boolean"):_===!1?(w.textContent="false",w.className="type-boolean"):_===null?(w.textContent="null",w.className="type-null"):Number.isFinite(_)&&!Number.isNaN(_)?(w.textContent=_+"",w.className="type-number"):(n?e.websiteRegex.test(_)?w.innerHTML=V.sanitize(`<a href="${_}">"${_}"</a>`):w.innerHTML=`"${_}"`:e.websiteRegex.test(_)?w.innerHTML=V.sanitize(`<a href="${_}">"${_}"</a>`):w.textContent=`"${_}"`,w.className="type-string"),g!==0&&(d.innerHTML+=", "),d.appendChild(w)}d.innerHTML+="]",u.appendChild(d),u.appendChild(h),y.appendChild(u)}else d.textContent="[]",u.appendChild(d),u.appendChild(h),y.appendChild(u),m(c[l],h);else d.textContent="{}",u.appendChild(d),u.appendChild(h),y.appendChild(u),m(c[l],h);else{i++;let g=c[l];g===!0?(d.textContent="true",d.className="type-boolean"):g===!1?(d.textContent="false",d.className="type-boolean"):g===null?(d.textContent="null",d.className="type-null"):Number.isFinite(g)&&!Number.isNaN(g)?(d.textContent=g+"",d.className="type-number"):(n?e.websiteRegex.test(g)?d.innerHTML=V.sanitize(`<a href="${g}">"${g}"</a>`):d.innerHTML=`"${g}"`:e.websiteRegex.test(g)?d.innerHTML=V.sanitize(`<a href="${g}">"${g}"</a>`):d.textContent=`"${g}"`,d.className="type-string"),u.appendChild(d),u.appendChild(h),y.appendChild(u)}}}}mapToHtmlTable(r,n=!1){let t=this;try{t.parentContext.mapToJSON(r)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var e=0,i=document.createElement("table"),o=document.createElement("thead"),a=document.createElement("tbody"),m=!1,c=0;if(i.className="DAMON-Table",typeof r!="object"||r==null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[y,l]of r){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map)if(y=="0"&&!m){let N=document.createElement("tr");c=l.length;for(let[h,d]of l)if(d===null){let u=document.createElement("th");n?t.websiteRegex.test(h)?u.innerHTML=V.sanitize(`<a href="${h}">${h}</a>`):u.innerHTML=`${h}`:t.websiteRegex.test(h)?u.innerHTML=V.sanitize(`<a href="${h}">${h}</a>`):u.textContent=`${h}`,N.appendChild(u)}else throw new Error("Expected implicit null property, saw otherwise");o.appendChild(N),m=!0}else{if(c==0&&(c=l.length),l.length!=c)throw new Error("Error List Item number "+e+": @param { {} } list");let N=document.createElement("tr");for(let[h,d]of l)if(d===null){let u=document.createElement("td");n?t.websiteRegex.test(h)?u.innerHTML=V.sanitize(`<a href="${h}">${h}</a>`):u.innerHTML=`${h}`:t.websiteRegex.test(h)?u.innerHTML=V.sanitize(`<a href="${h}">${h}</a>`):u.textContent=`${h}`,N.appendChild(u)}else throw new Error("Expected implicit null property, saw otherwise");a.appendChild(N)}else if(typeof l!="object"&&y=="00"){let N=document.createElement("caption");n?N.innerHTML=l:N.textContent=l,i.appendChild(N)}else throw new Error("Error List Item number "+e+": @param { {} } list");e++}return m&&i.appendChild(o),i.appendChild(a),i}mapTreeLeavesToHtmlTable(r,n=!1){let t=this;try{t.parentContext.mapToJSON(r)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var e=0,i=0,o=document.createElement("table"),a=document.createElement("thead"),m=document.createElement("tbody"),c=!1;if(o.className="DAMON-LeavesToTable",typeof r!="object"||r==null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[l,N]of r){if(typeof N=="object"&&!Array.isArray(N)){if(l=="head"&&!c){try{y(N,a)}catch{return}c=!0}else if(l=="body")try{y(N,m)}catch{return}}else if(typeof N!="object"&&l=="caption"){let h=document.createElement("caption");n?h.innerHTML=N:h.textContent=N,o.appendChild(h)}else throw new Error("Error List Item number "+e+": @param { {} } list");e++}return c&&o.appendChild(a),o.appendChild(m),o;function y(l,N,h=0,d=[]){if(typeof N!="object"||N==null)throw new Error("Error List Item number "+e+": @param { {} } list");if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map){if(N.tagName=="THEAD")if(Array.from(l.keys()).length==1)if(typeof l.get(Array.from(l.keys())[0])=="object"&&l.get(Array.from(l.keys())[0])!==null)e++,y(l.get(Array.from(l.keys())[0]),N,h+1,d.concat([Array.from(l.keys())[0]]));else throw new Error("Error List Item number "+e+": @param { {} } list");else throw new Error("Error List Item number "+e+": @param { {} } list");else if(N.tagName=="TBODY"){if(Array.from(l.keys()).length==0)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[u,g]of l)if(typeof g=="object"&&g!==null)e++,y(g,N,h+1,d.concat([u]));else throw new Error("Error List Item number "+e+": @param { {} } list")}}else if(Array.isArray(l)){if(N.tagName=="THEAD")if(l.length==1){e++,i=h;let u=document.createElement("tr");d.push(l[0]);for(let g=0,E=d.length;g<E;g++){let w=document.createElement("th");n?w.innerHTML=d[g]:w.textContent=d[g],u.appendChild(w)}N.appendChild(u)}else throw new Error("Error List Item number "+e+": @param { {} } list");else if(N.tagName=="TBODY")if(h==i){if(l.length==0)throw new Error("Error List Item number "+e+": @param { {} } list");for(let u=0,g=l.length;u<g;u++){e++;let E=document.createElement("tr");for(let _=0,S=d.length;_<S;_++){let R=document.createElement("td");n?R.innerHTML=d[_]:R.textContent=d[_],E.appendChild(R)}let w=document.createElement("td");n?w.innerHTML=l[u]:w.textContent=l[u],w.textContent=l[u],E.appendChild(w),N.appendChild(E)}}else throw new Error("Error List Item number "+e+": @param { {} } list")}}}htmlToJSON(r){let n=this;var t=0;if(r.firstElementChild.textContent=="{}")return n._mapToJSON(e(tree,new Map));if(r.firstElementChild.textContent=="[]")return n._mapToJSON(e(tree,[]));function e(i,o){if(typeof i!="object"||i==null||Array.isArray(i))throw new Error("Error List Item number "+t+": @param { {} } list");if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map){for(let a=0,m=i.children.length;a<m;a++)if(t++,i.children[a].tagName=="LI")if(i.children[a].firstElementChild.tagName=="CODE")if(i.children[a].firstElementChild.innerHTML.length){let c=i.children[a].firstElementChild.innerHTML.trim();if(c[c.length-1]==":"&&c.length>1){let y=i.children[a].children[1];if(y.tagName=="UL"&&y.firstElementChild.tagName=="LI"&&y.children.length==1&&y.firstElementChild.firstElementChild.tagName=="CODE"){t++;let l=y.firstElementChild.firstElementChild.textContent.trim();l=="true"?o.set(c.slice(0,-1),!0):l=="false"?o.set(c.slice(0,-1),!1):l=="null"?o.set(c.slice(0,-1),null):isFinite(l)&&!isNaN(parseFloat(l))?o.set(c.slice(0,-1),l*1):o.set(c.slice(0,-1),l)}else throw new Error("Error List Item number "+t+": not DAMON-compliant.")}else if(c[c.length-4]==":"&&c.length>4){if(c.slice(-3)==" []")if(o.set(c.slice(0,-4),[]),i.children[a].children[1].tagName=="UL")e(i.children[a].children[1],o.get(c.slice(0,-4)));else throw new Error("Error List Item number "+t+": not DAMON-compliant.");else if(c.slice(-3)==" {}")if(o.set(c.slice(0,-4),new Map),i.children[a].children[1].tagName=="UL")e(i.children[a].children[1],o.get(c.slice(0,-4)));else throw new Error("Error List Item number "+t+": not DAMON-compliant.")}else throw new Error("Error List Item number "+t+": map items need a key")}else throw new Error("Error List Item number "+t+": empty node.");else throw new Error("Error List Item number "+t+": not DAMON-compliant.")}else if(Array.isArray(o)){for(let a=0,m=i.children.length;a<m;a++)if(t++,i.children[a].tagName=="LI")if(i.children[a].firstElementChild.tagName=="CODE")if(i.children[a].firstElementChild.innerHTML.length){let c=i.children[a].firstElementChild.innerHTML.trim();if(c[c.length-1]==":"&&c.length>1)throw new Error("Error List Item number "+t+": lists can't have keys.");if(c[c.length-4]==":"&&c.length>4)throw new Error("Error List Item number "+t+": not DAMON-compliant.");if(c=="[]")if(o.push([]),i.children[a].children[1]&&i.children[a].children[1].tagName=="UL")e(i.children[a].children[1],o[o.length-1]);else throw new Error("Error List Item number "+t+": not DAMON-compliant.");else if(c=="{}")if(o.push({}),i.children[a].children[1]&&i.children[a].children[1].tagName=="UL")e(i.children[a].children[1],o[o.length-1]);else throw new Error("Error List Item number "+t+": not DAMON-compliant.");else c=="true"?o.push(!0):c=="false"?o.push(!1):c=="null"?o.push(null):isFinite(c)&&!isNaN(parseFloat(c))?o.push(c*1):o.push(c)}else throw new Error("Error List Item number "+t+": empty node.");else throw new Error("Error List Item number "+t+": not DAMON-compliant.")}else throw new Error("Error List Item number "+t+": @param { {} | [] } jsonMap");return o}}mapsDiff(r,n){let t=this;try{t.parentContext.mapToJSON(r),t.parentContext.mapToJSON(n)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var e="";return Array.isArray(jsonMap)?e+=`- []
`:e+=`- {}
`,i(jsonMap),e.slice(0,-1);function i(o,a=1){if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map)for(let[y,l]of o)if(typeof l=="object"&&l!==null)if(Array.isArray(l)){let N=0,h=l.filter(function(d){return d===!0||d===!1?!0:d===null?(N++,!0):typeof d=="string"?!0:!!(isFinite(d)&&!isNaN(parseFloat(d))&&Number.isFinite(d*1)&&!Number.isNaN(d*1))});if(l.length==h.length&&a*4+2+l.join(", ").length+N*4<=80){let d="["+l.map(u=>JSON.stringify(u)).join(", ")+"]";e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+": "+d+`
`}else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+`: []
`,i(l,a+1)}else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+`: {}
`,i(l,a+1);else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+": ",l===!0?e+=`true
`:l===!1?e+=`false
`:l===null?e+=`null
`:Number.isFinite(l)&&!Number.isNaN(l)?e+=l+`
`:e+=`${JSON.stringify(l)}
`;else if(Array.isArray(o))for(var m=0,c=o.length;m<c;m++)if(typeof o[m]=="object"&&o[m]!==null)if(Array.isArray(o[m])){let y=0,l=o[m].filter(function(N){return N===!0||N===!1?!0:N===null?(y++,!0):typeof N=="string"?!0:!!(isFinite(N)&&!isNaN(parseFloat(N))&&Number.isFinite(N*1)&&!Number.isNaN(N*1))});if(o[m].length==l.length&&a*4+2+o[m].join(", ").length+y*4<=80){let N="["+o[m].map(h=>JSON.stringify(h)).join(", ")+"]";e+="    ".repeat(a)+"- "+N+`
`}else e+="    ".repeat(a)+`- []
`,i(o[m],a+1)}else e+="    ".repeat(a)+`- {}
`,i(o[m],a+1);else o[m]===!0?e+="    ".repeat(a)+`- true
`:o[m]===!1?e+="    ".repeat(a)+`- false
`:o[m]===null?e+="    ".repeat(a)+`- null
`:Number.isFinite(o[m])&&!Number.isNaN(o[m])?e+="    ".repeat(a)+"- "+o[m]+`
`:e+="    ".repeat(a)+`- ${JSON.stringify(o[m])}
`}}}});var Tr=Ae((Cn,Sr)=>{var wr=Or().parse,_n=Ar();Sr.exports=class{constructor(r=!1){let n=this;if(this.indentation=4,[!0,!1,void 0].indexOf(r)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=r,this.utils=new _n(this)}template(r){let n=this;var t=r.raw[0];for(let i=1;i<r.raw.length;i++)typeof arguments[i]=="string"?t+='"'+arguments[i]+'"':t+=arguments[i],t+=r.raw[i];return n._treeToMap(n._damonToTree(t))}damonToMap(r){let n=this,t=n._damonToTree(r);return t===!0||t===!1||t===null||typeof t=="string"||typeof t=="number"?t:n._treeToMap(n._damonToTree(r))}damonToJSON(r){let n=this;return n.mapToJSON(n.damonToMap(r))}damonToSExpression(r){let n=this;return n.implicitMapToSExpression(n.damonToMap(r))}jsonToDamon(r){let n=this;return n.mapToDamon(n.jsonToMap(r),!1)}jsonToMap(r){var t=this._getLines(r,"JSON");if(t=t.filter(e=>!/^ *\/\//.test(e)),t=t.filter(e=>e!=""),t=t.filter(e=>!/^[ \t]+$/.test(e)),t.length==1){if(["true","false","null"].indexOf(t[0].trim())>-1)return JSON.parse(t[0]);if(/^".*"$/.test(t[0].trim()))try{return JSON.parse(t[0].trim())}catch(e){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),e.line=1,e.language="JSON",e.type="string",e}else if(isFinite(t[0])&&!isNaN(parseFloat(t[0]))&&Number.isFinite(t[0]*1)&&!Number.isNaN(t[0]*1)){if(t[0].indexOf(0)==0&&t[0].length>1&&t[0].indexOf(".")!==1){let e=new Error("Error line number 1: leading 0");throw e.line=1,e.language="DAMON",e}try{return JSON.parse(t[0]*1)}catch(e){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),e.line=1,e.language="JSON",e.type="number",e}}else if(t[0]*1===1/0)try{JSON.parse(t[0]*1)}catch(e){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),e.line=1,e.language="JSON",e.type="infinity",e}else return wr(r)}else return wr(r)}_getLines(r,n="DAMON"){if(["DAMON","JSON"].indexOf(n)==-1)throw new Error("Bad language argument, expected 'DAMON' or 'JSON'");if(r===""){let i=new Error("Error line 1: empty string");throw i.line=1,i.language=n,i}if(/[\s]/.test(r)&&r.match(new RegExp(/[\s]/))[0].length==r.length){let i=new Error("Error line 1: string only contains whitespace");throw i.line=1,i.language=n,i}var t=/\r\n/.test(r)?`\r
`:`
`,e=r.split(t);if(/\\*\n/.test(r)&&t==`
`){if(/[^\\]\\(\\\\)*\n/.test(r)){let a=r.split(/[^\\]\\(\\\\)*\n/)[0].split(`
`).length,m=new Error("Error line "+a+": oddly escaped newline");throw m.line=a,m.language=n,m}e=r.split("").reverse().join("").split(/\n/).map(a=>a.split("").reverse().join("")).reverse()}return e}_damonToTree(r){let n=this,t=n._getLines(r),e=t.slice(0);if(t=t.filter(u=>!/^ *\/\//.test(u)),t=t.filter(u=>u!=""),t=t.filter(u=>!/^[ \t]+$/.test(u)),t.length==1){if(["true","false","null"].indexOf(t[0].trim())>-1)return JSON.parse(t[0]);if(/^".*"$/.test(t[0].trim()))try{return JSON.parse(t[0].trim())}catch(u){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),u.line=1,u.language="JSON",u.type="string",u}else if(isFinite(t[0])&&!isNaN(parseFloat(t[0]))&&Number.isFinite(t[0]*1)&&!Number.isNaN(t[0]*1)){if(t[0].indexOf(0)==0&&t[0].length>1&&t[0].indexOf(".")!==1){let u=new Error("Error line number 1: leading 0");throw u.line=1,u.language="DAMON",u}try{return JSON.parse(t[0]*1)}catch(u){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),u.line=1,u.language="JSON",u.type="number",u}}else if(t[0]*1===1/0)try{JSON.parse(t[0]*1)}catch(u){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),u.line=1,u.language="JSON",u.type="infinity",u}}let i=0,o=[];for(let u=0,g=e.length;u<g;u++)t.slice(i).indexOf(e[u])>-1?o[u]=t.slice(i).indexOf(e[u]):o[u]=null;let a=new RegExp("^(	)+");for(let u=0,g=t.length;u<g;u++){if(a.test(t[u])){let E=t[u].match(a)[0].length;for(let w=0,_=E;w<_;w++)t[u]=t[u].replace("	"," ".repeat(n.indentation))}if(!/^ *- $/.test(t[u])&&/[ \t]+$/.test(t[u])){let E=new Error("Error line "+(o.indexOf(u)+1)+": trailing whitespace");throw E.line=o.indexOf(u)+1,E.language="DAMON",E}}let m=new RegExp("^("+" ".repeat(n.indentation)+")+");if(m.test(t[0])){let u=t[0].match(m)[0].length,g=!0;for(let E=0,w=t.length;E<w;E++)m.test(t[E])&&t[E].match(m)[0].length>=u?t[E]=t[E].slice(u):g=!1;if(!g){let E=new Error("Error line 1: bad formatting");throw E.line=1,E.language="DAMON",E}}else if(m.test(t[1])&&t[1].match(m)[0].length>n.indentation){let u=t[1].match(m)[0].length-n.indentation,g=!0;for(let E=1,w=t.length;E<w;E++)m.test(t[E])&&t[E].match(m)[0].length>=u?t[E]=t[E].slice(u):g=!1;if(!g){let E=new Error("Error line 2: bad formatting");throw E.line=2,E.language="DAMON",E}}let c=!1;if(t.length>1)for(let u=0,g=t.length;u<g;u++)u!==0&&/^- /.test(t[u])&&(c=!0);if(!/^- \{\}$/.test(t[0])&&!/^- \[\]$/.test(t[0])&&(c=!0),c){for(let u=0,g=t.length;u<g;u++)t[u]=" ".repeat(n.indentation)+t[u];t.unshift("- {}")}var y={content:t[0],level:0,id:0,children:[],headless:c,damonOriginalLinesMapping:o},l=y;if(!/^- /.test(t[0].trimStart())||/^ +/.test(t[0])&&(t[0].match(/^ +/)[0].length%n.indentation!=0||t[0].match(/^ +/)[0].length!=n.indentation)){let u=new Error("Error line "+(c*1+1)+": bad formatting");throw u.line=c*1+1,u.language="DAMON",u}t.shift();for(let u=0,g=t.length;u<g;u++){if(!/^- /.test(t[u].trimStart())||/^ +/.test(t[u])&&(t[u].match(/^ +/)[0].length%n.indentation!=0||u==0&&t[u].match(/^ +/)[0].length!=n.indentation||u!=0&&/^- /.test(t[u-1])&&t[u].match(/^ +/)[0].length!=n.indentation||u!=0&&!/^- /.test(t[u-1])&&t[u].match(/^ +/)[0].length>t[u-1].match(/^ +/)[0].length+n.indentation)){console.log(t[u]);let w=new Error("Error line "+(o.indexOf(u)+1)+": bad formatting");throw w.line=o.indexOf(u)+1,w.language="DAMON",w}let E={content:t[u].trimStart().slice(2),level:1+t[u].match(/^ +/)[0].length/n.indentation,id:"",children:[]};if(l===y)E.id=y.children.length+1,y.children.push(E);else if(l.level===E.level){var N=n._findListItemCommonDirectParent(l,y);N.level==0?E.id=N.children.length+1:E.id=N.id+"-"+(N.children.length+1),N.children.push(E)}else if(l.level>E.level){var h=n._findListItemCommonAncestor(l,y,E.level);h.level==0?E.id=h.children.length+1:E.id=h.id+"-"+(h.children.length+1),h.children.push(E)}else if(l.level<E.level){var d=n._findListItemCommonDirectParent(l,y);let w=d.children.indexOf(l),_=d.children[w].id,S=d.children[w].children.length+1;E.id=_+"-"+S,d.children[w].children.push(E)}l=E}return y}_findListItemCommonDirectParent(r,n){let t=this;if(n.children.indexOf(r)>-1)return n;var e;for(let i=n.children.length-1,o=0;i>=o;i--)if(e=t._findListItemCommonDirectParent(r,n.children[i]),e)return e}_findListItemCommonAncestor(r,n,t){let e=this;var i=e._findListItemCommonDirectParent(r,n);return i.level<t?i:e._findListItemCommonAncestor(i,n,t)}_treeToMap(r){let n=this;var t=0;if(r.content=="- {}"){let a=new Map;return a.damonOriginalLinesMapping=r.damonOriginalLinesMapping,e(r,a)}else if(r.content=="- []"){let a=[];return a.damonOriginalLinesMapping=r.damonOriginalLinesMapping,e(r,a)}else{let a=new Map;return a.damonOriginalLinesMapping=r.damonOriginalLinesMapping,r.headless&&(a.headless=!0),e(r,a)}function e(a,m){if(typeof a!="object"||a==null||Array.isArray(a)){let c=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,y=new Error("Error line number "+c+": @param { {} } tree");throw y.line=c,y.language="DAMON",y}if(typeof m=="object"&&m!==null&&!Array.isArray(m)&&m instanceof Map&&m.constructor===Map)i(a,m);else if(Array.isArray(m))o(a,m);else{let c=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,y=new Error("Error line number "+c+": @param { {} | [] } jsonMap");throw y.line=c,y.language="DAMON",y}return m}function i(a,m){for(let c=0,y=a.children.length;c<y;c++)if(t++,a.children[c].content.length==0){let l="";a.children[c].children.length>0?(l="implicit map key",m.set("",new Map),m.implicitMaps===void 0&&(m.implicitMaps=[]),m.implicitMaps.push(""),e(a.children[c],m.get(""))):(l="implicit null key",m.set("",null),m.implicitNulls===void 0&&(m.implicitNulls=[]),m.implicitNulls.push(""))}else{let l=a.children[c].content,N="key";try{if(/^.*: +\[/.test(l)&&l[l.length-1]=="]")if(/: +\[ *\]$/.test(l)){let h=JSON.parse(`["${l.slice(0,-1*l.match(/: +\[ *\]$/)[0].length)}"]`)[0];m.set(h,[]),a.children[c].children.length>0&&e(a.children[c],m.get(h))}else{let h=new RegExp(/: +\[/g),d=l.slice(0,-1).split(h),u=l.match(h).concat([""]),g=d.map((S,R)=>S+u[R]),E="",w=[];for(let S=0,R=d.length;S<R;S++)try{let D;if(S==0?D=d[0]:D=g.slice(0,S).join("")+d[S],E=JSON.parse(`["${D}"]`)[0],N="list",w=JSON.parse(`[${g.slice(S+1).join("")}]`),Array.isArray(w))break}catch{if(S==R-2){let O=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,s=new Error("Error line number "+O+": invalid inline list");throw s.line=O,s.language="DAMON",s}}if(w.every(function(S){return S===!0||S===!1||S===null||typeof S=="string"?!0:!!(isFinite(S)&&!isNaN(parseFloat(S))&&Number.isFinite(S*1)&&!Number.isNaN(S*1))}))m.set(E,w),m.damonInlineArrays===void 0&&(m.damonInlineArrays=[]),m.damonInlineArrays.push(E);else{let S=+(r.headless*-1)+r.damonOriginalLinesMapping.indexOf(t-1)+2,R=new Error("Error line number "+S+": no nesting in inline lists");throw R.line=S,R.language="DAMON",R}if(a.children[c].children.length>0){let S=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+3,R=new Error("Error line number "+S+": inline lists can't have children");throw R.line=S,R.language="DAMON",R}}else if(/: +\{ *\}$/.test(l)){let h=JSON.parse(`["${l.slice(0,-1*l.match(/: +\{ *\}$/)[0].length)}"]`)[0];m.set(h,new Map),e(a.children[c],m.get(h))}else{let h=!1;if(/^.*: /.test(l)&&l.split(new RegExp(/: +/))[l.split(new RegExp(/: +/)).length-1]==="true"){let d=l.match(new RegExp(/: +/g))[l.match(new RegExp(/: +/g)).length-1],u=JSON.parse(`["${l.slice(0,-1*d.length-4)}"]`)[0];m.set(u,!0)}else if(/^.*: /.test(l)&&l.split(new RegExp(/: +/))[l.split(new RegExp(/: +/)).length-1]==="false"){let d=l.match(new RegExp(/: +/g))[l.match(new RegExp(/: +/g)).length-1],u=JSON.parse(`["${l.slice(0,-1*d.length-5)}"]`)[0];m.set(u,!1)}else if(/^.*: /.test(l)&&l.split(new RegExp(/: +/))[l.split(new RegExp(/: +/)).length-1]==="null"){let d=l.match(new RegExp(/: +/g))[l.match(new RegExp(/: +/g)).length-1],u=JSON.parse(`["${l.slice(0,-1*d.length-4)}"]`)[0];m.set(u,null)}else if(/^.*: +"/.test(l)&&l[l.length-1]=='"'){let d=l.match(new RegExp(/: +"/g));if(d.length==1){let u=JSON.parse(`["${l.split(d[0])[0]}"]`)[0];N="string";let g=JSON.parse(`["${l.split(d[0]).slice(1).join("").slice(0,-1)}"]`)[0];m.set(u,g)}else if(d.length==2&&/: +"$/.test(l)){let u=JSON.parse(`["${l.split(d[0])[0]}"]`)[0];N="string";let g=JSON.parse(`["${l.split(d[0]).slice(1).join("")+": "}"]`)[0];m.set(u,g)}else{let u=+(r.headless*-1)+r.damonOriginalLinesMapping.indexOf(t-1)+2,g=new Error("Error line number "+u+": unescaped double quote");throw g.line=u,g.language="DAMON",g}}else if(/^.*: /.test(l)&&isFinite(l.split(": ")[l.split(": ").length-1])&&!isNaN(parseFloat(l.split(": ")[l.split(": ").length-1]))&&Number.isFinite(l.split(": ")[l.split(": ").length-1]*1)&&!Number.isNaN(l.split(": ")[l.split(": ").length-1]*1)){let d=JSON.parse(`["${l.split(": ").slice(0,-1).join(": ")}"]`)[0];N="number";let u=l.match(new RegExp(/: +/g)),g=u[u.length-1],E=l.split(g)[l.split(g).length-1];if(E.indexOf(0)==0&&E.length>1&&E.indexOf(".")!==1){let _=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,S=new Error("Error line number "+_+": leading 0");throw S.line=_,S.language="DAMON",S}let w=JSON.parse(`[${l.split(": ")[l.split(": ").length-1]*1}]`)[0];m.set(d,w)}else if(/^.*: /.test(l)&&l.split(new RegExp(/: +/))[l.split(new RegExp(/: +/)).length-1]*1===1/0){let d=JSON.parse(`["${l.split(": ").slice(0,-1).join(": ")}"]`)[0];N="infinity";let u=JSON.parse(`[${l.split(": ")[l.split(": ").length-1]*1}]`)}else{let d=!1,u=0;if(/\[ *\]$/.test(l)&&(d=!0,u=l.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(l)&&(d=!0,u=l.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(l)&&(d=!0,u=4),/false$/.test(l)&&(d=!0,u=5),/null$/.test(l)&&(d=!0,u=4),/".*"$/.test(l)&&(d=!0,u=l.match(new RegExp(/".*"$/g))[0].length),!d){let g="";for(let E=l.length-1;E>-1&&(g=l[E].concat(g),isFinite(g)&&!isNaN(parseFloat(g))&&Number.isFinite(g*1)&&!Number.isNaN(g*1));E--){if(!/[ \t]/.test(l[E]))break;d=!0,u=g.length}}if(d)if(JSON.parse(`["${l.slice(0,-1*u)}"]`)[0],n.pedantic){let g=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t),E=new Error("Error line number "+g+": missing separator");throw E.line=g,E.language="DAMON",E.errorType="pedantic",E}else if(h=!0,a.children[c].children.length>0){N="implicit map key";let g=JSON.parse(`["${l}"]`)[0];m.set(g,new Map),m.implicitMaps===void 0&&(m.implicitMaps=[]),m.implicitMaps.push(g),e(a.children[c],m.get(g))}else{N="implicit null key";let g=JSON.parse(`["${l}"]`)[0];m.set(g,null),m.implicitNulls===void 0&&(m.implicitNulls=[]),m.implicitNulls.push(g)}else{let g=JSON.parse(`["${l.slice(0,-1*u)}"]`)[0];if(n.pedantic)if(/: +$/.test(g)){let E=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t),w=new Error("Error line number "+E+": bad value");throw w.line=E,w.language="DAMON",w.errorType="pedantic",w}else{let E=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t),w=new Error("Error line number "+E+": missing separator");throw w.line=E,w.language="DAMON",w.errorType="pedantic",w}else if(h=!0,a.children[c].children.length>0){N="implicit map key";let E=JSON.parse(`["${l}"]`)[0];m.set(E,new Map),m.implicitMaps===void 0&&(m.implicitMaps=[]),m.implicitMaps.push(E),e(a.children[c],m.get(E))}else{N="implicit null key";let E=JSON.parse(`["${l}"]`)[0];m.set(E,null),m.implicitNulls===void 0&&(m.implicitNulls=[]),m.implicitNulls.push(E)}}}if(!h&&a.children[c].children.length>0){let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+3,u=new Error("Error line number "+d+": missing container or excess indentation");throw u.line=d,u.language="DAMON",u}}}catch(h){if(h.language===void 0){let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2;console.error("Error line number "+d+": not JSON-compliant, detailed error follows"),h.line=d,h.language="JSON",h.type=N}throw h}}}function o(a,m){for(let c=0,y=a.children.length;c<y;c++)if(t++,a.children[c].content.length){let l=a.children[c].content;if(/^[ \t]*\[/.test(l)&&l[l.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(l))m.push([]),e(a.children[c],m[m.length-1]);else{let N;try{N=JSON.parse(l)}catch{let u=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,g=new Error("Error line number "+u+": invalid inline lists");throw g.line=u,g.language="JSON",g.type="list",g}if(N.every(function(d){return d===!0||d===!1||d===null||typeof d=="string"?!0:!!(isFinite(d)&&!isNaN(parseFloat(d))&&Number.isFinite(d*1)&&!Number.isNaN(d*1))}))m.push(N),m.damonInlineArrays===void 0&&(m.damonInlineArrays=[]),m.damonInlineArrays.push(c);else{let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,u=new Error("Error line number "+d+": no nesting in inline lists");throw u.line=d,u.language="DAMON",u}if(a.children[c].children.length>0){let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+3,u=new Error("Error line number "+d+": inline lists can't have children");throw u.line=d,u.language="DAMON",u}}else if(/^[ \t]*\{\}$/.test(l))m.push(new Map),e(a.children[c],m[m.length-1]);else if(/^[ \t]*true$/.test(l))m.push(!0);else if(/^[ \t]*false$/.test(l))m.push(!1);else if(/^[ \t]*null$/.test(l))m.push(null);else if(/^[ \t]*".*"$/.test(l))try{m.push(JSON.parse(`[${l.trimStart()}]`)[0])}catch(N){let h=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2;throw console.error("Error line number "+h+": not JSON-compliant, detailed error follows"),N.line=h,N.language="JSON",N.type="string",N}else if(isFinite(l)&&!isNaN(parseFloat(l))&&Number.isFinite(l*1)&&!Number.isNaN(l*1)){if(l.indexOf(0)==0&&l.length>1&&l.indexOf(".")!==1){let N=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,h=new Error("Error line number "+N+": leading 0");throw h.line=N,h.language="DAMON",h}try{m.push(JSON.parse(`[${l*1}]`)[0])}catch(N){let h=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2;throw console.error("Error line number "+h+": not JSON-compliant, detailed error follows"),N.line=h,N.language="JSON",N.type="number",N}}else if(l*1===1/0)try{JSON.parse(l*1)}catch(N){let h=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2;throw console.error("Error line number "+h+": not JSON-compliant, detailed error follows"),N.line=h,N.language="JSON",N.type="infinity",N}else{let N=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,h=new Error("Error line number "+N+": list items can't have a key");throw h.line=N,h.language="DAMON",h}}else{let l=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,N=new Error("Error line number "+l+": empty list node");throw N.line=l,N.language="DAMON",N}}}mapToDamon(r,n){let t=this;var e="";if(Array.isArray(r))e+=`- []
`;else if(typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map)e+=`- {}
`;else return typeof r=="string"&&(r='"'+r+'"'),JSON.parse(r),r;return i(r),t.damonToMap(e.slice(0,-1)),e.slice(0,-1);function i(o,a=1){if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map)for(let[y,l]of o)if(typeof l=="object"&&l!==null)if(Array.isArray(l)){let N=0,h=l.filter(function(d){return d===!0||d===!1?!0:d===null?(N++,!0):typeof d=="string"?!0:!!(isFinite(d)&&!isNaN(parseFloat(d))&&Number.isFinite(d*1)&&!Number.isNaN(d*1))});if(l.length==h.length&&a*4+2+l.join(", ").length+N*4<=80||n&&o.damonInlineArrays!==void 0&&o.damonInlineArrays.indexOf(y)>-1){let d="["+l.map(function(u){return typeof u=="string"&&(u=JSON.stringify(u)),u}).join(", ")+"]";e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+": "+d+`
`}else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+`: []
`,i(l,a+1)}else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+`: {}
`,i(l,a+1);else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+": ",l===!0?e+=`true
`:l===!1?e+=`false
`:l===null?e+=`null
`:Number.isFinite(l)&&!Number.isNaN(l)?e+=l+`
`:e+=JSON.stringify(l)+`
`;else if(Array.isArray(o))for(var m=0,c=o.length;m<c;m++)if(typeof o[m]=="object"&&o[m]!==null)if(Array.isArray(o[m])){let y=0,l=o[m].filter(function(N){return N===!0||N===!1?!0:N===null?(y++,!0):typeof N=="string"?!0:!!(isFinite(N)&&!isNaN(parseFloat(N))&&Number.isFinite(N*1)&&!Number.isNaN(N*1))});if(o[m].length==l.length&&a*4+2+o[m].join(", ").length+y*4<=80||n&&o.damonInlineArrays!==void 0&&o.damonInlineArrays.indexOf(m)>-1){let N="["+o[m].map(function(h){return typeof h=="string"&&(h=JSON.stringify(h)),h}).join(", ")+"]";e+="    ".repeat(a)+"- "+N+`
`}else e+="    ".repeat(a)+`- []
`,i(o[m],a+1)}else e+="    ".repeat(a)+`- {}
`,i(o[m],a+1);else o[m]===!0?e+="    ".repeat(a)+`- true
`:o[m]===!1?e+="    ".repeat(a)+`- false
`:o[m]===null?e+="    ".repeat(a)+`- null
`:Number.isFinite(o[m])&&!Number.isNaN(o[m])?e+="    ".repeat(a)+"- "+o[m]+`
`:e+="    ".repeat(a)+"- "+JSON.stringify(o[m])+`
`}}mapToJSON(r){let n=this;var t="";if(Array.isArray(r))return t+=`[\r
`,e(r),t+="]",JSON.parse(t),t;return typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map?(t+=`{\r
`,e(r),t+="}",JSON.parse(t),t):(typeof r=="string"&&(r=JSON.stringify(r)),JSON.parse(r),r);function e(i,o=1){if(typeof i=="object"&&i!==null&&!Array.isArray(i)&&i instanceof Map&&i.constructor===Map)for(let[c,y]of i)typeof y=="object"&&y!==null?Array.isArray(y)?y.length>0?(t+="    ".repeat(o)+`${JSON.stringify(c)}: [\r
`,e(y,o+1),t+="    ".repeat(o)+"]"):t+="    ".repeat(o)+`${JSON.stringify(c)}: []`:Array.from(y.keys()).length>0?(t+="    ".repeat(o)+`${JSON.stringify(c)}: {\r
`,e(y,o+1),t+="    ".repeat(o)+"}"):t+="    ".repeat(o)+`${JSON.stringify(c)}: {}`:y===!0?t+="    ".repeat(o)+`${JSON.stringify(c)}: true`:y===!1?t+="    ".repeat(o)+`${JSON.stringify(c)}: false`:y===null?t+="    ".repeat(o)+`${JSON.stringify(c)}: null`:Number.isFinite(y)&&!Number.isNaN(y)?t+="    ".repeat(o)+`${JSON.stringify(c)}: `+y:t+="    ".repeat(o)+`${JSON.stringify(c)}: `+JSON.stringify(y),c!=Array.from(i.keys())[Array.from(i.keys()).length-1]?t+=`,\r
`:t+=`\r
`;else if(Array.isArray(i))for(var a=0,m=i.length;a<m;a++)typeof i[a]=="object"&&i[a]!==null?Array.isArray(i[a])?i[a].length>0?(t+="    ".repeat(o)+`[\r
`,e(i[a],o+1),t+="    ".repeat(o)+"]"):t+="    ".repeat(o)+"[]":Array.from(i[a].keys()).length>0?(t+="    ".repeat(o)+`{\r
`,e(i[a],o+1),t+="    ".repeat(o)+"}"):t+="    ".repeat(o)+"{}":i[a]===!0?t+="    ".repeat(o)+"true":i[a]===!1?t+="    ".repeat(o)+"false":i[a]===null?t+="    ".repeat(o)+"null":Number.isFinite(i[a])&&!Number.isNaN(i[a])?t+="    ".repeat(o)+i[a]:t+="    ".repeat(o)+JSON.stringify(i[a]),a!=m-1?t+=`,\r
`:t+=`\r
`}}implicitMapToSExpression(r){let n=this;var t="";if(typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map)return t+=`[\r
`,e(r),t+="]",JSON.parse(t),t;return typeof r=="string"&&(r='"'+r+'"'),JSON.parse(r),r;function e(i,o=1){if(typeof i=="object"&&i!==null&&!Array.isArray(i)&&i instanceof Map&&i.constructor===Map){let c=-1;for(let[y,l]of i){if(c++,typeof l=="object"&&l!==null)if(Array.isArray(l))l.length>0?(t+="    ".repeat(o)+`${JSON.stringify(y)}, [\r
`,e(l,o+1),t+="    ".repeat(o)+"]"):t+="    ".repeat(o)+`${JSON.stringify(y)}, []`;else if(Array.from(l.keys()).length>0){if(o==1)if(c==0)t="";else throw new Error("Multiple S-Expression roots");t+="    ".repeat(o)+`[${JSON.stringify(y)}, \r
`,e(l,o+1),o!=1&&(t+="    ".repeat(o)+"]")}else t+="    ".repeat(o)+`${JSON.stringify(y)}, []`;else{if(l===!0)throw new Error("Booleans require quotes");if(l===!1)throw new Error("Booleans require quotes");l===null?t+="    ".repeat(o)+`${JSON.stringify(y)}`:Number.isFinite(l)&&!Number.isNaN(l)?t+="    ".repeat(o)+`${JSON.stringify(y)}, `+l:t+="    ".repeat(o)+`${JSON.stringify(y)}, "${l}"`}y!=Array.from(i.keys())[Array.from(i.keys()).length-1]?t+=`,\r
`:t+=`\r
`}}else if(Array.isArray(i))for(var a=0,m=i.length;a<m;a++){if(typeof i[a]=="object"&&i[a]!==null)Array.isArray(i[a])?i[a].length>0?(t+="    ".repeat(o)+`[\r
`,e(i[a],o+1),t+="    ".repeat(o)+"]"):t+="    ".repeat(o)+"[]":Array.from(i[a].keys()).length>0?(t+="    ".repeat(o)+`[\r
`,e(i[a],o+1),t+="    ".repeat(o)+"]"):t+="    ".repeat(o)+"[]";else{if(i[a]===!0)throw new Error("Booleans require quotes");if(i[a]===!1)throw new Error("Booleans require quotes");if(i[a]===null)throw new Error("Array-nulls require quotes");Number.isFinite(i[a])&&!Number.isNaN(i[a])?t+="    ".repeat(o)+i[a]:t+="    ".repeat(o)+JSON.stringify(i[a])}a!=m-1?t+=`,\r
`:t+=`\r
`}}}getRangeFromPath(r,n){let t=this,e=t.damonToMap(r),i=-1,o=!1;N(e,n),e.headless&&(i-=1);let a=0,m=0;for(let h=0,d=e.damonOriginalLinesMapping.length;h<d;h++)if(e.damonOriginalLinesMapping[h]!==null&&m++,m==i){a=h+1;break}let c=t._getLines(r)[a],y=0,l=c.length;if(n.length==1)typeof n[n.length-1]=="string"?y=c.length-c.trimStart().slice(2+n[n.length-1].length+2).trimStart().length:y=c.length-c.trimStart().slice(2).length;else if(typeof n[n.length-2]=="string")if(typeof n[n.length-1]=="string")y=c.length-c.trimStart().slice(2+n[n.length-1].length+2).trimStart().length;else if(c[c.length-1]=="]"&&!/\[ *\]$/.test(c)){let h=c.trimStart().slice(2+n[n.length-2].length+2),d=JSON.parse(h),u=d.slice(0,n[n.length-1].length).reduce((w,_)=>w+(_===d[n[n.length-1]]),0),g=0,E=d[n[n.length-1]];typeof E=="string"&&(E='"'+E+'"');for(let w=0,_=u+1;w<_;w++)g=h.indexOf(E,g);y=c.length-h.length+g,l=y+E.length}else y=c.length-c.trimStart().slice(2).length;else if(typeof n[n.length-1]=="string")y=c.length-c.trimStart().slice(2+n[n.length-1].length+2).trimStart().length;else if(c[c.length-1]=="]"&&!/\[ *\]$/.test(c)){let h=c.trimStart().slice(2),d=JSON.parse(h),u=d.slice(0,n[n.length-1]).reduce((w,_)=>w+(_===d[n[n.length-1]]),0),g=0,E=d[n[n.length-1]];typeof E=="string"&&(E='"'+E+'"');for(let w=0,_=u+1;w<_;w++)g=h.indexOf(E,g);y=c.length-h.length+g,l=y+E.length}else y=c.length-c.trimStart().slice(2).length;return[[a,y],[a,l]];function N(h,d,u=[]){if(o!=!0)if(i+=1,typeof h=="object"&&h!==null&&!Array.isArray(h)&&h instanceof Map&&h.constructor===Map)for(let[g,E]of h){if(i+=1,JSON.stringify(d)===JSON.stringify(u.concat([g]))){o=!0;return}typeof E=="object"&&E!==null&&!Array.isArray(E)&&E instanceof Map&&E.constructor===Map&&Array.from(E.keys()).length?(i-=1,N(E,d,u.concat([g]))):Array.isArray(E)&&(h.damonInlineArrays==null||h.damonInlineArrays.indexOf(g)===-1)&&E.length&&(i-=1,N(E,d,u.concat([g])))}else for(let g=0,E=h.length;g<E;g++){if(i+=1,JSON.stringify(d)===JSON.stringify(u.concat([g]))){o=!0;return}typeof h[g]=="object"&&h[g]!==null&&!Array.isArray(h[g])&&h[g]instanceof Map&&h[g].constructor===Map&&Array.from(h[g].keys()).length?(i-=1,N(h[g],d,u.concat([g]))):Array.isArray(h[g])&&(h.damonInlineArrays==null||h.damonInlineArrays.indexOf(g)===-1)&&h[g].length&&(i-=1,N(h[g],d,u.concat([g])))}}}getTokenFromCoordinates(r,n){let t=this,e={},i=t._getLines(r).slice(0,n[0]);if(i[n[0]-1]=="")return e.type="newline",e.path=null,e.range=[n,n],e;if(/^[ \t]+$/.test(i[n[0]-1]))return e.type="indentation",e.path=null,e.range=[[n[0],1],[n[0],i[i.length-1].length]],e;if(/^[ \t]+/.test(i[n[0]-1].slice(0,n[1]-1))&&(e.type="indentation",e.range=[[n[0],1],[n[0],i[n[0]-1].match(/^[ \t]+/)[0].length]]),/^ *\/\//.test(i[n[0]-1]))return e.type=="indentation"?(e.path=null,e):(e.type="comment",e.path=null,e.range=[[[n[0],i[n[0]-1].split("//")[0].length]],[[n[0],i[n[0]-1].length]]],e);if(i.length==1)try{let y=JSON.parse(r);if(y===!0||y===!1||y===null||typeof y=="string"||typeof y=="number"){let l=r.match(/^ */)[0].length,N=r.match(/ *$/)[0].length;return e.type="null",typeof y!="object"&&(e.type=typeof y),e.path=null,e.range=[[0,l],[0,r.length-N]],e}}catch{}let o=t.damonToMap(i.join(`
`)),a=Array.from(o.keys()),m=[];for(;a.length;){let y=a[a.length-1];if(m.push(y),typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map?o=o.get(y):Array.isArray(o)&&(o=o[y]),o===!0||o===!1||o===null||typeof o=="string"||typeof o=="number")break;a=Array.from(o.keys())}e.path=m;let c=t.getRangeFromPath(r,m);if(typeof m[m.length-1]=="string")if(n[1]<c[0][1]){let y=i[n[0]-1].slice(0,-1*(c[1][1]-c[0][1])-1).length;if(n[1]<y){let l=i[n[0]-1].match(/^[ \t]+/)[0].length+3;n[1]>=l?(e.type="property",e.range=[[n[0],l],[n[0],y]]):(e.type="hyphen",e.range=[[n[0],l-2],[n[0],l-1]])}else e.type="separator",e.range=[[n[0],y+1],[n[0],c[0][1]-1]]}else e.type="?",e.range=c;else if(n[1]<c[0][1]){e.type="hyphen";let y=i[n[0]-1].match(/^[ \t]+/)[0].length+1;e.range=[[n[0],y],[n[0],y+1]]}else e.type="?",e.range=c;return e}}});(function(){window.Damon=Tr()})();})();
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE *)
*/
