(()=>{var sn=Object.create;var Pe=Object.defineProperty;var fn=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var un=Object.getPrototypeOf,pn=Object.prototype.hasOwnProperty;var dn=(f=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(f,{get:(t,a)=>(typeof require<"u"?require:t)[a]}):f)(function(f){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+f+'" is not supported')});var hn=(f,t)=>()=>(f&&(t=f(f=0)),t);var se=(f,t)=>()=>(t||f((t={exports:{}}).exports,t),t.exports),mn=(f,t)=>{for(var a in t)Pe(f,a,{get:t[a],enumerable:!0})},zt=(f,t,a,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of cn(t))!pn.call(f,e)&&e!==a&&Pe(f,e,{get:()=>t[e],enumerable:!(r=fn(t,e))||r.enumerable});return f};var Wt=(f,t,a)=>(a=f!=null?sn(un(f)):{},zt(t||!f||!f.__esModule?Pe(a,"default",{value:f,enumerable:!0}):a,f)),gn=f=>zt(Pe({},"__esModule",{value:!0}),f);var Yt=se((tt,rt)=>{(function(f,t){typeof tt=="object"&&typeof rt<"u"?rt.exports=t():typeof define=="function"&&define.amd?define(t):(f=typeof globalThis<"u"?globalThis:f||self,f.DOMPurify=t())})(tt,function(){"use strict";let{entries:f,setPrototypeOf:t,isFrozen:a,getPrototypeOf:r,getOwnPropertyDescriptor:e}=Object,{freeze:n,seal:u,create:s}=Object,{apply:g,construct:d}=typeof Reflect<"u"&&Reflect;n||(n=function(D){return D}),u||(u=function(D){return D}),g||(g=function(D,U,P){return D.apply(U,P)}),d||(d=function(D,U){return new D(...U)});let E=v(Array.prototype.forEach),o=v(Array.prototype.pop),b=v(Array.prototype.push),O=v(String.prototype.toLowerCase),m=v(String.prototype.toString),h=v(String.prototype.match),_=v(String.prototype.replace),w=v(String.prototype.indexOf),L=v(String.prototype.trim),T=v(Object.prototype.hasOwnProperty),C=v(RegExp.prototype.test),I=y(TypeError);function v(k){return function(D){for(var U=arguments.length,P=new Array(U>1?U-1:0),G=1;G<U;G++)P[G-1]=arguments[G];return g(k,D,P)}}function y(k){return function(){for(var D=arguments.length,U=new Array(D),P=0;P<D;P++)U[P]=arguments[P];return d(k,U)}}function l(k,D){let U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O;t&&t(k,null);let P=D.length;for(;P--;){let G=D[P];if(typeof G=="string"){let re=U(G);re!==G&&(a(D)||(D[P]=re),G=re)}k[G]=!0}return k}function x(k){for(let D=0;D<k.length;D++)T(k,D)||(k[D]=null);return k}function N(k){let D=s(null);for(let[U,P]of f(k))T(k,U)&&(Array.isArray(P)?D[U]=x(P):P&&typeof P=="object"&&P.constructor===Object?D[U]=N(P):D[U]=P);return D}function M(k,D){for(;k!==null;){let P=e(k,D);if(P){if(P.get)return v(P.get);if(typeof P.value=="function")return v(P.value)}k=r(k)}function U(){return null}return U}let Q=n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Se=n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),V=n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),te=n(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),j=n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Oe=n(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ft=n(["#text"]),ct=n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Fe=n(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ut=n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Le=n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Lr=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xr=u(/<%[\w\W]*|[\w\W]*%>/gm),Cr=u(/\${[\w\W]*}/gm),Dr=u(/^data-[\-\w.\u00B7-\uFFFF]/),Rr=u(/^aria-[\-\w]+$/),pt=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ir=u(/^(?:\w+script|data):/i),vr=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),dt=u(/^html$/i),Pr=u(/^[a-z][.\w]*(-[.\w]+)+$/i);var ht=Object.freeze({__proto__:null,MUSTACHE_EXPR:Lr,ERB_EXPR:xr,TMPLIT_EXPR:Cr,DATA_ATTR:Dr,ARIA_ATTR:Rr,IS_ALLOWED_URI:pt,IS_SCRIPT_OR_DATA:Ir,ATTR_WHITESPACE:vr,DOCTYPE_NAME:dt,CUSTOM_ELEMENT:Pr});let kr=function(){return typeof window>"u"?null:window},Ur=function(D,U){if(typeof D!="object"||typeof D.createPolicy!="function")return null;let P=null,G="data-tt-policy-suffix";U&&U.hasAttribute(G)&&(P=U.getAttribute(G));let re="dompurify"+(P?"#"+P:"");try{return D.createPolicy(re,{createHTML(fe){return fe},createScriptURL(fe){return fe}})}catch{return console.warn("TrustedTypes policy "+re+" could not be created."),null}};function mt(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kr(),D=R=>mt(R);if(D.version="3.0.11",D.removed=[],!k||!k.document||k.document.nodeType!==9)return D.isSupported=!1,D;let{document:U}=k,P=U,G=P.currentScript,{DocumentFragment:re,HTMLTemplateElement:fe,Node:Me,Element:gt,NodeFilter:Ne,NamedNodeMap:Fr=k.NamedNodeMap||k.MozNamedAttrMap,HTMLFormElement:Mr,DOMParser:Jr,trustedTypes:xe}=k,Ce=gt.prototype,Hr=M(Ce,"cloneNode"),Br=M(Ce,"nextSibling"),Gr=M(Ce,"childNodes"),Je=M(Ce,"parentNode");if(typeof fe=="function"){let R=U.createElement("template");R.content&&R.content.ownerDocument&&(U=R.content.ownerDocument)}let Y,_e="",{implementation:He,createNodeIterator:zr,createDocumentFragment:Wr,getElementsByTagName:Yr}=U,{importNode:qr}=P,ee={};D.isSupported=typeof f=="function"&&typeof Je=="function"&&He&&He.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Be,ERB_EXPR:Ge,TMPLIT_EXPR:ze,DATA_ATTR:Vr,ARIA_ATTR:Kr,IS_SCRIPT_OR_DATA:Xr,ATTR_WHITESPACE:yt,CUSTOM_ELEMENT:Zr}=ht,{IS_ALLOWED_URI:Et}=ht,J=null,Ot=l({},[...Q,...Se,...V,...j,...ft]),H=null,Nt=l({},[...ct,...Fe,...ut,...Le]),F=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,We=null,_t=!0,Ye=!0,bt=!1,wt=!0,ce=!1,ae=!1,qe=!1,Ve=!1,ue=!1,De=!1,Re=!1,At=!0,Tt=!1,Qr="user-content-",Ke=!0,we=!1,pe={},de=null,St=l({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Lt=null,xt=l({},["audio","video","img","source","image","track"]),Xe=null,Ct=l({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ie="http://www.w3.org/1998/Math/MathML",ve="http://www.w3.org/2000/svg",ne="http://www.w3.org/1999/xhtml",he=ne,Ze=!1,Qe=null,jr=l({},[Ie,ve,ne],m),Ae=null,en=["application/xhtml+xml","text/html"],tn="text/html",B=null,me=null,rn=U.createElement("form"),Dt=function(p){return p instanceof RegExp||p instanceof Function},je=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(me&&me===p)){if((!p||typeof p!="object")&&(p={}),p=N(p),Ae=en.indexOf(p.PARSER_MEDIA_TYPE)===-1?tn:p.PARSER_MEDIA_TYPE,B=Ae==="application/xhtml+xml"?m:O,J=T(p,"ALLOWED_TAGS")?l({},p.ALLOWED_TAGS,B):Ot,H=T(p,"ALLOWED_ATTR")?l({},p.ALLOWED_ATTR,B):Nt,Qe=T(p,"ALLOWED_NAMESPACES")?l({},p.ALLOWED_NAMESPACES,m):jr,Xe=T(p,"ADD_URI_SAFE_ATTR")?l(N(Ct),p.ADD_URI_SAFE_ATTR,B):Ct,Lt=T(p,"ADD_DATA_URI_TAGS")?l(N(xt),p.ADD_DATA_URI_TAGS,B):xt,de=T(p,"FORBID_CONTENTS")?l({},p.FORBID_CONTENTS,B):St,be=T(p,"FORBID_TAGS")?l({},p.FORBID_TAGS,B):{},We=T(p,"FORBID_ATTR")?l({},p.FORBID_ATTR,B):{},pe=T(p,"USE_PROFILES")?p.USE_PROFILES:!1,_t=p.ALLOW_ARIA_ATTR!==!1,Ye=p.ALLOW_DATA_ATTR!==!1,bt=p.ALLOW_UNKNOWN_PROTOCOLS||!1,wt=p.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ce=p.SAFE_FOR_TEMPLATES||!1,ae=p.WHOLE_DOCUMENT||!1,ue=p.RETURN_DOM||!1,De=p.RETURN_DOM_FRAGMENT||!1,Re=p.RETURN_TRUSTED_TYPE||!1,Ve=p.FORCE_BODY||!1,At=p.SANITIZE_DOM!==!1,Tt=p.SANITIZE_NAMED_PROPS||!1,Ke=p.KEEP_CONTENT!==!1,we=p.IN_PLACE||!1,Et=p.ALLOWED_URI_REGEXP||pt,he=p.NAMESPACE||ne,F=p.CUSTOM_ELEMENT_HANDLING||{},p.CUSTOM_ELEMENT_HANDLING&&Dt(p.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(F.tagNameCheck=p.CUSTOM_ELEMENT_HANDLING.tagNameCheck),p.CUSTOM_ELEMENT_HANDLING&&Dt(p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(F.attributeNameCheck=p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),p.CUSTOM_ELEMENT_HANDLING&&typeof p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(F.allowCustomizedBuiltInElements=p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ce&&(Ye=!1),De&&(ue=!0),pe&&(J=l({},ft),H=[],pe.html===!0&&(l(J,Q),l(H,ct)),pe.svg===!0&&(l(J,Se),l(H,Fe),l(H,Le)),pe.svgFilters===!0&&(l(J,V),l(H,Fe),l(H,Le)),pe.mathMl===!0&&(l(J,j),l(H,ut),l(H,Le))),p.ADD_TAGS&&(J===Ot&&(J=N(J)),l(J,p.ADD_TAGS,B)),p.ADD_ATTR&&(H===Nt&&(H=N(H)),l(H,p.ADD_ATTR,B)),p.ADD_URI_SAFE_ATTR&&l(Xe,p.ADD_URI_SAFE_ATTR,B),p.FORBID_CONTENTS&&(de===St&&(de=N(de)),l(de,p.FORBID_CONTENTS,B)),Ke&&(J["#text"]=!0),ae&&l(J,["html","head","body"]),J.table&&(l(J,["tbody"]),delete be.tbody),p.TRUSTED_TYPES_POLICY){if(typeof p.TRUSTED_TYPES_POLICY.createHTML!="function")throw I('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof p.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw I('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Y=p.TRUSTED_TYPES_POLICY,_e=Y.createHTML("")}else Y===void 0&&(Y=Ur(xe,G)),Y!==null&&typeof _e=="string"&&(_e=Y.createHTML(""));n&&n(p),me=p}},Rt=l({},["mi","mo","mn","ms","mtext"]),It=l({},["foreignobject","desc","title","annotation-xml"]),nn=l({},["title","style","font","a","script"]),vt=l({},[...Se,...V,...te]),Pt=l({},[...j,...Oe]),ln=function(p){let A=Je(p);(!A||!A.tagName)&&(A={namespaceURI:he,tagName:"template"});let S=O(p.tagName),$=O(A.tagName);return Qe[p.namespaceURI]?p.namespaceURI===ve?A.namespaceURI===ne?S==="svg":A.namespaceURI===Ie?S==="svg"&&($==="annotation-xml"||Rt[$]):!!vt[S]:p.namespaceURI===Ie?A.namespaceURI===ne?S==="math":A.namespaceURI===ve?S==="math"&&It[$]:!!Pt[S]:p.namespaceURI===ne?A.namespaceURI===ve&&!It[$]||A.namespaceURI===Ie&&!Rt[$]?!1:!Pt[S]&&(nn[S]||!vt[S]):!!(Ae==="application/xhtml+xml"&&Qe[p.namespaceURI]):!1},le=function(p){b(D.removed,{element:p});try{p.parentNode.removeChild(p)}catch{p.remove()}},et=function(p,A){try{b(D.removed,{attribute:A.getAttributeNode(p),from:A})}catch{b(D.removed,{attribute:null,from:A})}if(A.removeAttribute(p),p==="is"&&!H[p])if(ue||De)try{le(A)}catch{}else try{A.setAttribute(p,"")}catch{}},kt=function(p){let A=null,S=null;if(Ve)p="<remove></remove>"+p;else{let W=h(p,/^[\r\n\t ]+/);S=W&&W[0]}Ae==="application/xhtml+xml"&&he===ne&&(p='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+p+"</body></html>");let $=Y?Y.createHTML(p):p;if(he===ne)try{A=new Jr().parseFromString($,Ae)}catch{}if(!A||!A.documentElement){A=He.createDocument(he,"template",null);try{A.documentElement.innerHTML=Ze?_e:$}catch{}}let z=A.body||A.documentElement;return p&&S&&z.insertBefore(U.createTextNode(S),z.childNodes[0]||null),he===ne?Yr.call(A,ae?"html":"body")[0]:ae?A.documentElement:z},Ut=function(p){return zr.call(p.ownerDocument||p,p,Ne.SHOW_ELEMENT|Ne.SHOW_COMMENT|Ne.SHOW_TEXT|Ne.SHOW_PROCESSING_INSTRUCTION|Ne.SHOW_CDATA_SECTION,null)},an=function(p){return p instanceof Mr&&(typeof p.nodeName!="string"||typeof p.textContent!="string"||typeof p.removeChild!="function"||!(p.attributes instanceof Fr)||typeof p.removeAttribute!="function"||typeof p.setAttribute!="function"||typeof p.namespaceURI!="string"||typeof p.insertBefore!="function"||typeof p.hasChildNodes!="function")},$t=function(p){return typeof Me=="function"&&p instanceof Me},ie=function(p,A,S){ee[p]&&E(ee[p],$=>{$.call(D,A,S,me)})},Ft=function(p){let A=null;if(ie("beforeSanitizeElements",p,null),an(p))return le(p),!0;let S=B(p.nodeName);if(ie("uponSanitizeElement",p,{tagName:S,allowedTags:J}),p.hasChildNodes()&&!$t(p.firstElementChild)&&C(/<[/\w]/g,p.innerHTML)&&C(/<[/\w]/g,p.textContent)||p.nodeType===7)return le(p),!0;if(!J[S]||be[S]){if(!be[S]&&Jt(S)&&(F.tagNameCheck instanceof RegExp&&C(F.tagNameCheck,S)||F.tagNameCheck instanceof Function&&F.tagNameCheck(S)))return!1;if(Ke&&!de[S]){let $=Je(p)||p.parentNode,z=Gr(p)||p.childNodes;if(z&&$){let W=z.length;for(let K=W-1;K>=0;--K)$.insertBefore(Hr(z[K],!0),Br(p))}}return le(p),!0}return p instanceof gt&&!ln(p)||(S==="noscript"||S==="noembed"||S==="noframes")&&C(/<\/no(script|embed|frames)/i,p.innerHTML)?(le(p),!0):(ce&&p.nodeType===3&&(A=p.textContent,E([Be,Ge,ze],$=>{A=_(A,$," ")}),p.textContent!==A&&(b(D.removed,{element:p.cloneNode()}),p.textContent=A)),ie("afterSanitizeElements",p,null),!1)},Mt=function(p,A,S){if(At&&(A==="id"||A==="name")&&(S in U||S in rn))return!1;if(!(Ye&&!We[A]&&C(Vr,A))){if(!(_t&&C(Kr,A))){if(!H[A]||We[A]){if(!(Jt(p)&&(F.tagNameCheck instanceof RegExp&&C(F.tagNameCheck,p)||F.tagNameCheck instanceof Function&&F.tagNameCheck(p))&&(F.attributeNameCheck instanceof RegExp&&C(F.attributeNameCheck,A)||F.attributeNameCheck instanceof Function&&F.attributeNameCheck(A))||A==="is"&&F.allowCustomizedBuiltInElements&&(F.tagNameCheck instanceof RegExp&&C(F.tagNameCheck,S)||F.tagNameCheck instanceof Function&&F.tagNameCheck(S))))return!1}else if(!Xe[A]){if(!C(Et,_(S,yt,""))){if(!((A==="src"||A==="xlink:href"||A==="href")&&p!=="script"&&w(S,"data:")===0&&Lt[p])){if(!(bt&&!C(Xr,_(S,yt,"")))){if(S)return!1}}}}}}return!0},Jt=function(p){return p!=="annotation-xml"&&h(p,Zr)},Ht=function(p){ie("beforeSanitizeAttributes",p,null);let{attributes:A}=p;if(!A)return;let S={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H},$=A.length;for(;$--;){let z=A[$],{name:W,namespaceURI:K,value:oe}=z,Te=B(W),X=W==="value"?oe:L(oe);if(S.attrName=Te,S.attrValue=X,S.keepAttr=!0,S.forceKeepAttr=void 0,ie("uponSanitizeAttribute",p,S),X=S.attrValue,S.forceKeepAttr||(et(W,p),!S.keepAttr))continue;if(!wt&&C(/\/>/i,X)){et(W,p);continue}ce&&E([Be,Ge,ze],Gt=>{X=_(X,Gt," ")});let Bt=B(p.nodeName);if(Mt(Bt,Te,X)){if(Tt&&(Te==="id"||Te==="name")&&(et(W,p),X=Qr+X),Y&&typeof xe=="object"&&typeof xe.getAttributeType=="function"&&!K)switch(xe.getAttributeType(Bt,Te)){case"TrustedHTML":{X=Y.createHTML(X);break}case"TrustedScriptURL":{X=Y.createScriptURL(X);break}}try{K?p.setAttributeNS(K,W,X):p.setAttribute(W,X),o(D.removed)}catch{}}}ie("afterSanitizeAttributes",p,null)},on=function R(p){let A=null,S=Ut(p);for(ie("beforeSanitizeShadowDOM",p,null);A=S.nextNode();)ie("uponSanitizeShadowNode",A,null),!Ft(A)&&(A.content instanceof re&&R(A.content),Ht(A));ie("afterSanitizeShadowDOM",p,null)};return D.sanitize=function(R){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=null,S=null,$=null,z=null;if(Ze=!R,Ze&&(R="<!-->"),typeof R!="string"&&!$t(R))if(typeof R.toString=="function"){if(R=R.toString(),typeof R!="string")throw I("dirty is not a string, aborting")}else throw I("toString is not a function");if(!D.isSupported)return R;if(qe||je(p),D.removed=[],typeof R=="string"&&(we=!1),we){if(R.nodeName){let oe=B(R.nodeName);if(!J[oe]||be[oe])throw I("root node is forbidden and cannot be sanitized in-place")}}else if(R instanceof Me)A=kt("<!---->"),S=A.ownerDocument.importNode(R,!0),S.nodeType===1&&S.nodeName==="BODY"||S.nodeName==="HTML"?A=S:A.appendChild(S);else{if(!ue&&!ce&&!ae&&R.indexOf("<")===-1)return Y&&Re?Y.createHTML(R):R;if(A=kt(R),!A)return ue?null:Re?_e:""}A&&Ve&&le(A.firstChild);let W=Ut(we?R:A);for(;$=W.nextNode();)Ft($)||($.content instanceof re&&on($.content),Ht($));if(we)return R;if(ue){if(De)for(z=Wr.call(A.ownerDocument);A.firstChild;)z.appendChild(A.firstChild);else z=A;return(H.shadowroot||H.shadowrootmode)&&(z=qr.call(P,z,!0)),z}let K=ae?A.outerHTML:A.innerHTML;return ae&&J["!doctype"]&&A.ownerDocument&&A.ownerDocument.doctype&&A.ownerDocument.doctype.name&&C(dt,A.ownerDocument.doctype.name)&&(K="<!DOCTYPE "+A.ownerDocument.doctype.name+`>
`+K),ce&&E([Be,Ge,ze],oe=>{K=_(K,oe," ")}),Y&&Re?Y.createHTML(K):K},D.setConfig=function(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};je(R),qe=!0},D.clearConfig=function(){me=null,qe=!1},D.isValidAttribute=function(R,p,A){me||je({});let S=B(R),$=B(p);return Mt(S,$,A)},D.addHook=function(R,p){typeof p=="function"&&(ee[R]=ee[R]||[],b(ee[R],p))},D.removeHook=function(R){if(ee[R])return o(ee[R])},D.removeHooks=function(R){ee[R]&&(ee[R]=[])},D.removeAllHooks=function(){ee={}},D}var $r=mt();return $r})});var Vt=se((In,qt)=>{var q=Wt(Yt());qt.exports=class{constructor(){let t=this}escape(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(t,a=!1,r=void 0){let e=this;try{e.mapToJSON(t)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var n=0,u=document.createElement("ul"),s;return r!==void 0&&(s=JSON.parse(r)),u.className="DAMON-List",g(t,u),u;function g(d,E){if(typeof E!="object"||E==null||Array.isArray(E))throw new Error("Error List Item number "+n+": @param { {} } list");if(typeof d=="object"&&d!==null&&!Array.isArray(d)&&d instanceof Map&&d.constructor===Map){if(E.tagName=="UL")for(let[O,m]of d){let h=document.createElement("ul"),_=document.createElement("code"),w=document.createElement("span"),L=document.createElement("li");if(w.className="type-key",/^https?:\/\//.test(O)){let T=q.sanitize(`<a href="${O}">${O}</a>`);w.innerHTML=T}else r!==void 0&&O in s["@context"]?w.innerHTML=q.sanitize(`<a href="${s["@context"][O]["@id"]}">${O}</a>`):w.textContent=O;if(typeof m=="object"&&m!==null)if(Array.isArray(m))if(d.inlineArrays!==void 0&&d.inlineArrays.indexOf(O)>-1){_.innerHTML=w.outerHTML+": [";for(let T=0,C=m.length;T<C;T++){let I=document.createElement("span"),v=m[T];v===!0?(I.textContent="true",I.className="type-boolean"):v===!1?(I.textContent="false",I.className="type-boolean"):v===null?(I.textContent="null",I.className="type-null"):Number.isFinite(v)&&!Number.isNaN(v)?(I.textContent=v+"",I.className="type-number"):(a?/^https?:\/\//.test(v)?I.innerHTML=q.sanitize(`<a href="${v}">"${v}"</a>`):I.innerHTML=`"${v}"`:/^https?:\/\//.test(v)?I.innerHTML=q.sanitize(`<a href="${v}">"${v}"</a>`):I.textContent=`"${v}"`,I.className="type-string"),T!==0&&(_.innerHTML+=", "),_.appendChild(I)}_.innerHTML+="]",L.appendChild(_),L.appendChild(h),E.appendChild(L)}else _.innerHTML=w.outerHTML+": []",L.appendChild(_),L.appendChild(h),E.appendChild(L),g(m,h);else d.implicitMaps!==void 0&&d.implicitMaps.indexOf(O)>-1?_.innerHTML=w.outerHTML:_.innerHTML=w.outerHTML+": {}",L.appendChild(_),L.appendChild(h),E.appendChild(L),g(m,h);else{n++,_.innerHTML=w.outerHTML+": ";let T=document.createElement("span"),C=m;C===!0?(T.textContent="true",T.className="type-boolean"):C===!1?(T.textContent="false",T.className="type-boolean"):C===null?(T.textContent="null",T.className="type-null"):Number.isFinite(C)&&!Number.isNaN(C)?(T.textContent=C+"",T.className="type-number"):(a?/^https?:\/\//.test(C)?T.innerHTML=q.sanitize(`<a href="${C}">"${C}"</a>`):T.innerHTML=`"${C}"`:/^https?:\/\//.test(C)?T.innerHTML=q.sanitize(`<a href="${C}">"${C}"</a>`):T.textContent=`"${C}"`,T.className="type-string"),d.implicitNulls===void 0||d.implicitNulls.indexOf(O)==-1?_.appendChild(T):_.innerHTML=_.innerHTML.slice(0,-2),L.appendChild(_),E.appendChild(L)}}}else if(Array.isArray(d))for(var o=0,b=d.length;o<b;o++){let O=document.createElement("ul"),m=document.createElement("code"),h=document.createElement("li");if(typeof d[o]=="object"&&d[o]!==null)if(Array.isArray(d[o]))if(d.inlineArrays!==void 0&&d.inlineArrays.indexOf(o)>-1){m.innerHTML+="[";for(let _=0,w=d[o].length;_<w;_++){let L=document.createElement("span"),T=d[o][_];T===!0?(L.textContent="true",L.className="type-boolean"):T===!1?(L.textContent="false",L.className="type-boolean"):T===null?(L.textContent="null",L.className="type-null"):Number.isFinite(T)&&!Number.isNaN(T)?(L.textContent=T+"",L.className="type-number"):(a?/^https?:\/\//.test(T)?L.innerHTML=q.sanitize(`<a href="${T}">"${T}"</a>`):L.innerHTML=`"${T}"`:/^https?:\/\//.test(T)?L.innerHTML=q.sanitize(`<a href="${T}">"${T}"</a>`):L.textContent=`"${T}"`,L.className="type-string"),_!==0&&(m.innerHTML+=", "),m.appendChild(L)}m.innerHTML+="]",h.appendChild(m),h.appendChild(O),E.appendChild(h)}else m.textContent="[]",h.appendChild(m),h.appendChild(O),E.appendChild(h),g(d[o],O);else m.textContent="{}",h.appendChild(m),h.appendChild(O),E.appendChild(h),g(d[o],O);else{n++;let _=d[o];_===!0?(m.textContent="true",m.className="type-boolean"):_===!1?(m.textContent="false",m.className="type-boolean"):_===null?(m.textContent="null",m.className="type-null"):Number.isFinite(_)&&!Number.isNaN(_)?(m.textContent=_+"",m.className="type-number"):(a?/^https?:\/\//.test(_)?m.innerHTML=q.sanitize(`<a href="${_}">"${_}"</a>`):m.innerHTML=`"${_}"`:/^https?:\/\//.test(_)?m.innerHTML=q.sanitize(`<a href="${_}">"${_}"</a>`):m.textContent=`"${_}"`,m.className="type-string"),h.appendChild(m),h.appendChild(O),E.appendChild(h)}}}}mapToHtmlTable(t,a=!1){let r=this;try{r.mapToJSON(t)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var e=0,n=document.createElement("table"),u=document.createElement("thead"),s=document.createElement("tbody"),g=!1,d=0;if(n.className="DAMON-Table",typeof t!="object"||t==null||Array.isArray(t)||!(t instanceof Map)||t.constructor!==Map)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[E,o]of t){if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map)if(E=="0"&&!g){let b=document.createElement("tr");d=o.length;for(let[O,m]of o)if(m===null){let h=document.createElement("th");a?/^https?:\/\//.test(O)?h.innerHTML=q.sanitize(`<a href="${O}">${O}</a>`):h.innerHTML=`${O}`:/^https?:\/\//.test(O)?h.innerHTML=q.sanitize(`<a href="${O}">${O}</a>`):h.textContent=`${O}`,b.appendChild(h)}else throw new Error("Expected implicit null property, saw otherwise");u.appendChild(b),g=!0}else{if(d==0&&(d=o.length),o.length!=d)throw new Error("Error List Item number "+e+": @param { {} } list");let b=document.createElement("tr");for(let[O,m]of o)if(m===null){let h=document.createElement("td");a?/^https?:\/\//.test(O)?h.innerHTML=q.sanitize(`<a href="${O}">${O}</a>`):h.innerHTML=`${O}`:/^https?:\/\//.test(O)?h.innerHTML=q.sanitize(`<a href="${O}">${O}</a>`):h.textContent=`${O}`,b.appendChild(h)}else throw new Error("Expected implicit null property, saw otherwise");s.appendChild(b)}else if(typeof o!="object"&&E=="00"){let b=document.createElement("caption");a?b.innerHTML=o:b.textContent=o,n.appendChild(b)}else throw new Error("Error List Item number "+e+": @param { {} } list");e++}return g&&n.appendChild(u),n.appendChild(s),n}mapTreeLeavesToHtmlTable(t,a=!1){let r=this;try{r.mapToJSON(t)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var e=0,n=0,u=document.createElement("table"),s=document.createElement("thead"),g=document.createElement("tbody"),d=!1;if(u.className="DAMON-LeavesToTable",typeof t!="object"||t==null||Array.isArray(t)||!(t instanceof Map)||t.constructor!==Map)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[o,b]of t){if(typeof b=="object"&&!Array.isArray(b)){if(o=="head"&&!d){try{E(b,s)}catch{return}d=!0}else if(o=="body")try{E(b,g)}catch{return}}else if(typeof b!="object"&&o=="caption"){let O=document.createElement("caption");a?O.innerHTML=b:O.textContent=b,u.appendChild(O)}else throw new Error("Error List Item number "+e+": @param { {} } list");e++}return d&&u.appendChild(s),u.appendChild(g),u;function E(o,b,O=0,m=[]){if(typeof b!="object"||b==null)throw new Error("Error List Item number "+e+": @param { {} } list");if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map){if(b.tagName=="THEAD")if(Array.from(o.keys()).length==1)if(typeof o.get(Array.from(o.keys())[0])=="object"&&o.get(Array.from(o.keys())[0])!==null)e++,E(o.get(Array.from(o.keys())[0]),b,O+1,m.concat([Array.from(o.keys())[0]]));else throw new Error("Error List Item number "+e+": @param { {} } list");else throw new Error("Error List Item number "+e+": @param { {} } list");else if(b.tagName=="TBODY"){if(Array.from(o.keys()).length==0)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[h,_]of o)if(typeof _=="object"&&_!==null)e++,E(_,b,O+1,m.concat([h]));else throw new Error("Error List Item number "+e+": @param { {} } list")}}else if(Array.isArray(o)){if(b.tagName=="THEAD")if(o.length==1){e++,n=O;let h=document.createElement("tr");m.push(o[0]);for(let _=0,w=m.length;_<w;_++){let L=document.createElement("th");a?L.innerHTML=m[_]:L.textContent=m[_],h.appendChild(L)}b.appendChild(h)}else throw new Error("Error List Item number "+e+": @param { {} } list");else if(b.tagName=="TBODY")if(O==n){if(o.length==0)throw new Error("Error List Item number "+e+": @param { {} } list");for(let h=0,_=o.length;h<_;h++){e++;let w=document.createElement("tr");for(let T=0,C=m.length;T<C;T++){let I=document.createElement("td");a?I.innerHTML=m[T]:I.textContent=m[T],w.appendChild(I)}let L=document.createElement("td");a?L.innerHTML=o[h]:L.textContent=o[h],L.textContent=o[h],w.appendChild(L),b.appendChild(w)}}else throw new Error("Error List Item number "+e+": @param { {} } list")}}}htmlToJSON(t){let a=this;var r=0;if(t.firstElementChild.textContent=="{}")return a._mapToJSON(e(tree,new Map));if(t.firstElementChild.textContent=="[]")return a._mapToJSON(e(tree,[]));function e(n,u){if(typeof n!="object"||n==null||Array.isArray(n))throw new Error("Error List Item number "+r+": @param { {} } list");if(typeof u=="object"&&u!==null&&!Array.isArray(u)&&u instanceof Map&&u.constructor===Map){for(let s=0,g=n.children.length;s<g;s++)if(r++,n.children[s].tagName=="LI")if(n.children[s].firstElementChild.tagName=="CODE")if(n.children[s].firstElementChild.innerHTML.length){let d=n.children[s].firstElementChild.innerHTML.trim();if(d[d.length-1]==":"&&d.length>1){let E=n.children[s].children[1];if(E.tagName=="UL"&&E.firstElementChild.tagName=="LI"&&E.children.length==1&&E.firstElementChild.firstElementChild.tagName=="CODE"){r++;let o=E.firstElementChild.firstElementChild.textContent.trim();o=="true"?u.set(d.slice(0,-1),!0):o=="false"?u.set(d.slice(0,-1),!1):o=="null"?u.set(d.slice(0,-1),null):isFinite(o)&&!isNaN(parseFloat(o))?u.set(d.slice(0,-1),o*1):u.set(d.slice(0,-1),o)}else throw new Error("Error List Item number "+r+": not DAMON-compliant.")}else if(d[d.length-4]==":"&&d.length>4){if(d.slice(-3)==" []")if(u.set(d.slice(0,-4),[]),n.children[s].children[1].tagName=="UL")e(n.children[s].children[1],u.get(d.slice(0,-4)));else throw new Error("Error List Item number "+r+": not DAMON-compliant.");else if(d.slice(-3)==" {}")if(u.set(d.slice(0,-4),new Map),n.children[s].children[1].tagName=="UL")e(n.children[s].children[1],u.get(d.slice(0,-4)));else throw new Error("Error List Item number "+r+": not DAMON-compliant.")}else throw new Error("Error List Item number "+r+": map items need a key")}else throw new Error("Error List Item number "+r+": empty node.");else throw new Error("Error List Item number "+r+": not DAMON-compliant.")}else if(Array.isArray(u)){for(let s=0,g=n.children.length;s<g;s++)if(r++,n.children[s].tagName=="LI")if(n.children[s].firstElementChild.tagName=="CODE")if(n.children[s].firstElementChild.innerHTML.length){let d=n.children[s].firstElementChild.innerHTML.trim();if(d[d.length-1]==":"&&d.length>1)throw new Error("Error List Item number "+r+": lists can't have keys.");if(d[d.length-4]==":"&&d.length>4)throw new Error("Error List Item number "+r+": not DAMON-compliant.");if(d=="[]")if(u.push([]),n.children[s].children[1]&&n.children[s].children[1].tagName=="UL")e(n.children[s].children[1],u[u.length-1]);else throw new Error("Error List Item number "+r+": not DAMON-compliant.");else if(d=="{}")if(u.push({}),n.children[s].children[1]&&n.children[s].children[1].tagName=="UL")e(n.children[s].children[1],u[u.length-1]);else throw new Error("Error List Item number "+r+": not DAMON-compliant.");else d=="true"?u.push(!0):d=="false"?u.push(!1):d=="null"?u.push(null):isFinite(d)&&!isNaN(parseFloat(d))?u.push(d*1):u.push(d)}else throw new Error("Error List Item number "+r+": empty node.");else throw new Error("Error List Item number "+r+": not DAMON-compliant.")}else throw new Error("Error List Item number "+r+": @param { {} | [] } jsonMap");return u}}}});var yr={};mn(yr,{__addDisposableResource:()=>mr,__assign:()=>ke,__asyncDelegator:()=>or,__asyncGenerator:()=>ar,__asyncValues:()=>sr,__await:()=>ge,__awaiter:()=>er,__classPrivateFieldGet:()=>pr,__classPrivateFieldIn:()=>hr,__classPrivateFieldSet:()=>dr,__createBinding:()=>$e,__decorate:()=>Zt,__disposeResources:()=>gr,__esDecorate:()=>yn,__exportStar:()=>rr,__extends:()=>Kt,__generator:()=>tr,__importDefault:()=>ur,__importStar:()=>cr,__makeTemplateObject:()=>fr,__metadata:()=>jt,__param:()=>Qt,__propKey:()=>On,__read:()=>it,__rest:()=>Xt,__runInitializers:()=>En,__setFunctionName:()=>Nn,__spread:()=>nr,__spreadArray:()=>lr,__spreadArrays:()=>ir,__values:()=>Ue,default:()=>wn});function Kt(f,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nt(f,t);function a(){this.constructor=f}f.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}function Xt(f,t){var a={};for(var r in f)Object.prototype.hasOwnProperty.call(f,r)&&t.indexOf(r)<0&&(a[r]=f[r]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,r=Object.getOwnPropertySymbols(f);e<r.length;e++)t.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(f,r[e])&&(a[r[e]]=f[r[e]]);return a}function Zt(f,t,a,r){var e=arguments.length,n=e<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,a):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(f,t,a,r);else for(var s=f.length-1;s>=0;s--)(u=f[s])&&(n=(e<3?u(n):e>3?u(t,a,n):u(t,a))||n);return e>3&&n&&Object.defineProperty(t,a,n),n}function Qt(f,t){return function(a,r){t(a,r,f)}}function yn(f,t,a,r,e,n){function u(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var s=r.kind,g=s==="getter"?"get":s==="setter"?"set":"value",d=!t&&f?r.static?f:f.prototype:null,E=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),o,b=!1,O=a.length-1;O>=0;O--){var m={};for(var h in r)m[h]=h==="access"?{}:r[h];for(var h in r.access)m.access[h]=r.access[h];m.addInitializer=function(w){if(b)throw new TypeError("Cannot add initializers after decoration has completed");n.push(u(w||null))};var _=(0,a[O])(s==="accessor"?{get:E.get,set:E.set}:E[g],m);if(s==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(o=u(_.get))&&(E.get=o),(o=u(_.set))&&(E.set=o),(o=u(_.init))&&e.unshift(o)}else(o=u(_))&&(s==="field"?e.unshift(o):E[g]=o)}d&&Object.defineProperty(d,r.name,E),b=!0}function En(f,t,a){for(var r=arguments.length>2,e=0;e<t.length;e++)a=r?t[e].call(f,a):t[e].call(f);return r?a:void 0}function On(f){return typeof f=="symbol"?f:"".concat(f)}function Nn(f,t,a){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(f,"name",{configurable:!0,value:a?"".concat(a," ",t):t})}function jt(f,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,t)}function er(f,t,a,r){function e(n){return n instanceof a?n:new a(function(u){u(n)})}return new(a||(a=Promise))(function(n,u){function s(E){try{d(r.next(E))}catch(o){u(o)}}function g(E){try{d(r.throw(E))}catch(o){u(o)}}function d(E){E.done?n(E.value):e(E.value).then(s,g)}d((r=r.apply(f,t||[])).next())})}function tr(f,t){var a={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},r,e,n,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(d){return function(E){return g([d,E])}}function g(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(a=0)),a;)try{if(r=1,e&&(n=d[0]&2?e.return:d[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,d[1])).done)return n;switch(e=0,n&&(d=[d[0]&2,n.value]),d[0]){case 0:case 1:n=d;break;case 4:return a.label++,{value:d[1],done:!1};case 5:a.label++,e=d[1],d=[0];continue;case 7:d=a.ops.pop(),a.trys.pop();continue;default:if(n=a.trys,!(n=n.length>0&&n[n.length-1])&&(d[0]===6||d[0]===2)){a=0;continue}if(d[0]===3&&(!n||d[1]>n[0]&&d[1]<n[3])){a.label=d[1];break}if(d[0]===6&&a.label<n[1]){a.label=n[1],n=d;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(d);break}n[2]&&a.ops.pop(),a.trys.pop();continue}d=t.call(f,a)}catch(E){d=[6,E],e=0}finally{r=n=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function rr(f,t){for(var a in f)a!=="default"&&!Object.prototype.hasOwnProperty.call(t,a)&&$e(t,f,a)}function Ue(f){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&f[t],r=0;if(a)return a.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&r>=f.length&&(f=void 0),{value:f&&f[r++],done:!f}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function it(f,t){var a=typeof Symbol=="function"&&f[Symbol.iterator];if(!a)return f;var r=a.call(f),e,n=[],u;try{for(;(t===void 0||t-- >0)&&!(e=r.next()).done;)n.push(e.value)}catch(s){u={error:s}}finally{try{e&&!e.done&&(a=r.return)&&a.call(r)}finally{if(u)throw u.error}}return n}function nr(){for(var f=[],t=0;t<arguments.length;t++)f=f.concat(it(arguments[t]));return f}function ir(){for(var f=0,t=0,a=arguments.length;t<a;t++)f+=arguments[t].length;for(var r=Array(f),e=0,t=0;t<a;t++)for(var n=arguments[t],u=0,s=n.length;u<s;u++,e++)r[e]=n[u];return r}function lr(f,t,a){if(a||arguments.length===2)for(var r=0,e=t.length,n;r<e;r++)(n||!(r in t))&&(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return f.concat(n||Array.prototype.slice.call(t))}function ge(f){return this instanceof ge?(this.v=f,this):new ge(f)}function ar(f,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a.apply(f,t||[]),e,n=[];return e={},u("next"),u("throw"),u("return"),e[Symbol.asyncIterator]=function(){return this},e;function u(b){r[b]&&(e[b]=function(O){return new Promise(function(m,h){n.push([b,O,m,h])>1||s(b,O)})})}function s(b,O){try{g(r[b](O))}catch(m){o(n[0][3],m)}}function g(b){b.value instanceof ge?Promise.resolve(b.value.v).then(d,E):o(n[0][2],b)}function d(b){s("next",b)}function E(b){s("throw",b)}function o(b,O){b(O),n.shift(),n.length&&s(n[0][0],n[0][1])}}function or(f){var t,a;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(e,n){t[e]=f[e]?function(u){return(a=!a)?{value:ge(f[e](u)),done:!1}:n?n(u):u}:n}}function sr(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=f[Symbol.asyncIterator],a;return t?t.call(f):(f=typeof Ue=="function"?Ue(f):f[Symbol.iterator](),a={},r("next"),r("throw"),r("return"),a[Symbol.asyncIterator]=function(){return this},a);function r(n){a[n]=f[n]&&function(u){return new Promise(function(s,g){u=f[n](u),e(s,g,u.done,u.value)})}}function e(n,u,s,g){Promise.resolve(g).then(function(d){n({value:d,done:s})},u)}}function fr(f,t){return Object.defineProperty?Object.defineProperty(f,"raw",{value:t}):f.raw=t,f}function cr(f){if(f&&f.__esModule)return f;var t={};if(f!=null)for(var a in f)a!=="default"&&Object.prototype.hasOwnProperty.call(f,a)&&$e(t,f,a);return _n(t,f),t}function ur(f){return f&&f.__esModule?f:{default:f}}function pr(f,t,a,r){if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?f!==t||!r:!t.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?r:a==="a"?r.call(f):r?r.value:t.get(f)}function dr(f,t,a,r,e){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!e)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?f!==t||!e:!t.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?e.call(f,a):e?e.value=a:t.set(f,a),a}function hr(f,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof f=="function"?t===f:f.has(t)}function mr(f,t,a){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");f.stack.push({value:t,dispose:r,async:a})}else a&&f.stack.push({async:!0});return t}function gr(f){function t(r){f.error=f.hasError?new bn(r,f.error,"An error was suppressed during disposal."):r,f.hasError=!0}function a(){for(;f.stack.length;){var r=f.stack.pop();try{var e=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(e).then(a,function(n){return t(n),a()})}catch(n){t(n)}}if(f.hasError)throw f.error}return a()}var nt,ke,$e,_n,bn,wn,Er=hn(()=>{nt=function(f,t){return nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(a[e]=r[e])},nt(f,t)};ke=function(){return ke=Object.assign||function(t){for(var a,r=1,e=arguments.length;r<e;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},ke.apply(this,arguments)};$e=Object.create?function(f,t,a,r){r===void 0&&(r=a);var e=Object.getOwnPropertyDescriptor(t,a);(!e||("get"in e?!t.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(f,r,e)}:function(f,t,a,r){r===void 0&&(r=a),f[r]=t[a]};_n=Object.create?function(f,t){Object.defineProperty(f,"default",{enumerable:!0,value:t})}:function(f,t){f.default=t};bn=typeof SuppressedError=="function"?SuppressedError:function(f,t,a){var r=new Error(a);return r.name="SuppressedError",r.error=f,r.suppressed=t,r};wn={__extends:Kt,__assign:ke,__rest:Xt,__decorate:Zt,__param:Qt,__metadata:jt,__awaiter:er,__generator:tr,__createBinding:$e,__exportStar:rr,__values:Ue,__read:it,__spread:nr,__spreadArrays:ir,__spreadArray:lr,__await:ge,__asyncGenerator:ar,__asyncDelegator:or,__asyncValues:sr,__makeTemplateObject:fr,__importStar:cr,__importDefault:ur,__classPrivateFieldGet:pr,__classPrivateFieldSet:dr,__classPrivateFieldIn:hr,__addDisposableResource:mr,__disposeResources:gr}});var Or=se(lt=>{(function(f){"use strict";var t=typeof process=="object"&&process.env?process.env:self;f.parser=function(y){return new o(y)},f.CParser=o,f.CStream=O,f.createStream=b,f.MAX_BUFFER_LENGTH=64*1024,f.DEBUG=t.CDEBUG==="debug",f.INFO=t.CDEBUG==="debug"||t.CDEBUG==="info",f.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var a={textNode:void 0,numberNode:""},r=f.EVENTS.filter(function(y){return y!=="error"&&y!=="end"}),e=0,n;f.STATE={BEGIN:e++,VALUE:e++,OPEN_OBJECT:e++,CLOSE_OBJECT:e++,OPEN_ARRAY:e++,CLOSE_ARRAY:e++,TEXT_ESCAPE:e++,STRING:e++,BACKSLASH:e++,END:e++,OPEN_KEY:e++,CLOSE_KEY:e++,TRUE:e++,TRUE2:e++,TRUE3:e++,FALSE:e++,FALSE2:e++,FALSE3:e++,FALSE4:e++,NULL:e++,NULL2:e++,NULL3:e++,NUMBER_DECIMAL_POINT:e++,NUMBER_DIGIT:e++};for(var u in f.STATE)f.STATE[f.STATE[u]]=u;e=f.STATE;let s={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(y){function l(){this.__proto__=y}return l.prototype=y,new l}),Object.getPrototypeOf||(Object.getPrototypeOf=function(y){return y.__proto__}),Object.keys||(Object.keys=function(y){var l=[];for(var x in y)y.hasOwnProperty(x)&&l.push(x);return l});function g(y){var l=Math.max(f.MAX_BUFFER_LENGTH,10),x=0;for(var N in a){var M=y[N]===void 0?0:y[N].length;if(M>l)switch(N){case"text":closeText(y);break;default:T(y,"Max buffer length exceeded: "+N)}x=Math.max(x,M)}y.bufferCheckPosition=f.MAX_BUFFER_LENGTH-x+y.position}function d(y){for(var l in a)y[l]=a[l]}var E=/[\\"\n]/g;function o(y){if(!(this instanceof o))return new o(y);var l=this;d(l),l.bufferCheckPosition=f.MAX_BUFFER_LENGTH,l.q=l.c=l.p="",l.opt=y||{},l.closed=l.closedRoot=l.sawRoot=!1,l.tag=l.error=null,l.state=e.BEGIN,l.stack=new Array,l.position=l.column=0,l.line=1,l.slashed=!1,l.unicodeI=0,l.unicodeS=null,l.depth=0,m(l,"onready")}o.prototype={end:function(){C(this)},write:v,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{n=dn("stream").Stream}catch{n=function(){}}function b(y){return new O(y)}function O(y){if(!(this instanceof O))return new O(y);this._parser=new o(y),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var l=this;n.apply(l),this._parser.onend=function(){l.emit("end")},this._parser.onerror=function(x){l.emit("error",x),l._parser.error=null},r.forEach(function(x){Object.defineProperty(l,"on"+x,{get:function(){return l._parser["on"+x]},set:function(N){if(!N)return l.removeAllListeners(x),l._parser["on"+x]=N,N;l.on(x,N)},enumerable:!0,configurable:!1})})}O.prototype=Object.create(n.prototype,{constructor:{value:O}}),O.prototype.write=function(y){y=new Buffer(y);for(var l=0;l<y.length;l++){var x=y[l];if(this.bytes_remaining>0){for(var N=0;N<this.bytes_remaining;N++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+N]=y[N];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,l=l+N-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&x>=128)if(x>=194&&x<=223&&(this.bytes_in_sequence=2),x>=224&&x<=239&&(this.bytes_in_sequence=3),x>=240&&x<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+l>y.length){for(var M=0;M<=y.length-1-l;M++)this.temp_buffs[this.bytes_in_sequence][M]=y[l+M];return this.bytes_remaining=l+this.bytes_in_sequence-y.length,!0}else{this.string=y.slice(l,l+this.bytes_in_sequence).toString(),l=l+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var Q=l;Q<y.length&&!(y[Q]>=128);Q++);this.string=y.slice(l,Q).toString(),this._parser.write(this.string),this.emit("data",this.string),l=Q-1}},O.prototype.end=function(y){return y&&y.length&&this._parser.write(y.toString()),this._parser.end(),!0},O.prototype.on=function(y,l){var x=this;return!x._parser["on"+y]&&r.indexOf(y)!==-1&&(x._parser["on"+y]=function(){var N=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);N.splice(0,0,y),x.emit.apply(x,N)}),n.prototype.on.call(x,y,l)},O.prototype.destroy=function(){d(this._parser),this.emit("close")};function m(y,l,x){f.INFO&&console.log("-- emit",l,x),y[l]&&y[l](x)}function h(y,l,x){_(y),m(y,l,x)}function _(y,l){y.textNode=L(y.opt,y.textNode),y.textNode!==void 0&&m(y,l||"onvalue",y.textNode),y.textNode=void 0}function w(y){y.numberNode&&m(y,"onvalue",parseFloat(y.numberNode)),y.numberNode=""}function L(y,l){return l===void 0||(y.trim&&(l=l.trim()),y.normalize&&(l=l.replace(/\s+/g," "))),l}function T(y,l){return _(y),l+=`
Line: `+y.line+`
Column: `+y.column+`
Char: `+y.c,l=new Error(l),y.error=l,m(y,"onerror",l),y}function C(y){return(y.state!==e.VALUE||y.depth!==0)&&T(y,"Unexpected end"),_(y),y.c="",y.closed=!0,m(y,"onend"),o.call(y,y.opt),y}function I(y){return y===s.carriageReturn||y===s.lineFeed||y===s.space||y===s.tab}function v(y){var l=this;if(this.error)throw this.error;if(l.closed)return T(l,"Cannot write after close. Assign an onready handler.");if(y===null)return C(l);var x=0,N=y.charCodeAt(0),M=l.p,Q=!1;for(f.DEBUG&&console.log("write -> ["+y+"]");N&&(M=N,l.c=N=y.charCodeAt(x++),M!==N?l.p=M:M=l.p,!!N);)switch(f.DEBUG&&console.log(x,N,f.STATE[l.state]),Q?Q=!1:(l.position++,N===s.lineFeed?(l.line++,l.column=0):l.column++),l.state){case e.BEGIN:N===s.openBrace?l.state=e.OPEN_OBJECT:N===s.openBracket?l.state=e.OPEN_ARRAY:I(N)||T(l,"Non-whitespace before {[.");continue;case e.OPEN_KEY:case e.OPEN_OBJECT:if(I(N))continue;if(l.state===e.OPEN_KEY)l.stack.push(e.CLOSE_KEY);else if(N===s.closeBrace){m(l,"onopenobject"),this.depth++,m(l,"oncloseobject"),this.depth--,l.state=l.stack.pop()||e.VALUE;continue}else l.stack.push(e.CLOSE_OBJECT);N===s.doubleQuote?l.state=e.STRING:T(l,'Malformed object key should start with "');continue;case e.CLOSE_KEY:case e.CLOSE_OBJECT:if(I(N))continue;var Se=l.state===e.CLOSE_KEY?"key":"object";N===s.colon?(l.state===e.CLOSE_OBJECT?(l.stack.push(e.CLOSE_OBJECT),_(l,"onopenobject"),this.depth++):_(l,"onkey"),l.state=e.VALUE):N===s.closeBrace?(h(l,"oncloseobject"),this.depth--,l.state=l.stack.pop()||e.VALUE):N===s.comma?(l.state===e.CLOSE_OBJECT&&l.stack.push(e.CLOSE_OBJECT),_(l),l.state=e.OPEN_KEY):T(l,"Bad object");continue;case e.OPEN_ARRAY:case e.VALUE:if(I(N))continue;if(l.state===e.OPEN_ARRAY)if(m(l,"onopenarray"),this.depth++,l.state=e.VALUE,N===s.closeBracket){m(l,"onclosearray"),this.depth--,l.state=l.stack.pop()||e.VALUE;continue}else l.stack.push(e.CLOSE_ARRAY);N===s.doubleQuote?l.state=e.STRING:N===s.openBrace?l.state=e.OPEN_OBJECT:N===s.openBracket?l.state=e.OPEN_ARRAY:N===s.t?l.state=e.TRUE:N===s.f?l.state=e.FALSE:N===s.n?l.state=e.NULL:N===s.minus?l.numberNode+="-":s._0<=N&&N<=s._9?(l.numberNode+=String.fromCharCode(N),l.state=e.NUMBER_DIGIT):T(l,"Bad value");continue;case e.CLOSE_ARRAY:if(N===s.comma)l.stack.push(e.CLOSE_ARRAY),_(l,"onvalue"),l.state=e.VALUE;else if(N===s.closeBracket)h(l,"onclosearray"),this.depth--,l.state=l.stack.pop()||e.VALUE;else{if(I(N))continue;T(l,"Bad array")}continue;case e.STRING:l.textNode===void 0&&(l.textNode="");var V=x-1,te=l.slashed,j=l.unicodeI;e:for(;;){for(f.DEBUG&&console.log(x,N,f.STATE[l.state],te);j>0;)if(l.unicodeS+=String.fromCharCode(N),N=y.charCodeAt(x++),l.position++,j===4?(l.textNode+=String.fromCharCode(parseInt(l.unicodeS,16)),j=0,V=x-1):j++,!N)break e;if(N===s.doubleQuote&&!te){l.state=l.stack.pop()||e.VALUE,l.textNode+=y.substring(V,x-1),l.position+=x-1-V;break}if(N===s.backslash&&!te&&(te=!0,l.textNode+=y.substring(V,x-1),l.position+=x-1-V,N=y.charCodeAt(x++),l.position++,!N))break;if(te){if(te=!1,N===s.n?l.textNode+=`
`:N===s.r?l.textNode+="\r":N===s.t?l.textNode+="	":N===s.f?l.textNode+="\f":N===s.b?l.textNode+="\b":N===s.u?(j=1,l.unicodeS=""):l.textNode+=String.fromCharCode(N),N=y.charCodeAt(x++),l.position++,V=x-1,N)continue;break}E.lastIndex=x;var Oe=E.exec(y);if(Oe===null){x=y.length+1,l.textNode+=y.substring(V,x-1),l.position+=x-1-V;break}if(x=Oe.index+1,N=y.charCodeAt(Oe.index),!N){l.textNode+=y.substring(V,x-1),l.position+=x-1-V;break}}l.slashed=te,l.unicodeI=j;continue;case e.TRUE:N===s.r?l.state=e.TRUE2:T(l,"Invalid true started with t"+N);continue;case e.TRUE2:N===s.u?l.state=e.TRUE3:T(l,"Invalid true started with tr"+N);continue;case e.TRUE3:N===s.e?(m(l,"onvalue",!0),l.state=l.stack.pop()||e.VALUE):T(l,"Invalid true started with tru"+N);continue;case e.FALSE:N===s.a?l.state=e.FALSE2:T(l,"Invalid false started with f"+N);continue;case e.FALSE2:N===s.l?l.state=e.FALSE3:T(l,"Invalid false started with fa"+N);continue;case e.FALSE3:N===s.s?l.state=e.FALSE4:T(l,"Invalid false started with fal"+N);continue;case e.FALSE4:N===s.e?(m(l,"onvalue",!1),l.state=l.stack.pop()||e.VALUE):T(l,"Invalid false started with fals"+N);continue;case e.NULL:N===s.u?l.state=e.NULL2:T(l,"Invalid null started with n"+N);continue;case e.NULL2:N===s.l?l.state=e.NULL3:T(l,"Invalid null started with nu"+N);continue;case e.NULL3:N===s.l?(m(l,"onvalue",null),l.state=l.stack.pop()||e.VALUE):T(l,"Invalid null started with nul"+N);continue;case e.NUMBER_DECIMAL_POINT:N===s.period?(l.numberNode+=".",l.state=e.NUMBER_DIGIT):T(l,"Leading zero not followed by .");continue;case e.NUMBER_DIGIT:s._0<=N&&N<=s._9?l.numberNode+=String.fromCharCode(N):N===s.period?(l.numberNode.indexOf(".")!==-1&&T(l,"Invalid number has two dots"),l.numberNode+="."):N===s.e||N===s.E?((l.numberNode.indexOf("e")!==-1||l.numberNode.indexOf("E")!==-1)&&T(l,"Invalid number has two exponential"),l.numberNode+="e"):N===s.plus||N===s.minus?(M===s.e||M===s.E||T(l,"Invalid symbol in number"),l.numberNode+=String.fromCharCode(N)):(w(l),x--,Q=!0,l.state=l.stack.pop()||e.VALUE);continue;default:T(l,"Unknown state: "+l.state)}return l.position>=l.bufferCheckPosition&&g(l),l}})(typeof lt>"u"?clarinet={}:lt)});var _r=se(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.stringify=ye.parse=void 0;var An=(Er(),gn(yr)),Tn=An.__importDefault(Or());function Sn(f){let t=ot(),a,r;function e(u){try{let s=t.next(u);s.done&&(a=s.value)}catch(s){r=s}}let n=Tn.default.parser();if(n.onopenobject=u=>e({type:"openobject",key:u}),n.onopenarray=()=>e({type:"openarray"}),n.onkey=u=>e({type:"key",key:u}),n.onvalue=u=>e({type:"value",value:u}),n.oncloseobject=()=>e({type:"closeobject"}),n.onclosearray=()=>e({type:"closearray"}),n.onerror=u=>e({type:"error",err:u}),t.next(),n.write(f).close(),r)throw r;return a}ye.parse=Sn;function at(f){return Array.isArray(f)?`[${f.map(at).join(",")}]`:f instanceof Map?`{${[...f].map(([t,a])=>JSON.stringify(t)+":"+at(a)).join(",")}}`:JSON.stringify(f)}ye.stringify=at;var Nr=Symbol();function*ot(){let f=yield;switch(f.type){case"value":return f.value;case"openobject":let t=new Map,a=f.key;for(a===void 0&&(yield);a!==void 0;)t.set(a,yield*ot()),a=(yield).key;return t;case"openarray":let r=[],e;for(;;){if(e=yield*ot(),e===Nr)return r;r.push(e)}case"closearray":return Nr;case"error":throw f.err;default:throw Error(`Unexpected ParseEvent ${f.type}`)}}});var wr=se((Un,br)=>{var st=Wt(_r());br.exports=class{constructor(t=!1){let a=this;if(this.indentation=4,[!0,!1,void 0].indexOf(t)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=t,this.damonOriginalLinesMapping=[],this.utils=new DamonUtils}template(t){let a=this;var r=t[0];for(let n=1;n<t.length;n++)typeof arguments[n]=="string"?r+='"'+arguments[n]+'"':r+=arguments[n],r+=t[n];return a._treeToMap(a._damonToTree(r))}damonToMap(t){let a=this,r=a._damonToTree(t);return r===!0||r===!1||r===null||typeof r=="string"||typeof r=="number"?r:a._treeToMap(a._damonToTree(t))}damonToJSON(t){let a=this;return a.mapToJSON(a.damonToMap(t))}damonToSExpression(t){let a=this;return a.implicitMapToSExpression(a.damonToMap(t))}jsonToDamon(t){let a=this;return a.mapToDamon(a.jsonToMap(t))}jsonToMap(t){let a=this;var r=/\r\n/.test(t)?`\r
`:`
`,e=t.split(r);if(e=e.filter(n=>!/^ *\/\//.test(n)),e=e.filter(n=>n!=""),e=e.filter(n=>!/^[ \t]+$/.test(n)),e.length==1){if(["true","false","null"].indexOf(e[0].trim())>-1)return JSON.parse(e[0]);if(/^".*"$/.test(e[0].trim()))try{return JSON.parse(e[0].trim())}catch(n){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),n.line=1,n.language="JSON",n.type="string",n}else if(isFinite(e[0])&&!isNaN(parseFloat(e[0]))&&Number.isFinite(e[0]*1)&&!Number.isNaN(e[0]*1)){if(e[0].indexOf(0)==0&&e[0].length>1&&e[0].indexOf(".")!==1)throw new Error("Error line number 1: leading 0",{line:1,language:"DAMON"});try{return JSON.parse(e[0]*1)}catch(n){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),n.line=1,n.language="JSON",n.type="number",n}}else if(e[0]*1===1/0)try{JSON.parse(e[0]*1)}catch(n){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),n.line=1,n.language="JSON",n.type="infinity",n}else return(0,st.parse)(t)}else return(0,st.parse)(t)}_damonToTree(t){let a=this;if(t==="")throw new Error("Error line 1: empty string",{line:1,language:"DAMON"});if(/[\s]/.test(t)&&t.match(new RegExp(/[\s]/))[0].length==t.length)throw new Error("Error line 1: string only contains whitespace",{line:1,language:"DAMON"});var r=/\r\n/.test(t)?`\r
`:`
`,e=t.split(r),n=e.slice(0);if(e=e.filter(h=>!/^ *\/\//.test(h)),e=e.filter(h=>h!=""),e=e.filter(h=>!/^[ \t]+$/.test(h)),e.length==1){if(["true","false","null"].indexOf(e[0].trim())>-1)return JSON.parse(e[0]);if(/^".*"$/.test(e[0].trim()))try{return JSON.parse(e[0].trim())}catch(h){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),h.line=1,h.language="JSON",h.type="string",h}else if(isFinite(e[0])&&!isNaN(parseFloat(e[0]))&&Number.isFinite(e[0]*1)&&!Number.isNaN(e[0]*1)){if(e[0].indexOf(0)==0&&e[0].length>1&&e[0].indexOf(".")!==1)throw new Error("Error line number 1: leading 0",{line:1,language:"DAMON"});try{return JSON.parse(e[0]*1)}catch(h){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),h.line=1,h.language="JSON",h.type="number",h}}else if(e[0]*1===1/0)try{JSON.parse(e[0]*1)}catch(h){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),h.line=1,h.language="JSON",h.type="infinity",h}}let u=0;a.damonOriginalLinesMapping=[];for(let h=0,_=n.length;h<_;h++)e.slice(u).indexOf(n[h])>-1?a.damonOriginalLinesMapping[h]=e.slice(u).indexOf(n[h]):a.damonOriginalLinesMapping[h]=null;let s=new RegExp("^(	)+");for(let h=0,_=e.length;h<_;h++){if(s.test(e[h])){let w=e[h].match(s)[0].length;for(let L=0,T=w;L<T;L++)e[h]=e[h].replace("	"," ".repeat(a.indentation))}if(!/^ *- $/.test(e[h])&&/[ \t]+$/.test(e[h]))throw new Error("Error line "+(a.damonOriginalLinesMapping.indexOf(h)+1)+": trailing whitespace",{line:a.damonOriginalLinesMapping.indexOf(h)+1,language:"DAMON"})}let g=new RegExp("^("+" ".repeat(a.indentation)+")+");if(g.test(e[0])){let h=e[0].match(g)[0].length,_=!0;for(let w=0,L=e.length;w<L;w++)g.test(e[w])&&e[w].match(g)[0].length>=h?e[w]=e[w].slice(h):_=!1;if(!_)throw new Error("Error line 1: bad formatting",{line:1,language:"DAMON"})}else if(g.test(e[1])&&e[1].match(g)[0].length>a.indentation){let h=e[1].match(g)[0].length-a.indentation,_=!0;for(let w=1,L=e.length;w<L;w++)g.test(e[w])&&e[w].match(g)[0].length>=h?e[w]=e[w].slice(h):_=!1;if(!_)throw new Error("Error line 2: bad formatting",{line:2,language:"DAMON"})}let d=!1;if(e.length>1)for(let h=0,_=e.length;h<_;h++)h!==0&&/^- /.test(e[h])&&(d=!0);if(!/^- \{\}$/.test(e[0])&&!/^- \[\]$/.test(e[0])&&(d=!0),d){for(let h=0,_=e.length;h<_;h++)e[h]=" ".repeat(a.indentation)+e[h];e.unshift("- {}")}var E={content:e[0],level:0,id:0,children:[],headless:d},o=E;if(!/^- /.test(e[0].trimStart())||/^ +/.test(e[0])&&(e[0].match(/^ +/)[0].length%a.indentation!=0||e[0].match(/^ +/)[0].length!=a.indentation))throw new Error("Error line "+(d*1+1)+": bad formatting",{line:d*1+1,language:"DAMON"});e.shift();for(let h=0,_=e.length;h<_;h++){if(!/^- /.test(e[h].trimStart())||/^ +/.test(e[h])&&(e[h].match(/^ +/)[0].length%a.indentation!=0||h==0&&e[h].match(/^ +/)[0].length!=a.indentation||h!=0&&/^- /.test(e[h-1])&&e[h].match(/^ +/)[0].length!=a.indentation||h!=0&&!/^- /.test(e[h-1])&&e[h].match(/^ +/)[0].length>e[h-1].match(/^ +/)[0].length+a.indentation))throw new Error("Error line "+(a.damonOriginalLinesMapping.indexOf(h)+1)+": bad formatting",{line:a.damonOriginalLinesMapping.indexOf(h)+1,language:"DAMON"});let w={content:e[h].trimStart().slice(2),level:1+e[h].match(/^ +/)[0].length/a.indentation,id:"",children:[]};if(o===E)w.id=E.children.length+1,E.children.push(w);else if(o.level===w.level){var b=a._findListItemCommonDirectParent(o,E);b.level==0?w.id=b.children.length+1:w.id=b.id+"-"+(b.children.length+1),b.children.push(w)}else if(o.level>w.level){var O=a._findListItemCommonAncestor(o,E,w.level);O.level==0?w.id=O.children.length+1:w.id=O.id+"-"+(O.children.length+1),O.children.push(w)}else if(o.level<w.level){var m=a._findListItemCommonDirectParent(o,E);let L=m.children.indexOf(o),T=m.children[L].id,C=m.children[L].children.length+1;w.id=T+"-"+C,m.children[L].children.push(w)}o=w}return E}_findListItemCommonDirectParent(t,a){let r=this;if(a.children.indexOf(t)>-1)return a;var e;for(let n=a.children.length-1,u=0;n>=u;n--)if(e=r._findListItemCommonDirectParent(t,a.children[n]),e)return e}_findListItemCommonAncestor(t,a,r){let e=this;var n=e._findListItemCommonDirectParent(t,a);return n.level<r?n:e._findListItemCommonAncestor(n,a,r)}_treeToMap(t){let a=this;var r=0;if(t.content=="- {}")return e(t,new Map);if(t.content=="- []")return e(t,[]);{let s=new Map;return t.headless&&(s.headless=!0),e(t,s)}function e(s,g){if(typeof s!="object"||s==null||Array.isArray(s))throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": @param { {} } tree",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"});if(typeof g=="object"&&g!==null&&!Array.isArray(g)&&g instanceof Map&&g.constructor===Map)n(s,g);else if(Array.isArray(g))u(s,g);else throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": @param { {} | [] } jsonMap",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"});return g}function n(s,g){for(let d=0,E=s.children.length;d<E;d++)if(r++,s.children[d].content.length==0){let o;s.children[d].children.length>0?(o="implicit map key",g.set("",new Map),g.implicitMaps===void 0&&(g.implicitMaps=[]),g.implicitMaps.push(""),e(s.children[d],g.get(""))):(o="implicit null key",g.set("",null),g.implicitNulls===void 0&&(g.implicitNulls=[]),g.implicitNulls.push(""))}else{let o=s.children[d].content,b="key";try{if(/^.*: +\[/.test(o)&&o[o.length-1]=="]")if(/: +\[ *\]$/.test(o)){let O=JSON.stringify(JSON.parse(`["${o.slice(0,-1*o.match(/: +\[ *\]$/)[0].length)}"]`)[0]).slice(1,-1);g.set(O,[]),s.children[d].children.length>0&&e(s.children[d],g.get(O))}else{let O=new RegExp(/: +\[/g),m=o.slice(0,-1).split(O),h=o.match(O).concat([""]),_=m.map((C,I)=>C+h[I]),w="",L=[];for(let C=0,I=m.length;C<I;C++)try{let v;if(C==0?v=m[0]:v=_.slice(0,C).join("")+m[C],w=JSON.stringify(JSON.parse(`["${v}"]`)[0]).slice(1,-1),b="list",L=JSON.parse(`[${_.slice(C+1).join("")}]`),Array.isArray(L))break}catch{if(C==I-2)throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": invalid inline list",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"})}if(L.every(function(C){return C===!0||C===!1?!0:C===null?(nullsCounter++,!0):typeof C=="string"?!0:!!(isFinite(C)&&!isNaN(parseFloat(C))&&Number.isFinite(C*1)&&!Number.isNaN(C*1))}))g.set(w,L),g.inlineArrays===void 0&&(g.inlineArrays=[]),g.inlineArrays.push(w);else throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": no nesting in inline lists",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"});if(s.children[d].children.length>0)throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+3)+": inline lists can't have children",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+3,language:"DAMON"})}else if(/: +\{ *\}$/.test(o)){let O=JSON.stringify(JSON.parse(`["${o.slice(0,-1*o.match(/: +\{ *\}$/)[0].length)}"]`)[0]).slice(1,-1);g.set(O,new Map),e(s.children[d],g.get(O))}else{let O=!1;if(o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="true"){let m=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],h=JSON.stringify(JSON.parse(`["${o.slice(0,-1*m.length-4)}"]`)[0]).slice(1,-1);g.set(h,!0)}else if(o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="false"){let m=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],h=JSON.stringify(JSON.parse(`["${o.slice(0,-1*m.length-5)}"]`)[0]).slice(1,-1);g.set(h,!1)}else if(o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]=="null"){let m=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],h=JSON.stringify(JSON.parse(`["${o.slice(0,-1*m.length-4)}"]`)[0]).slice(1,-1);g.set(h,null)}else if(/^.*: +"/.test(o)&&o[o.length-1]=='"'){let m=o.match(new RegExp(/: +"/g));if(m.length==1){let h=JSON.stringify(JSON.parse(`["${o.split(m[0])[0]}"]`)[0]).slice(1,-1);b="string";let _=JSON.stringify(JSON.parse(`["${o.split(m[0]).slice(1).join("").slice(0,-1)}"]`)[0]).slice(1,-1);g.set(h,_)}else if(m.length==2&&/: +"$/.test(o)){let h=JSON.stringify(JSON.parse(`["${o.split(m[0])[0]}"]`)[0]).slice(1,-1);b="string";let _=JSON.stringify(JSON.parse(`["${o.split(m[0]).slice(1).join("")+": "}"]`)[0]).slice(1,-1);g.set(h,_)}else throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": unescaped double quote",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"})}else if(/^.*: /.test(o)&&isFinite(o.split(": ")[o.split(": ").length-1])&&!isNaN(parseFloat(o.split(": ")[o.split(": ").length-1]))&&Number.isFinite(o.split(": ")[o.split(": ").length-1]*1)&&!Number.isNaN(o.split(": ")[o.split(": ").length-1]*1)){let m=JSON.stringify(JSON.parse(`["${o.split(": ").slice(0,-1).join(": ")}"]`)[0]).slice(1,-1);b="number";let h=o.match(new RegExp(/: +/g)),_=h[h.length-1],w=o.split(_)[o.split(_).length-1];if(w.indexOf(0)==0&&w.length>1&&w.indexOf(".")!==1)throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": leading 0",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"});let L=JSON.stringify(JSON.parse(`[${o.split(": ")[o.split(": ").length-1]*1}]`)[0])*1;g.set(m,L)}else if(/^.*: /.test(o)&&o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]*1===1/0){let m=JSON.stringify(JSON.parse(`["${o.split(": ").slice(0,-1).join(": ")}"]`)[0]).slice(1,-1);b="infinity";let h=JSON.stringify(JSON.parse(`[${o.split(": ")[o.split(": ").length-1]*1}]`))*1}else{let m=!1,h=0;if(/\[ *\]$/.test(o)&&(m=!0,h=o.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(o)&&(m=!0,h=o.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(o)&&(m=!0,h=4),/false$/.test(o)&&(m=!0,h=5),/null$/.test(o)&&(m=!0,h=4),/".*"$/.test(o)&&(m=!0,h=o.match(new RegExp(/".*"$/g))[0].length),!m){let _="";for(let w=o.length-1;w>-1&&(_=o[w].concat(_),isFinite(_)&&!isNaN(parseFloat(_))&&Number.isFinite(_*1)&&!Number.isNaN(_*1));w--){if(!/[ \t]/.test(o[w]))break;m=!0,h=_.length}}if(m){let _=JSON.stringify(JSON.parse(`["${o.slice(0,-1*h)}"]`)[0]).slice(1,-1);if(a.pedantic)throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r))+": missing separator",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r),language:"DAMON",errorType:"pedantic"});if(/: +$/.test(_))if(O=!0,s.children[d].children.length>0){b="implicit map key";let w=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);g.set(w,new Map),g.implicitMaps===void 0&&(g.implicitMaps=[]),g.implicitMaps.push(w),e(s.children[d],g.get(w))}else{b="implicit null key";let w=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);g.set(w,null),g.implicitNulls===void 0&&(g.implicitNulls=[]),g.implicitNulls.push(w)}else throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r))+": missing separator",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r),language:"DAMON",errorType:"pedantic"})}else{let _=JSON.stringify(JSON.parse(`["${o.slice(0,-1*h)}"]`)[0]).slice(1,-1);if(a.pedantic)throw/: +$/.test(_)?new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+3)+": bad value",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r),language:"DAMON",errorType:"pedantic"}):new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r))+": missing separator",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r),language:"DAMON",errorType:"pedantic"});if(O=!0,s.children[d].children.length>0){b="implicit map key";let w=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);g.set(w,new Map),g.implicitMaps===void 0&&(g.implicitMaps=[]),g.implicitMaps.push(w),e(s.children[d],g.get(w))}else{b="implicit null key";let w=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);g.set(w,null),g.implicitNulls===void 0&&(g.implicitNulls=[]),g.implicitNulls.push(w)}}}if(!O&&s.children[d].children.length>0)throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+3)+": missing container or excess indentation",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+3,language:"DAMON"})}}catch(O){throw O.language===void 0&&(console.error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": not JSON-compliant, detailed error follows"),O.line=t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,O.language="JSON",O.type=b),O}}}function u(s,g){for(let d=0,E=s.children.length;d<E;d++)if(r++,s.children[d].content.length){let o=s.children[d].content;if(/^[ \t]*\[/.test(o)&&o[o.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(o))g.push([]),e(s.children[d],g[g.length-1]);else{let b;try{b=JSON.parse(o)}catch{throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": invalid inline lists",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,language:"JSON",type:"list"})}if(b.every(function(m){return m===!0||m===!1?!0:m===null?(nullsCounter++,!0):typeof m=="string"?!0:!!(isFinite(m)&&!isNaN(parseFloat(m))&&Number.isFinite(m*1)&&!Number.isNaN(m*1))}))g.push(b),g.inlineArrays===void 0&&(g.inlineArrays=[]),g.inlineArrays.push(d);else throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": no nesting in inline lists",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"});if(s.children[d].children.length>0)throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+3)+": inline lists can't have children",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+3,language:"DAMON"})}else if(/^[ \t]*\{\}$/.test(o))g.push(new Map),e(s.children[d],g[g.length-1]);else if(/^[ \t]*true$/.test(o))g.push(!0);else if(/^[ \t]*false$/.test(o))g.push(!1);else if(/^[ \t]*null$/.test(o))g.push(null);else if(/^[ \t]*".*"$/.test(o))try{g.push(JSON.stringify(JSON.parse(`[${o.trimStart()}]`)[0]).slice(1,-1))}catch(b){throw console.error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": not JSON-compliant, detailed error follows"),b.line=t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,b.language="JSON",b.type="string",b}else if(isFinite(o)&&!isNaN(parseFloat(o))&&Number.isFinite(o*1)&&!Number.isNaN(o*1)){if(o.indexOf(0)==0&&o.length>1&&o.indexOf(".")!==1)throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": leading 0",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"});try{g.push(JSON.stringify(JSON.parse(`[${o*1}]`)[0])*1)}catch(b){throw console.error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": not JSON-compliant, detailed error follows"),b.line=t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,b.language="JSON",b.type="number",b}}else if(o*1===1/0)try{JSON.stringify(JSON.parse(o*1))}catch(b){throw console.error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": not JSON-compliant, detailed error follows"),b.line=t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,b.language="JSON",b.type="infinity",b}else throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": list items can't have a key",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"})}else throw new Error("Error line number "+(t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2)+": empty list node",{line:t.headless*-1+a.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"})}}mapToDamon(t){let a=this;var r="";if(Array.isArray(t))r+=`- []
`;else if(typeof t=="object"&&t!==null&&t instanceof Map&&t.constructor===Map)r+=`- {}
`;else return typeof t=="string"&&(t='"'+t+'"'),JSON.parse(t),t;return e(t),a.damonToMap(r.slice(0,-1)),r.slice(0,-1);function e(n,u=1){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map)for(let[d,E]of n)if(typeof E=="object"&&E!==null)if(Array.isArray(E)){let o=0,b=E.filter(function(O){return O===!0||O===!1?!0:O===null?(o++,!0):typeof O=="string"?!0:!!(isFinite(O)&&!isNaN(parseFloat(O))&&Number.isFinite(O*1)&&!Number.isNaN(O*1))});if(E.length==b.length&&u*4+2+E.join(", ").length+o*4<=80){let O="["+E.map(function(m){return typeof m=="string"&&(m='"'+m+'"'),m}).join(", ")+"]";r+="    ".repeat(u)+"- "+d+": "+O+`
`}else r+="    ".repeat(u)+"- "+d+`: []
`,e(E,u+1)}else r+="    ".repeat(u)+"- "+d+`: {}
`,e(E,u+1);else r+="    ".repeat(u)+"- "+d+": ",E===!0?r+=`true
`:E===!1?r+=`false
`:E===null?r+=`null
`:Number.isFinite(E)&&!Number.isNaN(E)?r+=E+`
`:r+=`"${E}"
`;else if(Array.isArray(n))for(var s=0,g=n.length;s<g;s++)if(typeof n[s]=="object"&&n[s]!==null)if(Array.isArray(n[s])){let d=0,E=n[s].filter(function(o){return o===!0||o===!1?!0:o===null?(d++,!0):typeof o=="string"?!0:!!(isFinite(o)&&!isNaN(parseFloat(o))&&Number.isFinite(o*1)&&!Number.isNaN(o*1))});if(n[s].length==E.length&&u*4+2+n[s].join(", ").length+d*4<=80){let o="["+n[s].map(function(b){return typeof b=="string"&&(b='"'+b+'"'),b}).join(", ")+"]";r+="    ".repeat(u)+"- "+o+`
`}else r+="    ".repeat(u)+`- []
`,e(n[s],u+1)}else r+="    ".repeat(u)+`- {}
`,e(n[s],u+1);else n[s]===!0?r+="    ".repeat(u)+`- true
`:n[s]===!1?r+="    ".repeat(u)+`- false
`:n[s]===null?r+="    ".repeat(u)+`- null
`:Number.isFinite(n[s])&&!Number.isNaN(n[s])?r+="    ".repeat(u)+"- "+n[s]+`
`:r+="    ".repeat(u)+`- "${n[s]}"
`}}mapToJSON(t){let a=this;var r="";if(Array.isArray(t))return r+=`[\r
`,e(t),r+="]",JSON.parse(r),r;return typeof t=="object"&&t!==null&&t instanceof Map&&t.constructor===Map?(r+=`{\r
`,e(t),r+="}",JSON.parse(r),r):(typeof t=="string"&&(t='"'+t+'"'),JSON.parse(t),t);function e(n,u=1){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map)for(let[d,E]of n)typeof E=="object"&&E!==null?Array.isArray(E)?E.length>0?(r+="    ".repeat(u)+`"${d}": [\r
`,e(E,u+1),r+="    ".repeat(u)+"]"):r+="    ".repeat(u)+`"${d}": []`:Array.from(E.keys()).length>0?(r+="    ".repeat(u)+`"${d}": {\r
`,e(E,u+1),r+="    ".repeat(u)+"}"):r+="    ".repeat(u)+`"${d}": {}`:E===!0?r+="    ".repeat(u)+`"${d}": true`:E===!1?r+="    ".repeat(u)+`"${d}": false`:E===null?r+="    ".repeat(u)+`"${d}": null`:Number.isFinite(E)&&!Number.isNaN(E)?r+="    ".repeat(u)+`"${d}": `+E:r+="    ".repeat(u)+`"${d}": "${E}"`,d!=Array.from(n.keys())[Array.from(n.keys()).length-1]?r+=`,\r
`:r+=`\r
`;else if(Array.isArray(n))for(var s=0,g=n.length;s<g;s++)typeof n[s]=="object"&&n[s]!==null?Array.isArray(n[s])?n[s].length>0?(r+="    ".repeat(u)+`[\r
`,e(n[s],u+1),r+="    ".repeat(u)+"]"):r+="    ".repeat(u)+"[]":Array.from(n[s].keys()).length>0?(r+="    ".repeat(u)+`{\r
`,e(n[s],u+1),r+="    ".repeat(u)+"}"):r+="    ".repeat(u)+"{}":n[s]===!0?r+="    ".repeat(u)+"true":n[s]===!1?r+="    ".repeat(u)+"false":n[s]===null?r+="    ".repeat(u)+"null":Number.isFinite(n[s])&&!Number.isNaN(n[s])?r+="    ".repeat(u)+n[s]:r+="    ".repeat(u)+`"${n[s]}"`,s!=g-1?r+=`,\r
`:r+=`\r
`}}implicitMapToSExpression(t){let a=this;var r="";if(typeof t=="object"&&t!==null&&t instanceof Map&&t.constructor===Map)return r+=`[\r
`,e(t),r+="]",JSON.parse(r),r;return typeof t=="string"&&(t='"'+t+'"'),JSON.parse(t),t;function e(n,u=1){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map){let d=-1;for(let[E,o]of n){if(d++,typeof o=="object"&&o!==null)if(Array.isArray(o))o.length>0?(r+="    ".repeat(u)+`"${E}", [\r
`,e(o,u+1),r+="    ".repeat(u)+"]"):r+="    ".repeat(u)+`"${E}", []`;else if(Array.from(o.keys()).length>0){if(u==1)if(d==0)r="";else throw new Error("Multiple S-Expression roots");r+="    ".repeat(u)+`["${E}", \r
`,e(o,u+1),u!=1&&(r+="    ".repeat(u)+"]")}else r+="    ".repeat(u)+`"${E}", []`;else{if(o===!0)throw new Error("Booleans require quotes");if(o===!1)throw new Error("Booleans require quotes");o===null?r+="    ".repeat(u)+`"${E}"`:Number.isFinite(o)&&!Number.isNaN(o)?r+="    ".repeat(u)+`"${E}", `+o:r+="    ".repeat(u)+`"${E}", "${o}"`}E!=Array.from(n.keys())[Array.from(n.keys()).length-1]?r+=`,\r
`:r+=`\r
`}}else if(Array.isArray(n))for(var s=0,g=n.length;s<g;s++){if(typeof n[s]=="object"&&n[s]!==null)Array.isArray(n[s])?n[s].length>0?(r+="    ".repeat(u)+`[\r
`,e(n[s],u+1),r+="    ".repeat(u)+"]"):r+="    ".repeat(u)+"[]":Array.from(n[s].keys()).length>0?(r+="    ".repeat(u)+`[\r
`,e(n[s],u+1),r+="    ".repeat(u)+"]"):r+="    ".repeat(u)+"[]";else{if(n[s]===!0)throw new Error("Booleans require quotes");if(n[s]===!1)throw new Error("Booleans require quotes");if(n[s]===null)throw new Error("Array-nulls require quotes");Number.isFinite(n[s])&&!Number.isNaN(n[s])?r+="    ".repeat(u)+n[s]:r+="    ".repeat(u)+`"${n[s]}"`}s!=g-1?r+=`,\r
`:r+=`\r
`}}}}});var Ar=se(($n,Ln)=>{Ln.exports={key:': "key'}});var Sr=se(()=>{var Fn=Ar(),Z=new Damon,Ee=`- {}
    - key0: null
    - k\\ney1: []
        - []
            - {}
            - [1, 1, 1]
            - "abc"
    - 1: {}
        - key: 1
        - othe: \\"rKey: ": \\"1e10"
    - More_complex_case: {}
        - key: ["1e10", "abc"]
    - list: []
        - {}
        - {}`;console.log(Z.mapToDamon(Z.damonToMap(Ee))==Ee);console.log(Z.jsonToDamon(Z.damonToJSON(Ee))==Ee);console.log(JSON.stringify(JSON.parse(Z.damonToJSON(Ee))));console.log(Z.utils.mapToHtmlList(Z.damonToMap(Ee)));console.log(Z.utils.mapToHtmlTable(Z.damonToMap(xn)));var xn=`- {}
    - 00: "Caption"
    - 0: {}
        - heading1
        - heading2
        - heading3
    - 1: {}
        - A
        - B
        - C
    - 2: {}
        - A
        - B
        - C`,Cn="1e10";console.log(Z.template`- {}
    - k\\ney0: null
    - key1: []
        - []
            - {}
    - 1: {}
        - key: 1
        - otherKey: ${Cn}
    - More_complex_case: {}
        - key: []
            - "1e10"
            - "abc"`);var Tr=`- Divide: {}
    - n
    - Add: {}
        - 1
        - n`;console.log(Z.implicitMapToSExpression(Z.damonToMap(Tr)));console.log(JSON.parse(Z.implicitMapToSExpression(Z.damonToMap(Tr))))});(function(){window.DamonUtils=Vt(),window.Damon=wr(),tests=Sr()})();})();
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.0.11 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.11/LICENSE *)
*/
