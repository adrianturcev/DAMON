(()=>{var cn=Object.create;var Pe=Object.defineProperty;var un=Object.getOwnPropertyDescriptor;var pn=Object.getOwnPropertyNames;var dn=Object.getPrototypeOf,hn=Object.prototype.hasOwnProperty;var mn=(u=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(u,{get:(t,s)=>(typeof require<"u"?require:t)[s]}):u)(function(u){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+u+'" is not supported')});var gn=(u,t)=>()=>(u&&(t=u(u=0)),t);var fe=(u,t)=>()=>(t||u((t={exports:{}}).exports,t),t.exports),yn=(u,t)=>{for(var s in t)Pe(u,s,{get:t[s],enumerable:!0})},Wt=(u,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of pn(t))!hn.call(u,e)&&e!==s&&Pe(u,e,{get:()=>t[e],enumerable:!(r=un(t,e))||r.enumerable});return u};var tt=(u,t,s)=>(s=u!=null?cn(dn(u)):{},Wt(t||!u||!u.__esModule?Pe(s,"default",{value:u,enumerable:!0}):s,u)),En=u=>Wt(Pe({},"__esModule",{value:!0}),u);var hr={};yn(hr,{__addDisposableResource:()=>pr,__assign:()=>ke,__asyncDelegator:()=>ir,__asyncGenerator:()=>nr,__asyncValues:()=>lr,__await:()=>ye,__awaiter:()=>Zt,__classPrivateFieldGet:()=>fr,__classPrivateFieldIn:()=>ur,__classPrivateFieldSet:()=>cr,__createBinding:()=>Fe,__decorate:()=>Vt,__disposeResources:()=>dr,__esDecorate:()=>Nn,__exportStar:()=>jt,__extends:()=>Yt,__generator:()=>Qt,__importDefault:()=>ar,__importStar:()=>or,__makeTemplateObject:()=>sr,__metadata:()=>Xt,__param:()=>Kt,__propKey:()=>_n,__read:()=>nt,__rest:()=>qt,__runInitializers:()=>On,__setFunctionName:()=>bn,__spread:()=>er,__spreadArray:()=>rr,__spreadArrays:()=>tr,__values:()=>$e,default:()=>Tn});function Yt(u,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");rt(u,t);function s(){this.constructor=u}u.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}function qt(u,t){var s={};for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&t.indexOf(r)<0&&(s[r]=u[r]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,r=Object.getOwnPropertySymbols(u);e<r.length;e++)t.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(u,r[e])&&(s[r[e]]=u[r[e]]);return s}function Vt(u,t,s,r){var e=arguments.length,n=e<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,s):r,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(u,t,s,r);else for(var a=u.length-1;a>=0;a--)(f=u[a])&&(n=(e<3?f(n):e>3?f(t,s,n):f(t,s))||n);return e>3&&n&&Object.defineProperty(t,s,n),n}function Kt(u,t){return function(s,r){t(s,r,u)}}function Nn(u,t,s,r,e,n){function f(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var a=r.kind,m=a==="getter"?"get":a==="setter"?"set":"value",d=!t&&u?r.static?u:u.prototype:null,y=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),o,N=!1,O=s.length-1;O>=0;O--){var g={};for(var h in r)g[h]=h==="access"?{}:r[h];for(var h in r.access)g.access[h]=r.access[h];g.addInitializer=function(A){if(N)throw new TypeError("Cannot add initializers after decoration has completed");n.push(f(A||null))};var b=(0,s[O])(a==="accessor"?{get:y.get,set:y.set}:y[m],g);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(o=f(b.get))&&(y.get=o),(o=f(b.set))&&(y.set=o),(o=f(b.init))&&e.unshift(o)}else(o=f(b))&&(a==="field"?e.unshift(o):y[m]=o)}d&&Object.defineProperty(d,r.name,y),N=!0}function On(u,t,s){for(var r=arguments.length>2,e=0;e<t.length;e++)s=r?t[e].call(u,s):t[e].call(u);return r?s:void 0}function _n(u){return typeof u=="symbol"?u:"".concat(u)}function bn(u,t,s){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(u,"name",{configurable:!0,value:s?"".concat(s," ",t):t})}function Xt(u,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,t)}function Zt(u,t,s,r){function e(n){return n instanceof s?n:new s(function(f){f(n)})}return new(s||(s=Promise))(function(n,f){function a(y){try{d(r.next(y))}catch(o){f(o)}}function m(y){try{d(r.throw(y))}catch(o){f(o)}}function d(y){y.done?n(y.value):e(y.value).then(a,m)}d((r=r.apply(u,t||[])).next())})}function Qt(u,t){var s={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},r,e,n,f;return f={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function a(d){return function(y){return m([d,y])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,d[0]&&(s=0)),s;)try{if(r=1,e&&(n=d[0]&2?e.return:d[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,d[1])).done)return n;switch(e=0,n&&(d=[d[0]&2,n.value]),d[0]){case 0:case 1:n=d;break;case 4:return s.label++,{value:d[1],done:!1};case 5:s.label++,e=d[1],d=[0];continue;case 7:d=s.ops.pop(),s.trys.pop();continue;default:if(n=s.trys,!(n=n.length>0&&n[n.length-1])&&(d[0]===6||d[0]===2)){s=0;continue}if(d[0]===3&&(!n||d[1]>n[0]&&d[1]<n[3])){s.label=d[1];break}if(d[0]===6&&s.label<n[1]){s.label=n[1],n=d;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(d);break}n[2]&&s.ops.pop(),s.trys.pop();continue}d=t.call(u,s)}catch(y){d=[6,y],e=0}finally{r=n=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function jt(u,t){for(var s in u)s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s)&&Fe(t,u,s)}function $e(u){var t=typeof Symbol=="function"&&Symbol.iterator,s=t&&u[t],r=0;if(s)return s.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&r>=u.length&&(u=void 0),{value:u&&u[r++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nt(u,t){var s=typeof Symbol=="function"&&u[Symbol.iterator];if(!s)return u;var r=s.call(u),e,n=[],f;try{for(;(t===void 0||t-- >0)&&!(e=r.next()).done;)n.push(e.value)}catch(a){f={error:a}}finally{try{e&&!e.done&&(s=r.return)&&s.call(r)}finally{if(f)throw f.error}}return n}function er(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(nt(arguments[t]));return u}function tr(){for(var u=0,t=0,s=arguments.length;t<s;t++)u+=arguments[t].length;for(var r=Array(u),e=0,t=0;t<s;t++)for(var n=arguments[t],f=0,a=n.length;f<a;f++,e++)r[e]=n[f];return r}function rr(u,t,s){if(s||arguments.length===2)for(var r=0,e=t.length,n;r<e;r++)(n||!(r in t))&&(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return u.concat(n||Array.prototype.slice.call(t))}function ye(u){return this instanceof ye?(this.v=u,this):new ye(u)}function nr(u,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(u,t||[]),e,n=[];return e={},f("next"),f("throw"),f("return"),e[Symbol.asyncIterator]=function(){return this},e;function f(N){r[N]&&(e[N]=function(O){return new Promise(function(g,h){n.push([N,O,g,h])>1||a(N,O)})})}function a(N,O){try{m(r[N](O))}catch(g){o(n[0][3],g)}}function m(N){N.value instanceof ye?Promise.resolve(N.value.v).then(d,y):o(n[0][2],N)}function d(N){a("next",N)}function y(N){a("throw",N)}function o(N,O){N(O),n.shift(),n.length&&a(n[0][0],n[0][1])}}function ir(u){var t,s;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(e,n){t[e]=u[e]?function(f){return(s=!s)?{value:ye(u[e](f)),done:!1}:n?n(f):f}:n}}function lr(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=u[Symbol.asyncIterator],s;return t?t.call(u):(u=typeof $e=="function"?$e(u):u[Symbol.iterator](),s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s);function r(n){s[n]=u[n]&&function(f){return new Promise(function(a,m){f=u[n](f),e(a,m,f.done,f.value)})}}function e(n,f,a,m){Promise.resolve(m).then(function(d){n({value:d,done:a})},f)}}function sr(u,t){return Object.defineProperty?Object.defineProperty(u,"raw",{value:t}):u.raw=t,u}function or(u){if(u&&u.__esModule)return u;var t={};if(u!=null)for(var s in u)s!=="default"&&Object.prototype.hasOwnProperty.call(u,s)&&Fe(t,u,s);return An(t,u),t}function ar(u){return u&&u.__esModule?u:{default:u}}function fr(u,t,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?u!==t||!r:!t.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(u):r?r.value:t.get(u)}function cr(u,t,s,r,e){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!e)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?u!==t||!e:!t.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?e.call(u,s):e?e.value=s:t.set(u,s),s}function ur(u,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof u=="function"?t===u:u.has(t)}function pr(u,t,s){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");u.stack.push({value:t,dispose:r,async:s})}else s&&u.stack.push({async:!0});return t}function dr(u){function t(r){u.error=u.hasError?new wn(r,u.error,"An error was suppressed during disposal."):r,u.hasError=!0}function s(){for(;u.stack.length;){var r=u.stack.pop();try{var e=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(e).then(s,function(n){return t(n),s()})}catch(n){t(n)}}if(u.hasError)throw u.error}return s()}var rt,ke,Fe,An,wn,Tn,mr=gn(()=>{rt=function(u,t){return rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(s[e]=r[e])},rt(u,t)};ke=function(){return ke=Object.assign||function(t){for(var s,r=1,e=arguments.length;r<e;r++){s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},ke.apply(this,arguments)};Fe=Object.create?function(u,t,s,r){r===void 0&&(r=s);var e=Object.getOwnPropertyDescriptor(t,s);(!e||("get"in e?!t.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(u,r,e)}:function(u,t,s,r){r===void 0&&(r=s),u[r]=t[s]};An=Object.create?function(u,t){Object.defineProperty(u,"default",{enumerable:!0,value:t})}:function(u,t){u.default=t};wn=typeof SuppressedError=="function"?SuppressedError:function(u,t,s){var r=new Error(s);return r.name="SuppressedError",r.error=u,r.suppressed=t,r};Tn={__extends:Yt,__assign:ke,__rest:qt,__decorate:Vt,__param:Kt,__metadata:Xt,__awaiter:Zt,__generator:Qt,__createBinding:Fe,__exportStar:jt,__values:$e,__read:nt,__spread:er,__spreadArrays:tr,__spreadArray:rr,__await:ye,__asyncGenerator:nr,__asyncDelegator:ir,__asyncValues:lr,__makeTemplateObject:sr,__importStar:or,__importDefault:ar,__classPrivateFieldGet:fr,__classPrivateFieldSet:cr,__classPrivateFieldIn:ur,__addDisposableResource:pr,__disposeResources:dr}});var gr=fe(it=>{(function(u){"use strict";var t=typeof process=="object"&&process.env?process.env:self;u.parser=function(E){return new o(E)},u.CParser=o,u.CStream=O,u.createStream=N,u.MAX_BUFFER_LENGTH=64*1024,u.DEBUG=t.CDEBUG==="debug",u.INFO=t.CDEBUG==="debug"||t.CDEBUG==="info",u.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var s={textNode:void 0,numberNode:""},r=u.EVENTS.filter(function(E){return E!=="error"&&E!=="end"}),e=0,n;u.STATE={BEGIN:e++,VALUE:e++,OPEN_OBJECT:e++,CLOSE_OBJECT:e++,OPEN_ARRAY:e++,CLOSE_ARRAY:e++,TEXT_ESCAPE:e++,STRING:e++,BACKSLASH:e++,END:e++,OPEN_KEY:e++,CLOSE_KEY:e++,TRUE:e++,TRUE2:e++,TRUE3:e++,FALSE:e++,FALSE2:e++,FALSE3:e++,FALSE4:e++,NULL:e++,NULL2:e++,NULL3:e++,NUMBER_DECIMAL_POINT:e++,NUMBER_DIGIT:e++};for(var f in u.STATE)u.STATE[u.STATE[f]]=f;e=u.STATE;let a={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(E){function l(){this.__proto__=E}return l.prototype=E,new l}),Object.getPrototypeOf||(Object.getPrototypeOf=function(E){return E.__proto__}),Object.keys||(Object.keys=function(E){var l=[];for(var x in E)E.hasOwnProperty(x)&&l.push(x);return l});function m(E){var l=Math.max(u.MAX_BUFFER_LENGTH,10),x=0;for(var _ in s){var M=E[_]===void 0?0:E[_].length;if(M>l)switch(_){case"text":closeText(E);break;default:T(E,"Max buffer length exceeded: "+_)}x=Math.max(x,M)}E.bufferCheckPosition=u.MAX_BUFFER_LENGTH-x+E.position}function d(E){for(var l in s)E[l]=s[l]}var y=/[\\"\n]/g;function o(E){if(!(this instanceof o))return new o(E);var l=this;d(l),l.bufferCheckPosition=u.MAX_BUFFER_LENGTH,l.q=l.c=l.p="",l.opt=E||{},l.closed=l.closedRoot=l.sawRoot=!1,l.tag=l.error=null,l.state=e.BEGIN,l.stack=new Array,l.position=l.column=0,l.line=1,l.slashed=!1,l.unicodeI=0,l.unicodeS=null,l.depth=0,g(l,"onready")}o.prototype={end:function(){C(this)},write:v,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{n=mn("stream").Stream}catch{n=function(){}}function N(E){return new O(E)}function O(E){if(!(this instanceof O))return new O(E);this._parser=new o(E),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var l=this;n.apply(l),this._parser.onend=function(){l.emit("end")},this._parser.onerror=function(x){l.emit("error",x),l._parser.error=null},r.forEach(function(x){Object.defineProperty(l,"on"+x,{get:function(){return l._parser["on"+x]},set:function(_){if(!_)return l.removeAllListeners(x),l._parser["on"+x]=_,_;l.on(x,_)},enumerable:!0,configurable:!1})})}O.prototype=Object.create(n.prototype,{constructor:{value:O}}),O.prototype.write=function(E){E=new Buffer(E);for(var l=0;l<E.length;l++){var x=E[l];if(this.bytes_remaining>0){for(var _=0;_<this.bytes_remaining;_++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+_]=E[_];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,l=l+_-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&x>=128)if(x>=194&&x<=223&&(this.bytes_in_sequence=2),x>=224&&x<=239&&(this.bytes_in_sequence=3),x>=240&&x<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+l>E.length){for(var M=0;M<=E.length-1-l;M++)this.temp_buffs[this.bytes_in_sequence][M]=E[l+M];return this.bytes_remaining=l+this.bytes_in_sequence-E.length,!0}else{this.string=E.slice(l,l+this.bytes_in_sequence).toString(),l=l+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var Q=l;Q<E.length&&!(E[Q]>=128);Q++);this.string=E.slice(l,Q).toString(),this._parser.write(this.string),this.emit("data",this.string),l=Q-1}},O.prototype.end=function(E){return E&&E.length&&this._parser.write(E.toString()),this._parser.end(),!0},O.prototype.on=function(E,l){var x=this;return!x._parser["on"+E]&&r.indexOf(E)!==-1&&(x._parser["on"+E]=function(){var _=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);_.splice(0,0,E),x.emit.apply(x,_)}),n.prototype.on.call(x,E,l)},O.prototype.destroy=function(){d(this._parser),this.emit("close")};function g(E,l,x){u.INFO&&console.log("-- emit",l,x),E[l]&&E[l](x)}function h(E,l,x){b(E),g(E,l,x)}function b(E,l){E.textNode=L(E.opt,E.textNode),E.textNode!==void 0&&g(E,l||"onvalue",E.textNode),E.textNode=void 0}function A(E){E.numberNode&&g(E,"onvalue",parseFloat(E.numberNode)),E.numberNode=""}function L(E,l){return l===void 0||(E.trim&&(l=l.trim()),E.normalize&&(l=l.replace(/\s+/g," "))),l}function T(E,l){return b(E),l+=`
Line: `+E.line+`
Column: `+E.column+`
Char: `+E.c,l=new Error(l),E.error=l,g(E,"onerror",l),E}function C(E){return(E.state!==e.VALUE||E.depth!==0)&&T(E,"Unexpected end"),b(E),E.c="",E.closed=!0,g(E,"onend"),o.call(E,E.opt),E}function I(E){return E===a.carriageReturn||E===a.lineFeed||E===a.space||E===a.tab}function v(E){var l=this;if(this.error)throw this.error;if(l.closed)return T(l,"Cannot write after close. Assign an onready handler.");if(E===null)return C(l);var x=0,_=E.charCodeAt(0),M=l.p,Q=!1;for(u.DEBUG&&console.log("write -> ["+E+"]");_&&(M=_,l.c=_=E.charCodeAt(x++),M!==_?l.p=M:M=l.p,!!_);)switch(u.DEBUG&&console.log(x,_,u.STATE[l.state]),Q?Q=!1:(l.position++,_===a.lineFeed?(l.line++,l.column=0):l.column++),l.state){case e.BEGIN:_===a.openBrace?l.state=e.OPEN_OBJECT:_===a.openBracket?l.state=e.OPEN_ARRAY:I(_)||T(l,"Non-whitespace before {[.");continue;case e.OPEN_KEY:case e.OPEN_OBJECT:if(I(_))continue;if(l.state===e.OPEN_KEY)l.stack.push(e.CLOSE_KEY);else if(_===a.closeBrace){g(l,"onopenobject"),this.depth++,g(l,"oncloseobject"),this.depth--,l.state=l.stack.pop()||e.VALUE;continue}else l.stack.push(e.CLOSE_OBJECT);_===a.doubleQuote?l.state=e.STRING:T(l,'Malformed object key should start with "');continue;case e.CLOSE_KEY:case e.CLOSE_OBJECT:if(I(_))continue;var Se=l.state===e.CLOSE_KEY?"key":"object";_===a.colon?(l.state===e.CLOSE_OBJECT?(l.stack.push(e.CLOSE_OBJECT),b(l,"onopenobject"),this.depth++):b(l,"onkey"),l.state=e.VALUE):_===a.closeBrace?(h(l,"oncloseobject"),this.depth--,l.state=l.stack.pop()||e.VALUE):_===a.comma?(l.state===e.CLOSE_OBJECT&&l.stack.push(e.CLOSE_OBJECT),b(l),l.state=e.OPEN_KEY):T(l,"Bad object");continue;case e.OPEN_ARRAY:case e.VALUE:if(I(_))continue;if(l.state===e.OPEN_ARRAY)if(g(l,"onopenarray"),this.depth++,l.state=e.VALUE,_===a.closeBracket){g(l,"onclosearray"),this.depth--,l.state=l.stack.pop()||e.VALUE;continue}else l.stack.push(e.CLOSE_ARRAY);_===a.doubleQuote?l.state=e.STRING:_===a.openBrace?l.state=e.OPEN_OBJECT:_===a.openBracket?l.state=e.OPEN_ARRAY:_===a.t?l.state=e.TRUE:_===a.f?l.state=e.FALSE:_===a.n?l.state=e.NULL:_===a.minus?l.numberNode+="-":a._0<=_&&_<=a._9?(l.numberNode+=String.fromCharCode(_),l.state=e.NUMBER_DIGIT):T(l,"Bad value");continue;case e.CLOSE_ARRAY:if(_===a.comma)l.stack.push(e.CLOSE_ARRAY),b(l,"onvalue"),l.state=e.VALUE;else if(_===a.closeBracket)h(l,"onclosearray"),this.depth--,l.state=l.stack.pop()||e.VALUE;else{if(I(_))continue;T(l,"Bad array")}continue;case e.STRING:l.textNode===void 0&&(l.textNode="");var K=x-1,te=l.slashed,j=l.unicodeI;e:for(;;){for(u.DEBUG&&console.log(x,_,u.STATE[l.state],te);j>0;)if(l.unicodeS+=String.fromCharCode(_),_=E.charCodeAt(x++),l.position++,j===4?(l.textNode+=String.fromCharCode(parseInt(l.unicodeS,16)),j=0,K=x-1):j++,!_)break e;if(_===a.doubleQuote&&!te){l.state=l.stack.pop()||e.VALUE,l.textNode+=E.substring(K,x-1),l.position+=x-1-K;break}if(_===a.backslash&&!te&&(te=!0,l.textNode+=E.substring(K,x-1),l.position+=x-1-K,_=E.charCodeAt(x++),l.position++,!_))break;if(te){if(te=!1,_===a.n?l.textNode+=`
`:_===a.r?l.textNode+="\r":_===a.t?l.textNode+="	":_===a.f?l.textNode+="\f":_===a.b?l.textNode+="\b":_===a.u?(j=1,l.unicodeS=""):l.textNode+=String.fromCharCode(_),_=E.charCodeAt(x++),l.position++,K=x-1,_)continue;break}y.lastIndex=x;var Ne=y.exec(E);if(Ne===null){x=E.length+1,l.textNode+=E.substring(K,x-1),l.position+=x-1-K;break}if(x=Ne.index+1,_=E.charCodeAt(Ne.index),!_){l.textNode+=E.substring(K,x-1),l.position+=x-1-K;break}}l.slashed=te,l.unicodeI=j;continue;case e.TRUE:_===a.r?l.state=e.TRUE2:T(l,"Invalid true started with t"+_);continue;case e.TRUE2:_===a.u?l.state=e.TRUE3:T(l,"Invalid true started with tr"+_);continue;case e.TRUE3:_===a.e?(g(l,"onvalue",!0),l.state=l.stack.pop()||e.VALUE):T(l,"Invalid true started with tru"+_);continue;case e.FALSE:_===a.a?l.state=e.FALSE2:T(l,"Invalid false started with f"+_);continue;case e.FALSE2:_===a.l?l.state=e.FALSE3:T(l,"Invalid false started with fa"+_);continue;case e.FALSE3:_===a.s?l.state=e.FALSE4:T(l,"Invalid false started with fal"+_);continue;case e.FALSE4:_===a.e?(g(l,"onvalue",!1),l.state=l.stack.pop()||e.VALUE):T(l,"Invalid false started with fals"+_);continue;case e.NULL:_===a.u?l.state=e.NULL2:T(l,"Invalid null started with n"+_);continue;case e.NULL2:_===a.l?l.state=e.NULL3:T(l,"Invalid null started with nu"+_);continue;case e.NULL3:_===a.l?(g(l,"onvalue",null),l.state=l.stack.pop()||e.VALUE):T(l,"Invalid null started with nul"+_);continue;case e.NUMBER_DECIMAL_POINT:_===a.period?(l.numberNode+=".",l.state=e.NUMBER_DIGIT):T(l,"Leading zero not followed by .");continue;case e.NUMBER_DIGIT:a._0<=_&&_<=a._9?l.numberNode+=String.fromCharCode(_):_===a.period?(l.numberNode.indexOf(".")!==-1&&T(l,"Invalid number has two dots"),l.numberNode+="."):_===a.e||_===a.E?((l.numberNode.indexOf("e")!==-1||l.numberNode.indexOf("E")!==-1)&&T(l,"Invalid number has two exponential"),l.numberNode+="e"):_===a.plus||_===a.minus?(M===a.e||M===a.E||T(l,"Invalid symbol in number"),l.numberNode+=String.fromCharCode(_)):(A(l),x--,Q=!0,l.state=l.stack.pop()||e.VALUE);continue;default:T(l,"Unknown state: "+l.state)}return l.position>=l.bufferCheckPosition&&m(l),l}})(typeof it>"u"?clarinet={}:it)});var Er=fe(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.stringify=Ee.parse=void 0;var Sn=(mr(),En(hr)),Ln=Sn.__importDefault(gr());function xn(u){let t=st(),s,r;function e(f){try{let a=t.next(f);a.done&&(s=a.value)}catch(a){r=a}}let n=Ln.default.parser();if(n.onopenobject=f=>e({type:"openobject",key:f}),n.onopenarray=()=>e({type:"openarray"}),n.onkey=f=>e({type:"key",key:f}),n.onvalue=f=>e({type:"value",value:f}),n.oncloseobject=()=>e({type:"closeobject"}),n.onclosearray=()=>e({type:"closearray"}),n.onerror=f=>e({type:"error",err:f}),t.next(),n.write(u).close(),r)throw r;return s}Ee.parse=xn;function lt(u){return Array.isArray(u)?`[${u.map(lt).join(",")}]`:u instanceof Map?`{${[...u].map(([t,s])=>JSON.stringify(t)+":"+lt(s)).join(",")}}`:JSON.stringify(u)}Ee.stringify=lt;var yr=Symbol();function*st(){let u=yield;switch(u.type){case"value":return u.value;case"openobject":let t=new Map,s=u.key;for(s===void 0&&(yield);s!==void 0;)t.set(s,yield*st()),s=(yield).key;return t;case"openarray":let r=[],e;for(;;){if(e=yield*st(),e===yr)return r;r.push(e)}case"closearray":return yr;case"error":throw u.err;default:throw Error(`Unexpected ParseEvent ${u.type}`)}}});var Nr=fe((ot,at)=>{(function(u,t){typeof ot=="object"&&typeof at<"u"?at.exports=t():typeof define=="function"&&define.amd?define(t):(u=typeof globalThis<"u"?globalThis:u||self,u.DOMPurify=t())})(ot,function(){"use strict";let{entries:u,setPrototypeOf:t,isFrozen:s,getPrototypeOf:r,getOwnPropertyDescriptor:e}=Object,{freeze:n,seal:f,create:a}=Object,{apply:m,construct:d}=typeof Reflect<"u"&&Reflect;n||(n=function(D){return D}),f||(f=function(D){return D}),m||(m=function(D,$,P){return D.apply($,P)}),d||(d=function(D,$){return new D(...$)});let y=v(Array.prototype.forEach),o=v(Array.prototype.pop),N=v(Array.prototype.push),O=v(String.prototype.toLowerCase),g=v(String.prototype.toString),h=v(String.prototype.match),b=v(String.prototype.replace),A=v(String.prototype.indexOf),L=v(String.prototype.trim),T=v(Object.prototype.hasOwnProperty),C=v(RegExp.prototype.test),I=E(TypeError);function v(k){return function(D){for(var $=arguments.length,P=new Array($>1?$-1:0),z=1;z<$;z++)P[z-1]=arguments[z];return m(k,D,P)}}function E(k){return function(){for(var D=arguments.length,$=new Array(D),P=0;P<D;P++)$[P]=arguments[P];return d(k,$)}}function l(k,D){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O;t&&t(k,null);let P=D.length;for(;P--;){let z=D[P];if(typeof z=="string"){let re=$(z);re!==z&&(s(D)||(D[P]=re),z=re)}k[z]=!0}return k}function x(k){for(let D=0;D<k.length;D++)T(k,D)||(k[D]=null);return k}function _(k){let D=a(null);for(let[$,P]of u(k))T(k,$)&&(Array.isArray(P)?D[$]=x(P):P&&typeof P=="object"&&P.constructor===Object?D[$]=_(P):D[$]=P);return D}function M(k,D){for(;k!==null;){let P=e(k,D);if(P){if(P.get)return v(P.get);if(typeof P.value=="function")return v(P.value)}k=r(k)}function $(){return null}return $}let Q=n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Se=n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),K=n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),te=n(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),j=n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ne=n(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ct=n(["#text"]),ut=n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ue=n(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),pt=n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Le=n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Cr=f(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Dr=f(/<%[\w\W]*|[\w\W]*%>/gm),Rr=f(/\${[\w\W]*}/gm),Ir=f(/^data-[\-\w.\u00B7-\uFFFF]/),vr=f(/^aria-[\-\w]+$/),dt=f(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Pr=f(/^(?:\w+script|data):/i),kr=f(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ht=f(/^html$/i),$r=f(/^[a-z][.\w]*(-[.\w]+)+$/i);var mt=Object.freeze({__proto__:null,MUSTACHE_EXPR:Cr,ERB_EXPR:Dr,TMPLIT_EXPR:Rr,DATA_ATTR:Ir,ARIA_ATTR:vr,IS_ALLOWED_URI:dt,IS_SCRIPT_OR_DATA:Pr,ATTR_WHITESPACE:kr,DOCTYPE_NAME:ht,CUSTOM_ELEMENT:$r});let Fr=function(){return typeof window>"u"?null:window},Ur=function(D,$){if(typeof D!="object"||typeof D.createPolicy!="function")return null;let P=null,z="data-tt-policy-suffix";$&&$.hasAttribute(z)&&(P=$.getAttribute(z));let re="dompurify"+(P?"#"+P:"");try{return D.createPolicy(re,{createHTML(ce){return ce},createScriptURL(ce){return ce}})}catch{return console.warn("TrustedTypes policy "+re+" could not be created."),null}};function gt(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fr(),D=R=>gt(R);if(D.version="3.0.11",D.removed=[],!k||!k.document||k.document.nodeType!==9)return D.isSupported=!1,D;let{document:$}=k,P=$,z=P.currentScript,{DocumentFragment:re,HTMLTemplateElement:ce,Node:Me,Element:yt,NodeFilter:Oe,NamedNodeMap:Jr=k.NamedNodeMap||k.MozNamedAttrMap,HTMLFormElement:Hr,DOMParser:Br,trustedTypes:xe}=k,Ce=yt.prototype,Gr=M(Ce,"cloneNode"),zr=M(Ce,"nextSibling"),Wr=M(Ce,"childNodes"),Je=M(Ce,"parentNode");if(typeof ce=="function"){let R=$.createElement("template");R.content&&R.content.ownerDocument&&($=R.content.ownerDocument)}let q,_e="",{implementation:He,createNodeIterator:Yr,createDocumentFragment:qr,getElementsByTagName:Vr}=$,{importNode:Kr}=P,ee={};D.isSupported=typeof u=="function"&&typeof Je=="function"&&He&&He.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Be,ERB_EXPR:Ge,TMPLIT_EXPR:ze,DATA_ATTR:Xr,ARIA_ATTR:Zr,IS_SCRIPT_OR_DATA:Qr,ATTR_WHITESPACE:Et,CUSTOM_ELEMENT:jr}=mt,{IS_ALLOWED_URI:Nt}=mt,H=null,Ot=l({},[...Q,...Se,...K,...j,...ct]),B=null,_t=l({},[...ut,...Ue,...pt,...Le]),U=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,We=null,bt=!0,Ye=!0,At=!1,wt=!0,ue=!1,oe=!1,qe=!1,Ve=!1,pe=!1,De=!1,Re=!1,Tt=!0,St=!1,en="user-content-",Ke=!0,Ae=!1,de={},he=null,Lt=l({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),xt=null,Ct=l({},["audio","video","img","source","image","track"]),Xe=null,Dt=l({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ie="http://www.w3.org/1998/Math/MathML",ve="http://www.w3.org/2000/svg",ne="http://www.w3.org/1999/xhtml",me=ne,Ze=!1,Qe=null,tn=l({},[Ie,ve,ne],g),we=null,rn=["application/xhtml+xml","text/html"],nn="text/html",G=null,ge=null,ln=$.createElement("form"),Rt=function(p){return p instanceof RegExp||p instanceof Function},je=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ge&&ge===p)){if((!p||typeof p!="object")&&(p={}),p=_(p),we=rn.indexOf(p.PARSER_MEDIA_TYPE)===-1?nn:p.PARSER_MEDIA_TYPE,G=we==="application/xhtml+xml"?g:O,H=T(p,"ALLOWED_TAGS")?l({},p.ALLOWED_TAGS,G):Ot,B=T(p,"ALLOWED_ATTR")?l({},p.ALLOWED_ATTR,G):_t,Qe=T(p,"ALLOWED_NAMESPACES")?l({},p.ALLOWED_NAMESPACES,g):tn,Xe=T(p,"ADD_URI_SAFE_ATTR")?l(_(Dt),p.ADD_URI_SAFE_ATTR,G):Dt,xt=T(p,"ADD_DATA_URI_TAGS")?l(_(Ct),p.ADD_DATA_URI_TAGS,G):Ct,he=T(p,"FORBID_CONTENTS")?l({},p.FORBID_CONTENTS,G):Lt,be=T(p,"FORBID_TAGS")?l({},p.FORBID_TAGS,G):{},We=T(p,"FORBID_ATTR")?l({},p.FORBID_ATTR,G):{},de=T(p,"USE_PROFILES")?p.USE_PROFILES:!1,bt=p.ALLOW_ARIA_ATTR!==!1,Ye=p.ALLOW_DATA_ATTR!==!1,At=p.ALLOW_UNKNOWN_PROTOCOLS||!1,wt=p.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ue=p.SAFE_FOR_TEMPLATES||!1,oe=p.WHOLE_DOCUMENT||!1,pe=p.RETURN_DOM||!1,De=p.RETURN_DOM_FRAGMENT||!1,Re=p.RETURN_TRUSTED_TYPE||!1,Ve=p.FORCE_BODY||!1,Tt=p.SANITIZE_DOM!==!1,St=p.SANITIZE_NAMED_PROPS||!1,Ke=p.KEEP_CONTENT!==!1,Ae=p.IN_PLACE||!1,Nt=p.ALLOWED_URI_REGEXP||dt,me=p.NAMESPACE||ne,U=p.CUSTOM_ELEMENT_HANDLING||{},p.CUSTOM_ELEMENT_HANDLING&&Rt(p.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=p.CUSTOM_ELEMENT_HANDLING.tagNameCheck),p.CUSTOM_ELEMENT_HANDLING&&Rt(p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),p.CUSTOM_ELEMENT_HANDLING&&typeof p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(U.allowCustomizedBuiltInElements=p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ue&&(Ye=!1),De&&(pe=!0),de&&(H=l({},ct),B=[],de.html===!0&&(l(H,Q),l(B,ut)),de.svg===!0&&(l(H,Se),l(B,Ue),l(B,Le)),de.svgFilters===!0&&(l(H,K),l(B,Ue),l(B,Le)),de.mathMl===!0&&(l(H,j),l(B,pt),l(B,Le))),p.ADD_TAGS&&(H===Ot&&(H=_(H)),l(H,p.ADD_TAGS,G)),p.ADD_ATTR&&(B===_t&&(B=_(B)),l(B,p.ADD_ATTR,G)),p.ADD_URI_SAFE_ATTR&&l(Xe,p.ADD_URI_SAFE_ATTR,G),p.FORBID_CONTENTS&&(he===Lt&&(he=_(he)),l(he,p.FORBID_CONTENTS,G)),Ke&&(H["#text"]=!0),oe&&l(H,["html","head","body"]),H.table&&(l(H,["tbody"]),delete be.tbody),p.TRUSTED_TYPES_POLICY){if(typeof p.TRUSTED_TYPES_POLICY.createHTML!="function")throw I('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof p.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw I('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');q=p.TRUSTED_TYPES_POLICY,_e=q.createHTML("")}else q===void 0&&(q=Ur(xe,z)),q!==null&&typeof _e=="string"&&(_e=q.createHTML(""));n&&n(p),ge=p}},It=l({},["mi","mo","mn","ms","mtext"]),vt=l({},["foreignobject","desc","title","annotation-xml"]),sn=l({},["title","style","font","a","script"]),Pt=l({},[...Se,...K,...te]),kt=l({},[...j,...Ne]),on=function(p){let w=Je(p);(!w||!w.tagName)&&(w={namespaceURI:me,tagName:"template"});let S=O(p.tagName),F=O(w.tagName);return Qe[p.namespaceURI]?p.namespaceURI===ve?w.namespaceURI===ne?S==="svg":w.namespaceURI===Ie?S==="svg"&&(F==="annotation-xml"||It[F]):!!Pt[S]:p.namespaceURI===Ie?w.namespaceURI===ne?S==="math":w.namespaceURI===ve?S==="math"&&vt[F]:!!kt[S]:p.namespaceURI===ne?w.namespaceURI===ve&&!vt[F]||w.namespaceURI===Ie&&!It[F]?!1:!kt[S]&&(sn[S]||!Pt[S]):!!(we==="application/xhtml+xml"&&Qe[p.namespaceURI]):!1},se=function(p){N(D.removed,{element:p});try{p.parentNode.removeChild(p)}catch{p.remove()}},et=function(p,w){try{N(D.removed,{attribute:w.getAttributeNode(p),from:w})}catch{N(D.removed,{attribute:null,from:w})}if(w.removeAttribute(p),p==="is"&&!B[p])if(pe||De)try{se(w)}catch{}else try{w.setAttribute(p,"")}catch{}},$t=function(p){let w=null,S=null;if(Ve)p="<remove></remove>"+p;else{let Y=h(p,/^[\r\n\t ]+/);S=Y&&Y[0]}we==="application/xhtml+xml"&&me===ne&&(p='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+p+"</body></html>");let F=q?q.createHTML(p):p;if(me===ne)try{w=new Br().parseFromString(F,we)}catch{}if(!w||!w.documentElement){w=He.createDocument(me,"template",null);try{w.documentElement.innerHTML=Ze?_e:F}catch{}}let W=w.body||w.documentElement;return p&&S&&W.insertBefore($.createTextNode(S),W.childNodes[0]||null),me===ne?Vr.call(w,oe?"html":"body")[0]:oe?w.documentElement:W},Ft=function(p){return Yr.call(p.ownerDocument||p,p,Oe.SHOW_ELEMENT|Oe.SHOW_COMMENT|Oe.SHOW_TEXT|Oe.SHOW_PROCESSING_INSTRUCTION|Oe.SHOW_CDATA_SECTION,null)},an=function(p){return p instanceof Hr&&(typeof p.nodeName!="string"||typeof p.textContent!="string"||typeof p.removeChild!="function"||!(p.attributes instanceof Jr)||typeof p.removeAttribute!="function"||typeof p.setAttribute!="function"||typeof p.namespaceURI!="string"||typeof p.insertBefore!="function"||typeof p.hasChildNodes!="function")},Ut=function(p){return typeof Me=="function"&&p instanceof Me},ie=function(p,w,S){ee[p]&&y(ee[p],F=>{F.call(D,w,S,ge)})},Mt=function(p){let w=null;if(ie("beforeSanitizeElements",p,null),an(p))return se(p),!0;let S=G(p.nodeName);if(ie("uponSanitizeElement",p,{tagName:S,allowedTags:H}),p.hasChildNodes()&&!Ut(p.firstElementChild)&&C(/<[/\w]/g,p.innerHTML)&&C(/<[/\w]/g,p.textContent)||p.nodeType===7)return se(p),!0;if(!H[S]||be[S]){if(!be[S]&&Ht(S)&&(U.tagNameCheck instanceof RegExp&&C(U.tagNameCheck,S)||U.tagNameCheck instanceof Function&&U.tagNameCheck(S)))return!1;if(Ke&&!he[S]){let F=Je(p)||p.parentNode,W=Wr(p)||p.childNodes;if(W&&F){let Y=W.length;for(let X=Y-1;X>=0;--X)F.insertBefore(Gr(W[X],!0),zr(p))}}return se(p),!0}return p instanceof yt&&!on(p)||(S==="noscript"||S==="noembed"||S==="noframes")&&C(/<\/no(script|embed|frames)/i,p.innerHTML)?(se(p),!0):(ue&&p.nodeType===3&&(w=p.textContent,y([Be,Ge,ze],F=>{w=b(w,F," ")}),p.textContent!==w&&(N(D.removed,{element:p.cloneNode()}),p.textContent=w)),ie("afterSanitizeElements",p,null),!1)},Jt=function(p,w,S){if(Tt&&(w==="id"||w==="name")&&(S in $||S in ln))return!1;if(!(Ye&&!We[w]&&C(Xr,w))){if(!(bt&&C(Zr,w))){if(!B[w]||We[w]){if(!(Ht(p)&&(U.tagNameCheck instanceof RegExp&&C(U.tagNameCheck,p)||U.tagNameCheck instanceof Function&&U.tagNameCheck(p))&&(U.attributeNameCheck instanceof RegExp&&C(U.attributeNameCheck,w)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(w))||w==="is"&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&C(U.tagNameCheck,S)||U.tagNameCheck instanceof Function&&U.tagNameCheck(S))))return!1}else if(!Xe[w]){if(!C(Nt,b(S,Et,""))){if(!((w==="src"||w==="xlink:href"||w==="href")&&p!=="script"&&A(S,"data:")===0&&xt[p])){if(!(At&&!C(Qr,b(S,Et,"")))){if(S)return!1}}}}}}return!0},Ht=function(p){return p!=="annotation-xml"&&h(p,jr)},Bt=function(p){ie("beforeSanitizeAttributes",p,null);let{attributes:w}=p;if(!w)return;let S={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B},F=w.length;for(;F--;){let W=w[F],{name:Y,namespaceURI:X,value:ae}=W,Te=G(Y),Z=Y==="value"?ae:L(ae);if(S.attrName=Te,S.attrValue=Z,S.keepAttr=!0,S.forceKeepAttr=void 0,ie("uponSanitizeAttribute",p,S),Z=S.attrValue,S.forceKeepAttr||(et(Y,p),!S.keepAttr))continue;if(!wt&&C(/\/>/i,Z)){et(Y,p);continue}ue&&y([Be,Ge,ze],zt=>{Z=b(Z,zt," ")});let Gt=G(p.nodeName);if(Jt(Gt,Te,Z)){if(St&&(Te==="id"||Te==="name")&&(et(Y,p),Z=en+Z),q&&typeof xe=="object"&&typeof xe.getAttributeType=="function"&&!X)switch(xe.getAttributeType(Gt,Te)){case"TrustedHTML":{Z=q.createHTML(Z);break}case"TrustedScriptURL":{Z=q.createScriptURL(Z);break}}try{X?p.setAttributeNS(X,Y,Z):p.setAttribute(Y,Z),o(D.removed)}catch{}}}ie("afterSanitizeAttributes",p,null)},fn=function R(p){let w=null,S=Ft(p);for(ie("beforeSanitizeShadowDOM",p,null);w=S.nextNode();)ie("uponSanitizeShadowNode",w,null),!Mt(w)&&(w.content instanceof re&&R(w.content),Bt(w));ie("afterSanitizeShadowDOM",p,null)};return D.sanitize=function(R){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=null,S=null,F=null,W=null;if(Ze=!R,Ze&&(R="<!-->"),typeof R!="string"&&!Ut(R))if(typeof R.toString=="function"){if(R=R.toString(),typeof R!="string")throw I("dirty is not a string, aborting")}else throw I("toString is not a function");if(!D.isSupported)return R;if(qe||je(p),D.removed=[],typeof R=="string"&&(Ae=!1),Ae){if(R.nodeName){let ae=G(R.nodeName);if(!H[ae]||be[ae])throw I("root node is forbidden and cannot be sanitized in-place")}}else if(R instanceof Me)w=$t("<!---->"),S=w.ownerDocument.importNode(R,!0),S.nodeType===1&&S.nodeName==="BODY"||S.nodeName==="HTML"?w=S:w.appendChild(S);else{if(!pe&&!ue&&!oe&&R.indexOf("<")===-1)return q&&Re?q.createHTML(R):R;if(w=$t(R),!w)return pe?null:Re?_e:""}w&&Ve&&se(w.firstChild);let Y=Ft(Ae?R:w);for(;F=Y.nextNode();)Mt(F)||(F.content instanceof re&&fn(F.content),Bt(F));if(Ae)return R;if(pe){if(De)for(W=qr.call(w.ownerDocument);w.firstChild;)W.appendChild(w.firstChild);else W=w;return(B.shadowroot||B.shadowrootmode)&&(W=Kr.call(P,W,!0)),W}let X=oe?w.outerHTML:w.innerHTML;return oe&&H["!doctype"]&&w.ownerDocument&&w.ownerDocument.doctype&&w.ownerDocument.doctype.name&&C(ht,w.ownerDocument.doctype.name)&&(X="<!DOCTYPE "+w.ownerDocument.doctype.name+`>
`+X),ue&&y([Be,Ge,ze],ae=>{X=b(X,ae," ")}),q&&Re?q.createHTML(X):X},D.setConfig=function(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};je(R),qe=!0},D.clearConfig=function(){ge=null,qe=!1},D.isValidAttribute=function(R,p,w){ge||je({});let S=G(R),F=G(p);return Jt(S,F,w)},D.addHook=function(R,p){typeof p=="function"&&(ee[R]=ee[R]||[],N(ee[R],p))},D.removeHook=function(R){if(ee[R])return o(ee[R])},D.removeHooks=function(R){ee[R]&&(ee[R]=[])},D.removeAllHooks=function(){ee={}},D}var Mr=gt();return Mr})});var _r=fe(($n,Or)=>{var V=tt(Nr());Or.exports=class{constructor(){let t=this}escape(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(t,s=!1,r=void 0){let e=this;var n=0,f=document.createElement("ul"),a;return r!==void 0&&(a=JSON.parse(r)),f.className="DAMON-List",m(t,f),f;function m(d,y){if(typeof y!="object"||y==null||Array.isArray(y))throw new Error("Error List Item number "+n+": @param { {} } list");if(typeof d=="object"&&d!==null&&!Array.isArray(d)&&d instanceof Map&&d.constructor===Map){if(y.tagName=="UL")for(let[O,g]of d){let h=document.createElement("ul"),b=document.createElement("code"),A=document.createElement("span"),L=document.createElement("li");if(A.className="type-key",/^https?:\/\//.test(O)){let T=V.sanitize(`<a href="${O}">${O}</a>`);A.innerHTML=T}else r!==void 0&&O in a["@context"]?A.innerHTML=V.sanitize(`<a href="${a["@context"][O]["@id"]}">${O}</a>`):A.textContent=O;if(typeof g=="object"&&g!==null)if(Array.isArray(g))if(d.inlineArrays!==void 0&&d.inlineArrays.indexOf(O)>-1){b.innerHTML=A.outerHTML+": [";for(let T=0,C=g.length;T<C;T++){let I=document.createElement("span"),v=g[T];v===!0?(I.textContent="true",I.className="type-boolean"):v===!1?(I.textContent="false",I.className="type-boolean"):v===null?(I.textContent="null",I.className="type-null"):Number.isFinite(v)&&!Number.isNaN(v)?(I.textContent=v+"",I.className="type-number"):(s?/^https?:\/\//.test(v)?I.innerHTML=V.sanitize(`<a href="${v}">"${v}"</a>`):I.innerHTML=`"${v}"`:/^https?:\/\//.test(v)?I.innerHTML=V.sanitize(`<a href="${v}">"${v}"</a>`):I.textContent=`"${v}"`,I.className="type-string"),T!==0&&(b.innerHTML+=", "),b.appendChild(I)}b.innerHTML+="]",L.appendChild(b),L.appendChild(h),y.appendChild(L)}else b.innerHTML=A.outerHTML+": []",L.appendChild(b),L.appendChild(h),y.appendChild(L),m(g,h);else d.implicitMaps!==void 0&&d.implicitMaps.indexOf(O)>-1?b.innerHTML=A.outerHTML:b.innerHTML=A.outerHTML+": {}",L.appendChild(b),L.appendChild(h),y.appendChild(L),m(g,h);else{n++,b.innerHTML=A.outerHTML+": ";let T=document.createElement("span"),C=g;C===!0?(T.textContent="true",T.className="type-boolean"):C===!1?(T.textContent="false",T.className="type-boolean"):C===null?(T.textContent="null",T.className="type-null"):Number.isFinite(C)&&!Number.isNaN(C)?(T.textContent=C+"",T.className="type-number"):(s?/^https?:\/\//.test(C)?T.innerHTML=V.sanitize(`<a href="${C}">"${C}"</a>`):T.innerHTML=`"${C}"`:/^https?:\/\//.test(C)?T.innerHTML=V.sanitize(`<a href="${C}">"${C}"</a>`):T.textContent=`"${C}"`,T.className="type-string"),d.implicitNulls===void 0||d.implicitNulls.indexOf(O)==-1?b.appendChild(T):b.innerHTML=b.innerHTML.slice(0,-2),L.appendChild(b),y.appendChild(L)}}}else if(Array.isArray(d))for(var o=0,N=d.length;o<N;o++){let O=document.createElement("ul"),g=document.createElement("code"),h=document.createElement("li");if(typeof d[o]=="object"&&d[o]!==null)if(Array.isArray(d[o]))if(d.inlineArrays!==void 0&&d.inlineArrays.indexOf(o)>-1){g.innerHTML+="[";for(let b=0,A=d[o].length;b<A;b++){let L=document.createElement("span"),T=d[o][b];T===!0?(L.textContent="true",L.className="type-boolean"):T===!1?(L.textContent="false",L.className="type-boolean"):T===null?(L.textContent="null",L.className="type-null"):Number.isFinite(T)&&!Number.isNaN(T)?(L.textContent=T+"",L.className="type-number"):(s?/^https?:\/\//.test(T)?L.innerHTML=V.sanitize(`<a href="${T}">"${T}"</a>`):L.innerHTML=`"${T}"`:/^https?:\/\//.test(T)?L.innerHTML=V.sanitize(`<a href="${T}">"${T}"</a>`):L.textContent=`"${T}"`,L.className="type-string"),b!==0&&(g.innerHTML+=", "),g.appendChild(L)}g.innerHTML+="]",h.appendChild(g),h.appendChild(O),y.appendChild(h)}else g.textContent="[]",h.appendChild(g),h.appendChild(O),y.appendChild(h),m(d[o],O);else g.textContent="{}",h.appendChild(g),h.appendChild(O),y.appendChild(h),m(d[o],O);else{n++;let b=d[o];b===!0?(g.textContent="true",g.className="type-boolean"):b===!1?(g.textContent="false",g.className="type-boolean"):b===null?(g.textContent="null",g.className="type-null"):Number.isFinite(b)&&!Number.isNaN(b)?(g.textContent=b+"",g.className="type-number"):(s?/^https?:\/\//.test(b)?g.innerHTML=V.sanitize(`<a href="${b}">"${b}"</a>`):g.innerHTML=`"${b}"`:/^https?:\/\//.test(b)?g.innerHTML=V.sanitize(`<a href="${b}">"${b}"</a>`):g.textContent=`"${b}"`,g.className="type-string"),h.appendChild(g),h.appendChild(O),y.appendChild(h)}}}}mapToHtmlTable(t,s=!1){let r=this;var e=0,n=document.createElement("table"),f=document.createElement("thead"),a=document.createElement("tbody"),m=!1,d=0;if(n.className="DAMON-Table",typeof t!="object"||t==null||Array.isArray(t)||!(t instanceof Map)||t.constructor!==Map)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[y,o]of t){if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map)if(y=="0"&&!m){let N=document.createElement("tr");d=o.length;for(let[O,g]of o)if(g===null){let h=document.createElement("th");s?/^https?:\/\//.test(O)?h.innerHTML=V.sanitize(`<a href="${O}">${O}</a>`):h.innerHTML=`${O}`:/^https?:\/\//.test(O)?h.innerHTML=V.sanitize(`<a href="${O}">${O}</a>`):h.textContent=`${O}`,N.appendChild(h)}else throw new Error("Expected implicit null property, saw otherwise");f.appendChild(N),m=!0}else{if(d==0&&(d=o.length),o.length!=d)throw new Error("Error List Item number "+e+": @param { {} } list");let N=document.createElement("tr");for(let[O,g]of o)if(g===null){let h=document.createElement("td");s?/^https?:\/\//.test(O)?h.innerHTML=V.sanitize(`<a href="${O}">${O}</a>`):h.innerHTML=`${O}`:/^https?:\/\//.test(O)?h.innerHTML=V.sanitize(`<a href="${O}">${O}</a>`):h.textContent=`${O}`,N.appendChild(h)}else throw new Error("Expected implicit null property, saw otherwise");a.appendChild(N)}else if(typeof o!="object"&&y=="00"){let N=document.createElement("caption");s?N.innerHTML=o:N.textContent=o,n.appendChild(N)}else throw new Error("Error List Item number "+e+": @param { {} } list");e++}return m&&n.appendChild(f),n.appendChild(a),n}mapTreeLeavesToHtmlTable(t,s=!1){let r=this;var e=0,n=0,f=document.createElement("table"),a=document.createElement("thead"),m=document.createElement("tbody"),d=!1;if(f.className="DAMON-LeavesToTable",typeof t!="object"||t==null||Array.isArray(t)||!(t instanceof Map)||t.constructor!==Map)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[o,N]of t){if(typeof N=="object"&&!Array.isArray(N)){if(o=="head"&&!d){try{y(N,a)}catch{return}d=!0}else if(o=="body")try{y(N,m)}catch{return}}else if(typeof N!="object"&&o=="caption"){let O=document.createElement("caption");s?O.innerHTML=N:O.textContent=N,f.appendChild(O)}else throw new Error("Error List Item number "+e+": @param { {} } list");e++}return d&&f.appendChild(a),f.appendChild(m),f;function y(o,N,O=0,g=[]){if(typeof N!="object"||N==null)throw new Error("Error List Item number "+e+": @param { {} } list");if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map){if(N.tagName=="THEAD")if(Array.from(o.keys()).length==1)if(typeof o.get(Array.from(o.keys())[0])=="object"&&o.get(Array.from(o.keys())[0])!==null)e++,y(o.get(Array.from(o.keys())[0]),N,O+1,g.concat([Array.from(o.keys())[0]]));else throw new Error("Error List Item number "+e+": @param { {} } list");else throw new Error("Error List Item number "+e+": @param { {} } list");else if(N.tagName=="TBODY"){if(Array.from(o.keys()).length==0)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[h,b]of o)if(typeof b=="object"&&b!==null)e++,y(b,N,O+1,g.concat([h]));else throw new Error("Error List Item number "+e+": @param { {} } list")}}else if(Array.isArray(o)){if(N.tagName=="THEAD")if(o.length==1){e++,n=O;let h=document.createElement("tr");g.push(o[0]);for(let b=0,A=g.length;b<A;b++){let L=document.createElement("th");s?L.innerHTML=g[b]:L.textContent=g[b],h.appendChild(L)}N.appendChild(h)}else throw new Error("Error List Item number "+e+": @param { {} } list");else if(N.tagName=="TBODY")if(O==n){if(o.length==0)throw new Error("Error List Item number "+e+": @param { {} } list");for(let h=0,b=o.length;h<b;h++){e++;let A=document.createElement("tr");for(let T=0,C=g.length;T<C;T++){let I=document.createElement("td");s?I.innerHTML=g[T]:I.textContent=g[T],A.appendChild(I)}let L=document.createElement("td");s?L.innerHTML=o[h]:L.textContent=o[h],L.textContent=o[h],A.appendChild(L),N.appendChild(A)}}else throw new Error("Error List Item number "+e+": @param { {} } list")}}}htmlToJSON(t){let s=this;var r=0;if(t.firstElementChild.textContent=="{}")return s._mapToJSON(e(tree,new Map));if(t.firstElementChild.textContent=="[]")return s._mapToJSON(e(tree,[]));function e(n,f){if(typeof n!="object"||n==null||Array.isArray(n))throw new Error("Error List Item number "+r+": @param { {} } list");if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map){for(let a=0,m=n.children.length;a<m;a++)if(r++,n.children[a].tagName=="LI")if(n.children[a].firstElementChild.tagName=="CODE")if(n.children[a].firstElementChild.innerHTML.length){let d=n.children[a].firstElementChild.innerHTML.trim();if(d[d.length-1]==":"&&d.length>1){let y=n.children[a].children[1];if(y.tagName=="UL"&&y.firstElementChild.tagName=="LI"&&y.children.length==1&&y.firstElementChild.firstElementChild.tagName=="CODE"){r++;let o=y.firstElementChild.firstElementChild.textContent.trim();o=="true"?f.set(d.slice(0,-1),!0):o=="false"?f.set(d.slice(0,-1),!1):o=="null"?f.set(d.slice(0,-1),null):isFinite(o)&&!isNaN(parseFloat(o))?f.set(d.slice(0,-1),o*1):f.set(d.slice(0,-1),o)}else throw new Error("Error List Item number "+r+": not DAMON-compliant.")}else if(d[d.length-4]==":"&&d.length>4){if(d.slice(-3)==" []")if(f.set(d.slice(0,-4),[]),n.children[a].children[1].tagName=="UL")e(n.children[a].children[1],f.get(d.slice(0,-4)));else throw new Error("Error List Item number "+r+": not DAMON-compliant.");else if(d.slice(-3)==" {}")if(f.set(d.slice(0,-4),new Map),n.children[a].children[1].tagName=="UL")e(n.children[a].children[1],f.get(d.slice(0,-4)));else throw new Error("Error List Item number "+r+": not DAMON-compliant.")}else throw new Error("Error List Item number "+r+": map items need a key")}else throw new Error("Error List Item number "+r+": empty node.");else throw new Error("Error List Item number "+r+": not DAMON-compliant.")}else if(Array.isArray(f)){for(let a=0,m=n.children.length;a<m;a++)if(r++,n.children[a].tagName=="LI")if(n.children[a].firstElementChild.tagName=="CODE")if(n.children[a].firstElementChild.innerHTML.length){let d=n.children[a].firstElementChild.innerHTML.trim();if(d[d.length-1]==":"&&d.length>1)throw new Error("Error List Item number "+r+": lists can't have keys.");if(d[d.length-4]==":"&&d.length>4)throw new Error("Error List Item number "+r+": not DAMON-compliant.");if(d=="[]")if(f.push([]),n.children[a].children[1]&&n.children[a].children[1].tagName=="UL")e(n.children[a].children[1],f[f.length-1]);else throw new Error("Error List Item number "+r+": not DAMON-compliant.");else if(d=="{}")if(f.push({}),n.children[a].children[1]&&n.children[a].children[1].tagName=="UL")e(n.children[a].children[1],f[f.length-1]);else throw new Error("Error List Item number "+r+": not DAMON-compliant.");else d=="true"?f.push(!0):d=="false"?f.push(!1):d=="null"?f.push(null):isFinite(d)&&!isNaN(parseFloat(d))?f.push(d*1):f.push(d)}else throw new Error("Error List Item number "+r+": empty node.");else throw new Error("Error List Item number "+r+": not DAMON-compliant.")}else throw new Error("Error List Item number "+r+": @param { {} | [] } jsonMap");return f}}mapsDiff(t,s){let r=this;var e="";return Array.isArray(jsonMap)?e+=`- []
`:e+=`- {}
`,n(jsonMap),e.slice(0,-1);function n(f,a=1){if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map)for(let[y,o]of f)if(typeof o=="object"&&o!==null)if(Array.isArray(o)){let N=0,O=o.filter(function(g){return g===!0||g===!1?!0:g===null?(N++,!0):typeof g=="string"?!0:!!(isFinite(g)&&!isNaN(parseFloat(g))&&Number.isFinite(g*1)&&!Number.isNaN(g*1))});if(o.length==O.length&&a*4+2+o.join(", ").length+N*4<=80){let g="["+o.map(h=>JSON.stringify(h)).join(", ")+"]";e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+": "+g+`
`}else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+`: []
`,n(o,a+1)}else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+`: {}
`,n(o,a+1);else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+": ",o===!0?e+=`true
`:o===!1?e+=`false
`:o===null?e+=`null
`:Number.isFinite(o)&&!Number.isNaN(o)?e+=o+`
`:e+=`${JSON.stringify(o)}
`;else if(Array.isArray(f))for(var m=0,d=f.length;m<d;m++)if(typeof f[m]=="object"&&f[m]!==null)if(Array.isArray(f[m])){let y=0,o=f[m].filter(function(N){return N===!0||N===!1?!0:N===null?(y++,!0):typeof N=="string"?!0:!!(isFinite(N)&&!isNaN(parseFloat(N))&&Number.isFinite(N*1)&&!Number.isNaN(N*1))});if(f[m].length==o.length&&a*4+2+f[m].join(", ").length+y*4<=80){let N="["+f[m].map(O=>JSON.stringify(O)).join(", ")+"]";e+="    ".repeat(a)+"- "+N+`
`}else e+="    ".repeat(a)+`- []
`,n(f[m],a+1)}else e+="    ".repeat(a)+`- {}
`,n(f[m],a+1);else f[m]===!0?e+="    ".repeat(a)+`- true
`:f[m]===!1?e+="    ".repeat(a)+`- false
`:f[m]===null?e+="    ".repeat(a)+`- null
`:Number.isFinite(f[m])&&!Number.isNaN(f[m])?e+="    ".repeat(a)+"- "+f[m]+`
`:e+="    ".repeat(a)+`- ${JSON.stringify(f[m])}
`}}}});var wr=fe((Un,Ar)=>{var ft=tt(Er()),br=tt(_r());Ar.exports=class{constructor(t=!1){let s=this;if(this.indentation=4,[!0,!1,void 0].indexOf(t)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=t,this.damonOriginalLinesMapping=[],this.utils=new br.default}template(t){let s=this;var r=t[0];for(let n=1;n<t.length;n++)typeof arguments[n]=="string"?r+='"'+arguments[n]+'"':r+=arguments[n],r+=t[n];return s._treeToMap(s._damonToTree(r))}damonToMap(t){let s=this,r=s._damonToTree(t);return r===!0||r===!1||r===null||typeof r=="string"||typeof r=="number"?r:s._treeToMap(s._damonToTree(t))}damonToJSON(t){let s=this;return s._mapToJSON(s.damonToMap(t))}damonToSExpression(t){let s=this;return s._implicitMapToSExpression(s.damonToMap(t))}jsonToDamon(t){let s=this;return s._mapToDamon(s.jsonToMap(t))}jsonToMap(t){let s=this;var r=/\r\n/.test(t)?`\r
`:`
`,e=t.split(r);if(e=e.filter(n=>!/^ *\/\//.test(n)),e=e.filter(n=>n!=""),e=e.filter(n=>!/^[ \t]+$/.test(n)),e.length==1){if(["true","false","null"].indexOf(e[0].trim())>-1)return JSON.parse(e[0]);if(/^".*"$/.test(e[0].trim()))try{return JSON.parse(e[0].trim())}catch(n){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),n.line=1,n.language="JSON",n.type="string",n}else if(isFinite(e[0])&&!isNaN(parseFloat(e[0]))&&Number.isFinite(e[0]*1)&&!Number.isNaN(e[0]*1)){if(e[0].indexOf(0)==0&&e[0].length>1&&e[0].indexOf(".")!==1)throw new Error("Error line number 1: leading 0",{line:1,language:"DAMON"});try{return JSON.parse(e[0]*1)}catch(n){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),n.line=1,n.language="JSON",n.type="number",n}}else if(e[0]*1===1/0)try{JSON.parse(e[0]*1)}catch(n){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),n.line=1,n.language="JSON",n.type="infinity",n}else return(0,ft.parse)(t)}else return(0,ft.parse)(t)}_damonToTree(t){let s=this;if(t==="")throw new Error("Error line 1: empty string",{line:1,language:"DAMON"});if(/[\s]/.test(t)&&t.match(new RegExp(/[\s]/))[0].length==t.length)throw new Error("Error line 1: string only contains whitespace",{line:1,language:"DAMON"});var r=/\r\n/.test(t)?`\r
`:`
`,e=t.split(r),n=e.slice(0);if(e=e.filter(h=>!/^ *\/\//.test(h)),e=e.filter(h=>h!=""),e=e.filter(h=>!/^[ \t]+$/.test(h)),e.length==1){if(["true","false","null"].indexOf(e[0].trim())>-1)return JSON.parse(e[0]);if(/^".*"$/.test(e[0].trim()))try{return JSON.parse(e[0].trim())}catch(h){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),h.line=1,h.language="JSON",h.type="string",h}else if(isFinite(e[0])&&!isNaN(parseFloat(e[0]))&&Number.isFinite(e[0]*1)&&!Number.isNaN(e[0]*1)){if(e[0].indexOf(0)==0&&e[0].length>1&&e[0].indexOf(".")!==1)throw new Error("Error line number 1: leading 0",{line:1,language:"DAMON"});try{return JSON.parse(e[0]*1)}catch(h){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),h.line=1,h.language="JSON",h.type="number",h}}else if(e[0]*1===1/0)try{JSON.parse(e[0]*1)}catch(h){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),h.line=1,h.language="JSON",h.type="infinity",h}}let f=0;s.damonOriginalLinesMapping=[];for(let h=0,b=n.length;h<b;h++)e.slice(f).indexOf(n[h])>-1?s.damonOriginalLinesMapping[h]=e.slice(f).indexOf(n[h]):s.damonOriginalLinesMapping[h]=null;let a=new RegExp("^(	)+");for(let h=0,b=e.length;h<b;h++){if(a.test(e[h])){let A=e[h].match(a)[0].length;for(let L=0,T=A;L<T;L++)e[h]=e[h].replace("	"," ".repeat(s.indentation))}if(!/^ *- $/.test(e[h])&&/[ \t]+$/.test(e[h]))throw new Error("Error line "+(s.damonOriginalLinesMapping.indexOf(h)+1)+": trailing whitespace",{line:s.damonOriginalLinesMapping.indexOf(h)+1,language:"DAMON"})}let m=new RegExp("^("+" ".repeat(s.indentation)+")+");if(m.test(e[0])){let h=e[0].match(m)[0].length,b=!0;for(let A=0,L=e.length;A<L;A++)m.test(e[A])&&e[A].match(m)[0].length>=h?e[A]=e[A].slice(h):b=!1;if(!b)throw new Error("Error line 1: bad formatting",{line:1,language:"DAMON"})}else if(m.test(e[1])&&e[1].match(m)[0].length>s.indentation){let h=e[1].match(m)[0].length-s.indentation,b=!0;for(let A=1,L=e.length;A<L;A++)m.test(e[A])&&e[A].match(m)[0].length>=h?e[A]=e[A].slice(h):b=!1;if(!b)throw new Error("Error line 2: bad formatting",{line:2,language:"DAMON"})}let d=!1;if(e.length>1)for(let h=0,b=e.length;h<b;h++)h!==0&&/^- /.test(e[h])&&(d=!0);if(!/^- \{\}$/.test(e[0])&&!/^- \[\]$/.test(e[0])&&(d=!0),d){for(let h=0,b=e.length;h<b;h++)e[h]=" ".repeat(s.indentation)+e[h];e.unshift("- {}")}var y={content:e[0],level:0,id:0,children:[],headless:d},o=y;if(!/^- /.test(e[0].trimStart())||/^ +/.test(e[0])&&(e[0].match(/^ +/)[0].length%s.indentation!=0||e[0].match(/^ +/)[0].length!=s.indentation))throw new Error("Error line "+(d*1+1)+": bad formatting",{line:d*1+1,language:"DAMON"});e.shift();for(let h=0,b=e.length;h<b;h++){if(!/^- /.test(e[h].trimStart())||/^ +/.test(e[h])&&(e[h].match(/^ +/)[0].length%s.indentation!=0||h==0&&e[h].match(/^ +/)[0].length!=s.indentation||h!=0&&/^- /.test(e[h-1])&&e[h].match(/^ +/)[0].length!=s.indentation||h!=0&&!/^- /.test(e[h-1])&&e[h].match(/^ +/)[0].length>e[h-1].match(/^ +/)[0].length+s.indentation))throw new Error("Error line "+(s.damonOriginalLinesMapping.indexOf(h)+1)+": bad formatting",{line:s.damonOriginalLinesMapping.indexOf(h)+1,language:"DAMON"});let A={content:e[h].trimStart().slice(2),level:1+e[h].match(/^ +/)[0].length/s.indentation,id:"",children:[]};if(o===y)A.id=y.children.length+1,y.children.push(A);else if(o.level===A.level){var N=s._findListItemCommonDirectParent(o,y);N.level==0?A.id=N.children.length+1:A.id=N.id+"-"+(N.children.length+1),N.children.push(A)}else if(o.level>A.level){var O=s._findListItemCommonAncestor(o,y,A.level);O.level==0?A.id=O.children.length+1:A.id=O.id+"-"+(O.children.length+1),O.children.push(A)}else if(o.level<A.level){var g=s._findListItemCommonDirectParent(o,y);let L=g.children.indexOf(o),T=g.children[L].id,C=g.children[L].children.length+1;A.id=T+"-"+C,g.children[L].children.push(A)}o=A}return y}_findListItemCommonDirectParent(t,s){let r=this;if(s.children.indexOf(t)>-1)return s;var e;for(let n=s.children.length-1,f=0;n>=f;n--)if(e=r._findListItemCommonDirectParent(t,s.children[n]),e)return e}_findListItemCommonAncestor(t,s,r){let e=this;var n=e._findListItemCommonDirectParent(t,s);return n.level<r?n:e._findListItemCommonAncestor(n,s,r)}_treeToMap(t){let s=this;var r=0;if(t.content=="- {}")return e(t,new Map);if(t.content=="- []")return e(t,[]);{let a=new Map;return t.headless&&(a.headless=!0),e(t,a)}function e(a,m){if(typeof a!="object"||a==null||Array.isArray(a))throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": @param { {} } tree",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"});if(typeof m=="object"&&m!==null&&!Array.isArray(m)&&m instanceof Map&&m.constructor===Map)n(a,m);else if(Array.isArray(m))f(a,m);else throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": @param { {} | [] } jsonMap",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"});return m}function n(a,m){for(let d=0,y=a.children.length;d<y;d++)if(r++,a.children[d].content.length==0){let o;a.children[d].children.length>0?(o="implicit map key",m.set("",new Map),m.implicitMaps===void 0&&(m.implicitMaps=[]),m.implicitMaps.push(""),e(a.children[d],m.get(""))):(o="implicit null key",m.set("",null),m.implicitNulls===void 0&&(m.implicitNulls=[]),m.implicitNulls.push(""))}else{let o=a.children[d].content,N="key";try{if(/^.*: +\[/.test(o)&&o[o.length-1]=="]")if(/: +\[ *\]$/.test(o)){let O=JSON.stringify(JSON.parse(`["${o.slice(0,-1*o.match(/: +\[ *\]$/)[0].length)}"]`)[0]).slice(1,-1);m.set(O,[]),a.children[d].children.length>0&&e(a.children[d],m.get(O))}else{let O=new RegExp(/: +\[/g),g=o.slice(0,-1).split(O),h=o.match(O).concat([""]),b=g.map((C,I)=>C+h[I]),A="",L=[];for(let C=0,I=g.length;C<I;C++)try{let v;if(C==0?v=g[0]:v=b.slice(0,C).join("")+g[C],A=JSON.stringify(JSON.parse(`["${v}"]`)[0]).slice(1,-1),N="list",L=JSON.parse(`[${b.slice(C+1).join("")}]`),Array.isArray(L))break}catch{if(C==I-2)throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": invalid inline list",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"})}if(L.every(function(C){return C===!0||C===!1?!0:C===null?(nullsCounter++,!0):typeof C=="string"?!0:!!(isFinite(C)&&!isNaN(parseFloat(C))&&Number.isFinite(C*1)&&!Number.isNaN(C*1))}))m.set(A,L),m.inlineArrays===void 0&&(m.inlineArrays=[]),m.inlineArrays.push(A);else throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": no nesting in inline lists",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"});if(a.children[d].children.length>0)throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+3)+": inline lists can't have children",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+3,language:"DAMON"})}else if(/: +\{ *\}$/.test(o)){let O=JSON.stringify(JSON.parse(`["${o.slice(0,-1*o.match(/: +\{ *\}$/)[0].length)}"]`)[0]).slice(1,-1);m.set(O,new Map),e(a.children[d],m.get(O))}else{let O=!1;if(o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="true"){let g=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],h=JSON.stringify(JSON.parse(`["${o.slice(0,-1*g.length-4)}"]`)[0]).slice(1,-1);m.set(h,!0)}else if(o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="false"){let g=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],h=JSON.stringify(JSON.parse(`["${o.slice(0,-1*g.length-5)}"]`)[0]).slice(1,-1);m.set(h,!1)}else if(o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]=="null"){let g=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],h=JSON.stringify(JSON.parse(`["${o.slice(0,-1*g.length-4)}"]`)[0]).slice(1,-1);m.set(h,null)}else if(/^.*: +"/.test(o)&&o[o.length-1]=='"'){let g=o.match(new RegExp(/: +"/g));if(g.length==1){let h=JSON.stringify(JSON.parse(`["${o.split(g[0])[0]}"]`)[0]).slice(1,-1);N="string";let b=JSON.stringify(JSON.parse(`["${o.split(g[0]).slice(1).join("").slice(0,-1)}"]`)[0]).slice(1,-1);m.set(h,b)}else if(g.length==2&&/: +"$/.test(o)){let h=JSON.stringify(JSON.parse(`["${o.split(g[0])[0]}"]`)[0]).slice(1,-1);N="string";let b=JSON.stringify(JSON.parse(`["${o.split(g[0]).slice(1).join("")+": "}"]`)[0]).slice(1,-1);m.set(h,b)}else throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": unescaped double quote",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"})}else if(/^.*: /.test(o)&&isFinite(o.split(": ")[o.split(": ").length-1])&&!isNaN(parseFloat(o.split(": ")[o.split(": ").length-1]))&&Number.isFinite(o.split(": ")[o.split(": ").length-1]*1)&&!Number.isNaN(o.split(": ")[o.split(": ").length-1]*1)){let g=JSON.stringify(JSON.parse(`["${o.split(": ").slice(0,-1).join(": ")}"]`)[0]).slice(1,-1);N="number";let h=o.match(new RegExp(/: +/g)),b=h[h.length-1],A=o.split(b)[o.split(b).length-1];if(A.indexOf(0)==0&&A.length>1&&A.indexOf(".")!==1)throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": leading 0",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"});let L=JSON.stringify(JSON.parse(`[${o.split(": ")[o.split(": ").length-1]*1}]`)[0])*1;m.set(g,L)}else if(/^.*: /.test(o)&&o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]*1===1/0){let g=JSON.stringify(JSON.parse(`["${o.split(": ").slice(0,-1).join(": ")}"]`)[0]).slice(1,-1);N="infinity";let h=JSON.stringify(JSON.parse(`[${o.split(": ")[o.split(": ").length-1]*1}]`))*1}else{let g=!1,h=0;if(/\[ *\]$/.test(o)&&(g=!0,h=o.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(o)&&(g=!0,h=o.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(o)&&(g=!0,h=4),/false$/.test(o)&&(g=!0,h=5),/null$/.test(o)&&(g=!0,h=4),/".*"$/.test(o)&&(g=!0,h=o.match(new RegExp(/".*"$/g))[0].length),!g){let b="";for(let A=o.length-1;A>-1&&(b=o[A].concat(b),isFinite(b)&&!isNaN(parseFloat(b))&&Number.isFinite(b*1)&&!Number.isNaN(b*1));A--){if(!/[ \t]/.test(o[A]))break;g=!0,h=b.length}}if(g){let b=JSON.stringify(JSON.parse(`["${o.slice(0,-1*h)}"]`)[0]).slice(1,-1);if(s.pedantic)throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r))+": missing separator",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r),language:"DAMON",errorType:"pedantic"});if(/: +$/.test(b))if(O=!0,a.children[d].children.length>0){N="implicit map key";let A=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);m.set(A,new Map),m.implicitMaps===void 0&&(m.implicitMaps=[]),m.implicitMaps.push(A),e(a.children[d],m.get(A))}else{N="implicit null key";let A=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);m.set(A,null),m.implicitNulls===void 0&&(m.implicitNulls=[]),m.implicitNulls.push(A)}else throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r))+": missing separator",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r),language:"DAMON",errorType:"pedantic"})}else{let b=JSON.stringify(JSON.parse(`["${o.slice(0,-1*h)}"]`)[0]).slice(1,-1);if(s.pedantic)throw/: +$/.test(b)?new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+3)+": bad value",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r),language:"DAMON",errorType:"pedantic"}):new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r))+": missing separator",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r),language:"DAMON",errorType:"pedantic"});if(O=!0,a.children[d].children.length>0){N="implicit map key";let A=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);m.set(A,new Map),m.implicitMaps===void 0&&(m.implicitMaps=[]),m.implicitMaps.push(A),e(a.children[d],m.get(A))}else{N="implicit null key";let A=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);m.set(A,null),m.implicitNulls===void 0&&(m.implicitNulls=[]),m.implicitNulls.push(A)}}}if(!O&&a.children[d].children.length>0)throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+3)+": missing container or excess indentation",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+3,language:"DAMON"})}}catch(O){throw O.language===void 0&&(console.error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": not JSON-compliant, detailed error follows"),O.line=t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,O.language="JSON",O.type=N),O}}}function f(a,m){for(let d=0,y=a.children.length;d<y;d++)if(r++,a.children[d].content.length){let o=a.children[d].content;if(/^[ \t]*\[/.test(o)&&o[o.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(o))m.push([]),e(a.children[d],m[m.length-1]);else{let N;try{N=JSON.parse(o)}catch{throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": invalid inline lists",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,language:"JSON",type:"list"})}if(N.every(function(g){return g===!0||g===!1?!0:g===null?(nullsCounter++,!0):typeof g=="string"?!0:!!(isFinite(g)&&!isNaN(parseFloat(g))&&Number.isFinite(g*1)&&!Number.isNaN(g*1))}))m.push(N),m.inlineArrays===void 0&&(m.inlineArrays=[]),m.inlineArrays.push(d);else throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": no nesting in inline lists",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"});if(a.children[d].children.length>0)throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+3)+": inline lists can't have children",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+3,language:"DAMON"})}else if(/^[ \t]*\{\}$/.test(o))m.push(new Map),e(a.children[d],m[m.length-1]);else if(/^[ \t]*true$/.test(o))m.push(!0);else if(/^[ \t]*false$/.test(o))m.push(!1);else if(/^[ \t]*null$/.test(o))m.push(null);else if(/^[ \t]*".*"$/.test(o))try{m.push(JSON.stringify(JSON.parse(`[${o.trimStart()}]`)[0]).slice(1,-1))}catch(N){throw console.error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": not JSON-compliant, detailed error follows"),N.line=t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,N.language="JSON",N.type="string",N}else if(isFinite(o)&&!isNaN(parseFloat(o))&&Number.isFinite(o*1)&&!Number.isNaN(o*1)){if(o.indexOf(0)==0&&o.length>1&&o.indexOf(".")!==1)throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": leading 0",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"});try{m.push(JSON.stringify(JSON.parse(`[${o*1}]`)[0])*1)}catch(N){throw console.error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": not JSON-compliant, detailed error follows"),N.line=t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,N.language="JSON",N.type="number",N}}else if(o*1===1/0)try{JSON.stringify(JSON.parse(o*1))}catch(N){throw console.error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": not JSON-compliant, detailed error follows"),N.line=t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,N.language="JSON",N.type="infinity",N}else throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": list items can't have a key",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"})}else throw new Error("Error line number "+(t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2)+": empty list node",{line:t.headless*-1+s.damonOriginalLinesMapping.indexOf(r-1)+2,language:"DAMON"})}}_mapToDamon(t){let s=this;var r="";if(Array.isArray(t))r+=`- []
`;else if(typeof t=="object"&&t!==null&&t instanceof Map&&t.constructor===Map)r+=`- {}
`;else return typeof t=="string"&&(t='"'+t+'"'),t;return e(t),r.slice(0,-1);function e(n,f=1){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map)for(let[d,y]of n)if(typeof y=="object"&&y!==null)if(Array.isArray(y)){let o=0,N=y.filter(function(O){return O===!0||O===!1?!0:O===null?(o++,!0):typeof O=="string"?!0:!!(isFinite(O)&&!isNaN(parseFloat(O))&&Number.isFinite(O*1)&&!Number.isNaN(O*1))});if(y.length==N.length&&f*4+2+y.join(", ").length+o*4<=80){let O="["+y.map(function(g){return typeof g=="string"&&(g='"'+g+'"'),g}).join(", ")+"]";r+="    ".repeat(f)+"- "+d+": "+O+`
`}else r+="    ".repeat(f)+"- "+d+`: []
`,e(y,f+1)}else r+="    ".repeat(f)+"- "+d+`: {}
`,e(y,f+1);else r+="    ".repeat(f)+"- "+d+": ",y===!0?r+=`true
`:y===!1?r+=`false
`:y===null?r+=`null
`:Number.isFinite(y)&&!Number.isNaN(y)?r+=y+`
`:r+=`"${y}"
`;else if(Array.isArray(n))for(var a=0,m=n.length;a<m;a++)if(typeof n[a]=="object"&&n[a]!==null)if(Array.isArray(n[a])){let d=0,y=n[a].filter(function(o){return o===!0||o===!1?!0:o===null?(d++,!0):typeof o=="string"?!0:!!(isFinite(o)&&!isNaN(parseFloat(o))&&Number.isFinite(o*1)&&!Number.isNaN(o*1))});if(n[a].length==y.length&&f*4+2+n[a].join(", ").length+d*4<=80){let o="["+n[a].map(function(N){return typeof N=="string"&&(N='"'+N+'"'),N}).join(", ")+"]";r+="    ".repeat(f)+"- "+o+`
`}else r+="    ".repeat(f)+`- []
`,e(n[a],f+1)}else r+="    ".repeat(f)+`- {}
`,e(n[a],f+1);else n[a]===!0?r+="    ".repeat(f)+`- true
`:n[a]===!1?r+="    ".repeat(f)+`- false
`:n[a]===null?r+="    ".repeat(f)+`- null
`:Number.isFinite(n[a])&&!Number.isNaN(n[a])?r+="    ".repeat(f)+"- "+n[a]+`
`:r+="    ".repeat(f)+`- "${n[a]}"
`}}_mapToJSON(t){let s=this;var r="";if(Array.isArray(t))return r+=`[\r
`,e(t),r+="]",r;return typeof t=="object"&&t!==null&&t instanceof Map&&t.constructor===Map?(r+=`{\r
`,e(t),r+="}",r):(typeof t=="string"&&(t='"'+t+'"'),t);function e(n,f=1){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map)for(let[d,y]of n)typeof y=="object"&&y!==null?Array.isArray(y)?y.length>0?(r+="    ".repeat(f)+`"${d}": [\r
`,e(y,f+1),r+="    ".repeat(f)+"]"):r+="    ".repeat(f)+`"${d}": []`:Array.from(y.keys()).length>0?(r+="    ".repeat(f)+`"${d}": {\r
`,e(y,f+1),r+="    ".repeat(f)+"}"):r+="    ".repeat(f)+`"${d}": {}`:y===!0?r+="    ".repeat(f)+`"${d}": true`:y===!1?r+="    ".repeat(f)+`"${d}": false`:y===null?r+="    ".repeat(f)+`"${d}": null`:Number.isFinite(y)&&!Number.isNaN(y)?r+="    ".repeat(f)+`"${d}": `+y:r+="    ".repeat(f)+`"${d}": "${y}"`,d!=Array.from(n.keys())[Array.from(n.keys()).length-1]?r+=`,\r
`:r+=`\r
`;else if(Array.isArray(n))for(var a=0,m=n.length;a<m;a++)typeof n[a]=="object"&&n[a]!==null?Array.isArray(n[a])?n[a].length>0?(r+="    ".repeat(f)+`[\r
`,e(n[a],f+1),r+="    ".repeat(f)+"]"):r+="    ".repeat(f)+"[]":Array.from(n[a].keys()).length>0?(r+="    ".repeat(f)+`{\r
`,e(n[a],f+1),r+="    ".repeat(f)+"}"):r+="    ".repeat(f)+"{}":n[a]===!0?r+="    ".repeat(f)+"true":n[a]===!1?r+="    ".repeat(f)+"false":n[a]===null?r+="    ".repeat(f)+"null":Number.isFinite(n[a])&&!Number.isNaN(n[a])?r+="    ".repeat(f)+n[a]:r+="    ".repeat(f)+`"${n[a]}"`,a!=m-1?r+=`,\r
`:r+=`\r
`}}_implicitMapToSExpression(t){let s=this;var r="";if(typeof t=="object"&&t!==null&&t instanceof Map&&t.constructor===Map)return r+=`[\r
`,e(t),r+="]",r;return typeof t=="string"&&(t='"'+t+'"'),t;function e(n,f=1){if(typeof n=="object"&&n!==null&&!Array.isArray(n)&&n instanceof Map&&n.constructor===Map){let d=-1;for(let[y,o]of n){if(d++,typeof o=="object"&&o!==null)if(Array.isArray(o))o.length>0?(r+="    ".repeat(f)+`"${y}", [\r
`,e(o,f+1),r+="    ".repeat(f)+"]"):r+="    ".repeat(f)+`"${y}", []`;else if(Array.from(o.keys()).length>0){if(f==1)if(d==0)r="";else throw new Error("Multiple S-Expression roots");r+="    ".repeat(f)+`["${y}", \r
`,e(o,f+1),f!=1&&(r+="    ".repeat(f)+"]")}else r+="    ".repeat(f)+`"${y}", []`;else{if(o===!0)throw new Error("Booleans require quotes");if(o===!1)throw new Error("Booleans require quotes");o===null?r+="    ".repeat(f)+`"${y}"`:Number.isFinite(o)&&!Number.isNaN(o)?r+="    ".repeat(f)+`"${y}", `+o:r+="    ".repeat(f)+`"${y}", "${o}"`}y!=Array.from(n.keys())[Array.from(n.keys()).length-1]?r+=`,\r
`:r+=`\r
`}}else if(Array.isArray(n))for(var a=0,m=n.length;a<m;a++){if(typeof n[a]=="object"&&n[a]!==null)Array.isArray(n[a])?n[a].length>0?(r+="    ".repeat(f)+`[\r
`,e(n[a],f+1),r+="    ".repeat(f)+"]"):r+="    ".repeat(f)+"[]":Array.from(n[a].keys()).length>0?(r+="    ".repeat(f)+`[\r
`,e(n[a],f+1),r+="    ".repeat(f)+"]"):r+="    ".repeat(f)+"[]";else{if(n[a]===!0)throw new Error("Booleans require quotes");if(n[a]===!1)throw new Error("Booleans require quotes");if(n[a]===null)throw new Error("Array-nulls require quotes");Number.isFinite(n[a])&&!Number.isNaN(n[a])?r+="    ".repeat(f)+n[a]:r+="    ".repeat(f)+`"${n[a]}"`}a!=m-1?r+=`,\r
`:r+=`\r
`}}}}});var Tr=fe((Mn,Cn)=>{Cn.exports={key:': "key'}});var xr=fe(()=>{var Jn=Tr(),J=new Damon,le=`- {}
    - key0: null
    - k\\ney1: []
        - []
            - {}
            - [1, 1, 1]
            - "abc"
    - 1: {}
        - key: 1
        - othe: \\"rKey: ": \\"1e10"
    - More_complex_case: {}
        - key: ["1e10", "abc"]
    - list: []
        - {}
        - {}`,Dn=`- {}
    - 00: "Caption"
    - 0: {}
        - heading1
        - heading2
        - heading3
    - 1: {}
        - A
        - B
        - C
    - 2: {}
        - A
        - B
        - C`;console.log(le);console.log(J._mapToDamon(J.damonToMap(le))==le);console.log(J.damonToJSON(le));console.log(JSON.stringify(JSON.parse(J.damonToJSON(le))));console.log(J.jsonToDamon(J.damonToJSON(le)));console.log(J.jsonToDamon(J.damonToJSON(le))==le);console.log(J.utils.mapToHtmlList(J.damonToMap(le)));var Rn="1e10";console.log(J.template`- {}
    - k\\ney0: null
    - key1: []
        - []
            - {}
    - 1: {}
        - key: 1
        - otherKey: ${Rn}
    - More_complex_case: {}
        - key: []
            - "1e10"
            - "abc"`);console.log(J.utils.mapToHtmlTable(J.damonToMap(Dn)));var Sr=`- Divide: {}
    - n
    - Add: {}
        - 1
        - n`;console.log(J._implicitMapToSExpression(J.damonToMap(Sr)));console.log(JSON.parse(J._implicitMapToSExpression(J.damonToMap(Sr))));var Lr=`    "test\\t"    
     
`;console.log(J.jsonToDamon(Lr));console.log(J.damonToJSON(Lr))});(function(){window.Damon=wr(),tests=xr()})();})();
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.0.11 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.11/LICENSE *)
*/
