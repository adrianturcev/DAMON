(()=>{var nr=Object.create;var Re=Object.defineProperty;var rr=Object.getOwnPropertyDescriptor;var ir=Object.getOwnPropertyNames;var lr=Object.getPrototypeOf,sr=Object.prototype.hasOwnProperty;var ar=(o=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(o,{get:(n,i)=>(typeof require<"u"?require:n)[i]}):o)(function(o){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+o+'" is not supported')});var or=(o,n)=>()=>(o&&(n=o(o=0)),n);var Ne=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports),fr=(o,n)=>{for(var i in n)Re(o,i,{get:n[i],enumerable:!0})},Ht=(o,n,i,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let e of ir(n))!sr.call(o,e)&&e!==i&&Re(o,e,{get:()=>n[e],enumerable:!(t=rr(n,e))||t.enumerable});return o};var Ze=(o,n,i)=>(i=o!=null?nr(lr(o)):{},Ht(n||!o||!o.__esModule?Re(i,"default",{value:o,enumerable:!0}):i,o)),cr=o=>Ht(Re({},"__esModule",{value:!0}),o);var cn={};fr(cn,{__addDisposableResource:()=>on,__assign:()=>De,__asyncDelegator:()=>jt,__asyncGenerator:()=>Qt,__asyncValues:()=>en,__await:()=>pe,__awaiter:()=>Yt,__classPrivateFieldGet:()=>ln,__classPrivateFieldIn:()=>an,__classPrivateFieldSet:()=>sn,__createBinding:()=>ve,__decorate:()=>Gt,__disposeResources:()=>fn,__esDecorate:()=>ur,__exportStar:()=>Vt,__extends:()=>Bt,__generator:()=>qt,__importDefault:()=>rn,__importStar:()=>nn,__makeTemplateObject:()=>tn,__metadata:()=>Wt,__param:()=>zt,__propKey:()=>dr,__read:()=>je,__rest:()=>Jt,__runInitializers:()=>pr,__setFunctionName:()=>hr,__spread:()=>Kt,__spreadArray:()=>Zt,__spreadArrays:()=>Xt,__values:()=>Ie,default:()=>yr});function Bt(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Qe(o,n);function i(){this.constructor=o}o.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function Jt(o,n){var i={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&n.indexOf(t)<0&&(i[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,t=Object.getOwnPropertySymbols(o);e<t.length;e++)n.indexOf(t[e])<0&&Object.prototype.propertyIsEnumerable.call(o,t[e])&&(i[t[e]]=o[t[e]]);return i}function Gt(o,n,i,t){var e=arguments.length,l=e<3?n:t===null?t=Object.getOwnPropertyDescriptor(n,i):t,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(o,n,i,t);else for(var s=o.length-1;s>=0;s--)(f=o[s])&&(l=(e<3?f(l):e>3?f(n,i,l):f(n,i))||l);return e>3&&l&&Object.defineProperty(n,i,l),l}function zt(o,n){return function(i,t){n(i,t,o)}}function ur(o,n,i,t,e,l){function f(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var s=t.kind,d=s==="getter"?"get":s==="setter"?"set":"value",u=!n&&o?t.static?o:o.prototype:null,m=n||(u?Object.getOwnPropertyDescriptor(u,t.name):{}),a,_=!1,y=i.length-1;y>=0;y--){var h={};for(var p in t)h[p]=p==="access"?{}:t[p];for(var p in t.access)h.access[p]=t.access[p];h.addInitializer=function(b){if(_)throw new TypeError("Cannot add initializers after decoration has completed");l.push(f(b||null))};var O=(0,i[y])(s==="accessor"?{get:m.get,set:m.set}:m[d],h);if(s==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(a=f(O.get))&&(m.get=a),(a=f(O.set))&&(m.set=a),(a=f(O.init))&&e.unshift(a)}else(a=f(O))&&(s==="field"?e.unshift(a):m[d]=a)}u&&Object.defineProperty(u,t.name,m),_=!0}function pr(o,n,i){for(var t=arguments.length>2,e=0;e<n.length;e++)i=t?n[e].call(o,i):n[e].call(o);return t?i:void 0}function dr(o){return typeof o=="symbol"?o:"".concat(o)}function hr(o,n,i){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(o,"name",{configurable:!0,value:i?"".concat(i," ",n):n})}function Wt(o,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(o,n)}function Yt(o,n,i,t){function e(l){return l instanceof i?l:new i(function(f){f(l)})}return new(i||(i=Promise))(function(l,f){function s(m){try{u(t.next(m))}catch(a){f(a)}}function d(m){try{u(t.throw(m))}catch(a){f(a)}}function u(m){m.done?l(m.value):e(m.value).then(s,d)}u((t=t.apply(o,n||[])).next())})}function qt(o,n){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},t,e,l,f;return f={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function s(u){return function(m){return d([u,m])}}function d(u){if(t)throw new TypeError("Generator is already executing.");for(;f&&(f=0,u[0]&&(i=0)),i;)try{if(t=1,e&&(l=u[0]&2?e.return:u[0]?e.throw||((l=e.return)&&l.call(e),0):e.next)&&!(l=l.call(e,u[1])).done)return l;switch(e=0,l&&(u=[u[0]&2,l.value]),u[0]){case 0:case 1:l=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,e=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!l||u[1]>l[0]&&u[1]<l[3])){i.label=u[1];break}if(u[0]===6&&i.label<l[1]){i.label=l[1],l=u;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(u);break}l[2]&&i.ops.pop(),i.trys.pop();continue}u=n.call(o,i)}catch(m){u=[6,m],e=0}finally{t=l=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Vt(o,n){for(var i in o)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&ve(n,o,i)}function Ie(o){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&o[n],t=0;if(i)return i.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&t>=o.length&&(o=void 0),{value:o&&o[t++],done:!o}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function je(o,n){var i=typeof Symbol=="function"&&o[Symbol.iterator];if(!i)return o;var t=i.call(o),e,l=[],f;try{for(;(n===void 0||n-- >0)&&!(e=t.next()).done;)l.push(e.value)}catch(s){f={error:s}}finally{try{e&&!e.done&&(i=t.return)&&i.call(t)}finally{if(f)throw f.error}}return l}function Kt(){for(var o=[],n=0;n<arguments.length;n++)o=o.concat(je(arguments[n]));return o}function Xt(){for(var o=0,n=0,i=arguments.length;n<i;n++)o+=arguments[n].length;for(var t=Array(o),e=0,n=0;n<i;n++)for(var l=arguments[n],f=0,s=l.length;f<s;f++,e++)t[e]=l[f];return t}function Zt(o,n,i){if(i||arguments.length===2)for(var t=0,e=n.length,l;t<e;t++)(l||!(t in n))&&(l||(l=Array.prototype.slice.call(n,0,t)),l[t]=n[t]);return o.concat(l||Array.prototype.slice.call(n))}function pe(o){return this instanceof pe?(this.v=o,this):new pe(o)}function Qt(o,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i.apply(o,n||[]),e,l=[];return e={},f("next"),f("throw"),f("return"),e[Symbol.asyncIterator]=function(){return this},e;function f(_){t[_]&&(e[_]=function(y){return new Promise(function(h,p){l.push([_,y,h,p])>1||s(_,y)})})}function s(_,y){try{d(t[_](y))}catch(h){a(l[0][3],h)}}function d(_){_.value instanceof pe?Promise.resolve(_.value.v).then(u,m):a(l[0][2],_)}function u(_){s("next",_)}function m(_){s("throw",_)}function a(_,y){_(y),l.shift(),l.length&&s(l[0][0],l[0][1])}}function jt(o){var n,i;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n;function t(e,l){n[e]=o[e]?function(f){return(i=!i)?{value:pe(o[e](f)),done:!1}:l?l(f):f}:l}}function en(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=o[Symbol.asyncIterator],i;return n?n.call(o):(o=typeof Ie=="function"?Ie(o):o[Symbol.iterator](),i={},t("next"),t("throw"),t("return"),i[Symbol.asyncIterator]=function(){return this},i);function t(l){i[l]=o[l]&&function(f){return new Promise(function(s,d){f=o[l](f),e(s,d,f.done,f.value)})}}function e(l,f,s,d){Promise.resolve(d).then(function(u){l({value:u,done:s})},f)}}function tn(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o}function nn(o){if(o&&o.__esModule)return o;var n={};if(o!=null)for(var i in o)i!=="default"&&Object.prototype.hasOwnProperty.call(o,i)&&ve(n,o,i);return mr(n,o),n}function rn(o){return o&&o.__esModule?o:{default:o}}function ln(o,n,i,t){if(i==="a"&&!t)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?o!==n||!t:!n.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?t:i==="a"?t.call(o):t?t.value:n.get(o)}function sn(o,n,i,t,e){if(t==="m")throw new TypeError("Private method is not writable");if(t==="a"&&!e)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?o!==n||!e:!n.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t==="a"?e.call(o,i):e?e.value=i:n.set(o,i),i}function an(o,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof o=="function"?n===o:o.has(n)}function on(o,n,i){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var t;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");t=n[Symbol.asyncDispose]}if(t===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");t=n[Symbol.dispose]}if(typeof t!="function")throw new TypeError("Object not disposable.");o.stack.push({value:n,dispose:t,async:i})}else i&&o.stack.push({async:!0});return n}function fn(o){function n(t){o.error=o.hasError?new gr(t,o.error,"An error was suppressed during disposal."):t,o.hasError=!0}function i(){for(;o.stack.length;){var t=o.stack.pop();try{var e=t.dispose&&t.dispose.call(t.value);if(t.async)return Promise.resolve(e).then(i,function(l){return n(l),i()})}catch(l){n(l)}}if(o.hasError)throw o.error}return i()}var Qe,De,ve,mr,gr,yr,un=or(()=>{Qe=function(o,n){return Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,t){i.__proto__=t}||function(i,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])},Qe(o,n)};De=function(){return De=Object.assign||function(n){for(var i,t=1,e=arguments.length;t<e;t++){i=arguments[t];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},De.apply(this,arguments)};ve=Object.create?function(o,n,i,t){t===void 0&&(t=i);var e=Object.getOwnPropertyDescriptor(n,i);(!e||("get"in e?!n.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(o,t,e)}:function(o,n,i,t){t===void 0&&(t=i),o[t]=n[i]};mr=Object.create?function(o,n){Object.defineProperty(o,"default",{enumerable:!0,value:n})}:function(o,n){o.default=n};gr=typeof SuppressedError=="function"?SuppressedError:function(o,n,i){var t=new Error(i);return t.name="SuppressedError",t.error=o,t.suppressed=n,t};yr={__extends:Bt,__assign:De,__rest:Jt,__decorate:Gt,__param:zt,__metadata:Wt,__awaiter:Yt,__generator:qt,__createBinding:ve,__exportStar:Vt,__values:Ie,__read:je,__spread:Kt,__spreadArrays:Xt,__spreadArray:Zt,__await:pe,__asyncGenerator:Qt,__asyncDelegator:jt,__asyncValues:en,__makeTemplateObject:tn,__importStar:nn,__importDefault:rn,__classPrivateFieldGet:ln,__classPrivateFieldSet:sn,__classPrivateFieldIn:an,__addDisposableResource:on,__disposeResources:fn}});var pn=Ne(et=>{(function(o){"use strict";var n=typeof process=="object"&&process.env?process.env:self;o.parser=function(g){return new a(g)},o.CParser=a,o.CStream=y,o.createStream=_,o.MAX_BUFFER_LENGTH=64*1024,o.DEBUG=n.CDEBUG==="debug",o.INFO=n.CDEBUG==="debug"||n.CDEBUG==="info",o.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var i={textNode:void 0,numberNode:""},t=o.EVENTS.filter(function(g){return g!=="error"&&g!=="end"}),e=0,l;o.STATE={BEGIN:e++,VALUE:e++,OPEN_OBJECT:e++,CLOSE_OBJECT:e++,OPEN_ARRAY:e++,CLOSE_ARRAY:e++,TEXT_ESCAPE:e++,STRING:e++,BACKSLASH:e++,END:e++,OPEN_KEY:e++,CLOSE_KEY:e++,TRUE:e++,TRUE2:e++,TRUE3:e++,FALSE:e++,FALSE2:e++,FALSE3:e++,FALSE4:e++,NULL:e++,NULL2:e++,NULL3:e++,NUMBER_DECIMAL_POINT:e++,NUMBER_DIGIT:e++};for(var f in o.STATE)o.STATE[o.STATE[f]]=f;e=o.STATE;let s={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(g){function r(){this.__proto__=g}return r.prototype=g,new r}),Object.getPrototypeOf||(Object.getPrototypeOf=function(g){return g.__proto__}),Object.keys||(Object.keys=function(g){var r=[];for(var x in g)g.hasOwnProperty(x)&&r.push(x);return r});function d(g){var r=Math.max(o.MAX_BUFFER_LENGTH,10),x=0;for(var E in i){var $=g[E]===void 0?0:g[E].length;if($>r)switch(E){case"text":closeText(g);break;default:A(g,"Max buffer length exceeded: "+E)}x=Math.max(x,$)}g.bufferCheckPosition=o.MAX_BUFFER_LENGTH-x+g.position}function u(g){for(var r in i)g[r]=i[r]}var m=/[\\"\n]/g;function a(g){if(!(this instanceof a))return new a(g);var r=this;u(r),r.bufferCheckPosition=o.MAX_BUFFER_LENGTH,r.q=r.c=r.p="",r.opt=g||{},r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.state=e.BEGIN,r.stack=new Array,r.position=r.column=0,r.line=1,r.slashed=!1,r.unicodeI=0,r.unicodeS=null,r.depth=0,h(r,"onready")}a.prototype={end:function(){T(this)},write:D,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{l=ar("stream").Stream}catch{l=function(){}}function _(g){return new y(g)}function y(g){if(!(this instanceof y))return new y(g);this._parser=new a(g),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var r=this;l.apply(r),this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(x){r.emit("error",x),r._parser.error=null},t.forEach(function(x){Object.defineProperty(r,"on"+x,{get:function(){return r._parser["on"+x]},set:function(E){if(!E)return r.removeAllListeners(x),r._parser["on"+x]=E,E;r.on(x,E)},enumerable:!0,configurable:!1})})}y.prototype=Object.create(l.prototype,{constructor:{value:y}}),y.prototype.write=function(g){g=new Buffer(g);for(var r=0;r<g.length;r++){var x=g[r];if(this.bytes_remaining>0){for(var E=0;E<this.bytes_remaining;E++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+E]=g[E];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,r=r+E-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&x>=128)if(x>=194&&x<=223&&(this.bytes_in_sequence=2),x>=224&&x<=239&&(this.bytes_in_sequence=3),x>=240&&x<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>g.length){for(var $=0;$<=g.length-1-r;$++)this.temp_buffs[this.bytes_in_sequence][$]=g[r+$];return this.bytes_remaining=r+this.bytes_in_sequence-g.length,!0}else{this.string=g.slice(r,r+this.bytes_in_sequence).toString(),r=r+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var K=r;K<g.length&&!(g[K]>=128);K++);this.string=g.slice(r,K).toString(),this._parser.write(this.string),this.emit("data",this.string),r=K-1}},y.prototype.end=function(g){return g&&g.length&&this._parser.write(g.toString()),this._parser.end(),!0},y.prototype.on=function(g,r){var x=this;return!x._parser["on"+g]&&t.indexOf(g)!==-1&&(x._parser["on"+g]=function(){var E=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);E.splice(0,0,g),x.emit.apply(x,E)}),l.prototype.on.call(x,g,r)},y.prototype.destroy=function(){u(this._parser),this.emit("close")};function h(g,r,x){o.INFO&&console.log("-- emit",r,x),g[r]&&g[r](x)}function p(g,r,x){O(g),h(g,r,x)}function O(g,r){g.textNode=L(g.opt,g.textNode),g.textNode!==void 0&&h(g,r||"onvalue",g.textNode),g.textNode=void 0}function b(g){g.numberNode&&h(g,"onvalue",parseFloat(g.numberNode)),g.numberNode=""}function L(g,r){return r===void 0||(g.trim&&(r=r.trim()),g.normalize&&(r=r.replace(/\s+/g," "))),r}function A(g,r){return O(g),r+=`
Line: `+g.line+`
Column: `+g.column+`
Char: `+g.c,r=new Error(r),g.error=r,h(g,"onerror",r),g}function T(g){return(g.state!==e.VALUE||g.depth!==0)&&A(g,"Unexpected end"),O(g),g.c="",g.closed=!0,h(g,"onend"),a.call(g,g.opt),g}function R(g){return g===s.carriageReturn||g===s.lineFeed||g===s.space||g===s.tab}function D(g){var r=this;if(this.error)throw this.error;if(r.closed)return A(r,"Cannot write after close. Assign an onready handler.");if(g===null)return T(r);var x=0,E=g.charCodeAt(0),$=r.p,K=!1;for(o.DEBUG&&console.log("write -> ["+g+"]");E&&($=E,r.c=E=g.charCodeAt(x++),$!==E?r.p=$:$=r.p,!!E);)switch(o.DEBUG&&console.log(x,E,o.STATE[r.state]),K?K=!1:(r.position++,E===s.lineFeed?(r.line++,r.column=0):r.column++),r.state){case e.BEGIN:E===s.openBrace?r.state=e.OPEN_OBJECT:E===s.openBracket?r.state=e.OPEN_ARRAY:R(E)||A(r,"Non-whitespace before {[.");continue;case e.OPEN_KEY:case e.OPEN_OBJECT:if(R(E))continue;if(r.state===e.OPEN_KEY)r.stack.push(e.CLOSE_KEY);else if(E===s.closeBrace){h(r,"onopenobject"),this.depth++,h(r,"oncloseobject"),this.depth--,r.state=r.stack.pop()||e.VALUE;continue}else r.stack.push(e.CLOSE_OBJECT);E===s.doubleQuote?r.state=e.STRING:A(r,'Malformed object key should start with "');continue;case e.CLOSE_KEY:case e.CLOSE_OBJECT:if(R(E))continue;var be=r.state===e.CLOSE_KEY?"key":"object";E===s.colon?(r.state===e.CLOSE_OBJECT?(r.stack.push(e.CLOSE_OBJECT),O(r,"onopenobject"),this.depth++):O(r,"onkey"),r.state=e.VALUE):E===s.closeBrace?(p(r,"oncloseobject"),this.depth--,r.state=r.stack.pop()||e.VALUE):E===s.comma?(r.state===e.CLOSE_OBJECT&&r.stack.push(e.CLOSE_OBJECT),O(r),r.state=e.OPEN_KEY):A(r,"Bad object");continue;case e.OPEN_ARRAY:case e.VALUE:if(R(E))continue;if(r.state===e.OPEN_ARRAY)if(h(r,"onopenarray"),this.depth++,r.state=e.VALUE,E===s.closeBracket){h(r,"onclosearray"),this.depth--,r.state=r.stack.pop()||e.VALUE;continue}else r.stack.push(e.CLOSE_ARRAY);E===s.doubleQuote?r.state=e.STRING:E===s.openBrace?r.state=e.OPEN_OBJECT:E===s.openBracket?r.state=e.OPEN_ARRAY:E===s.t?r.state=e.TRUE:E===s.f?r.state=e.FALSE:E===s.n?r.state=e.NULL:E===s.minus?r.numberNode+="-":s._0<=E&&E<=s._9?(r.numberNode+=String.fromCharCode(E),r.state=e.NUMBER_DIGIT):A(r,"Bad value");continue;case e.CLOSE_ARRAY:if(E===s.comma)r.stack.push(e.CLOSE_ARRAY),O(r,"onvalue"),r.state=e.VALUE;else if(E===s.closeBracket)p(r,"onclosearray"),this.depth--,r.state=r.stack.pop()||e.VALUE;else{if(R(E))continue;A(r,"Bad array")}continue;case e.STRING:r.textNode===void 0&&(r.textNode="");var Y=x-1,Q=r.slashed,X=r.unicodeI;e:for(;;){for(o.DEBUG&&console.log(x,E,o.STATE[r.state],Q);X>0;)if(r.unicodeS+=String.fromCharCode(E),E=g.charCodeAt(x++),r.position++,X===4?(r.textNode+=String.fromCharCode(parseInt(r.unicodeS,16)),X=0,Y=x-1):X++,!E)break e;if(E===s.doubleQuote&&!Q){r.state=r.stack.pop()||e.VALUE,r.textNode+=g.substring(Y,x-1),r.position+=x-1-Y;break}if(E===s.backslash&&!Q&&(Q=!0,r.textNode+=g.substring(Y,x-1),r.position+=x-1-Y,E=g.charCodeAt(x++),r.position++,!E))break;if(Q){if(Q=!1,E===s.n?r.textNode+=`
`:E===s.r?r.textNode+="\r":E===s.t?r.textNode+="	":E===s.f?r.textNode+="\f":E===s.b?r.textNode+="\b":E===s.u?(X=1,r.unicodeS=""):r.textNode+=String.fromCharCode(E),E=g.charCodeAt(x++),r.position++,Y=x-1,E)continue;break}m.lastIndex=x;var he=m.exec(g);if(he===null){x=g.length+1,r.textNode+=g.substring(Y,x-1),r.position+=x-1-Y;break}if(x=he.index+1,E=g.charCodeAt(he.index),!E){r.textNode+=g.substring(Y,x-1),r.position+=x-1-Y;break}}r.slashed=Q,r.unicodeI=X;continue;case e.TRUE:E===s.r?r.state=e.TRUE2:A(r,"Invalid true started with t"+E);continue;case e.TRUE2:E===s.u?r.state=e.TRUE3:A(r,"Invalid true started with tr"+E);continue;case e.TRUE3:E===s.e?(h(r,"onvalue",!0),r.state=r.stack.pop()||e.VALUE):A(r,"Invalid true started with tru"+E);continue;case e.FALSE:E===s.a?r.state=e.FALSE2:A(r,"Invalid false started with f"+E);continue;case e.FALSE2:E===s.l?r.state=e.FALSE3:A(r,"Invalid false started with fa"+E);continue;case e.FALSE3:E===s.s?r.state=e.FALSE4:A(r,"Invalid false started with fal"+E);continue;case e.FALSE4:E===s.e?(h(r,"onvalue",!1),r.state=r.stack.pop()||e.VALUE):A(r,"Invalid false started with fals"+E);continue;case e.NULL:E===s.u?r.state=e.NULL2:A(r,"Invalid null started with n"+E);continue;case e.NULL2:E===s.l?r.state=e.NULL3:A(r,"Invalid null started with nu"+E);continue;case e.NULL3:E===s.l?(h(r,"onvalue",null),r.state=r.stack.pop()||e.VALUE):A(r,"Invalid null started with nul"+E);continue;case e.NUMBER_DECIMAL_POINT:E===s.period?(r.numberNode+=".",r.state=e.NUMBER_DIGIT):A(r,"Leading zero not followed by .");continue;case e.NUMBER_DIGIT:s._0<=E&&E<=s._9?r.numberNode+=String.fromCharCode(E):E===s.period?(r.numberNode.indexOf(".")!==-1&&A(r,"Invalid number has two dots"),r.numberNode+="."):E===s.e||E===s.E?((r.numberNode.indexOf("e")!==-1||r.numberNode.indexOf("E")!==-1)&&A(r,"Invalid number has two exponential"),r.numberNode+="e"):E===s.plus||E===s.minus?($===s.e||$===s.E||A(r,"Invalid symbol in number"),r.numberNode+=String.fromCharCode(E)):(b(r),x--,K=!0,r.state=r.stack.pop()||e.VALUE);continue;default:A(r,"Unknown state: "+r.state)}return r.position>=r.bufferCheckPosition&&d(r),r}})(typeof et>"u"?clarinet={}:et)});var hn=Ne(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.stringify=de.parse=void 0;var Er=(un(),cr(cn)),Or=Er.__importDefault(pn());function _r(o){let n=nt(),i,t;function e(f){try{let s=n.next(f);s.done&&(i=s.value)}catch(s){t=s}}let l=Or.default.parser();if(l.onopenobject=f=>e({type:"openobject",key:f}),l.onopenarray=()=>e({type:"openarray"}),l.onkey=f=>e({type:"key",key:f}),l.onvalue=f=>e({type:"value",value:f}),l.oncloseobject=()=>e({type:"closeobject"}),l.onclosearray=()=>e({type:"closearray"}),l.onerror=f=>e({type:"error",err:f}),n.next(),l.write(o).close(),t)throw t;return i}de.parse=_r;function tt(o){return Array.isArray(o)?`[${o.map(tt).join(",")}]`:o instanceof Map?`{${[...o].map(([n,i])=>JSON.stringify(n)+":"+tt(i)).join(",")}}`:JSON.stringify(o)}de.stringify=tt;var dn=Symbol();function*nt(){let o=yield;switch(o.type){case"value":return o.value;case"openobject":let n=new Map,i=o.key;for(i===void 0&&(yield);i!==void 0;)n.set(i,yield*nt()),i=(yield).key;return n;case"openarray":let t=[],e;for(;;){if(e=yield*nt(),e===dn)return t;t.push(e)}case"closearray":return dn;case"error":throw o.err;default:throw Error(`Unexpected ParseEvent ${o.type}`)}}});var mn=Ne((rt,it)=>{(function(o,n){typeof rt=="object"&&typeof it<"u"?it.exports=n():typeof define=="function"&&define.amd?define(n):(o=typeof globalThis<"u"?globalThis:o||self,o.DOMPurify=n())})(rt,function(){"use strict";let{entries:o,setPrototypeOf:n,isFrozen:i,getPrototypeOf:t,getOwnPropertyDescriptor:e}=Object,{freeze:l,seal:f,create:s}=Object,{apply:d,construct:u}=typeof Reflect<"u"&&Reflect;l||(l=function(S){return S}),f||(f=function(S){return S}),d||(d=function(S,P,I){return S.apply(P,I)}),u||(u=function(S,P){return new S(...P)});let m=D(Array.prototype.forEach),a=D(Array.prototype.pop),_=D(Array.prototype.push),y=D(String.prototype.toLowerCase),h=D(String.prototype.toString),p=D(String.prototype.match),O=D(String.prototype.replace),b=D(String.prototype.indexOf),L=D(String.prototype.trim),A=D(Object.prototype.hasOwnProperty),T=D(RegExp.prototype.test),R=g(TypeError);function D(v){return function(S){for(var P=arguments.length,I=new Array(P>1?P-1:0),B=1;B<P;B++)I[B-1]=arguments[B];return d(v,S,I)}}function g(v){return function(){for(var S=arguments.length,P=new Array(S),I=0;I<S;I++)P[I]=arguments[I];return u(v,P)}}function r(v,S){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y;n&&n(v,null);let I=S.length;for(;I--;){let B=S[I];if(typeof B=="string"){let j=P(B);j!==B&&(i(S)||(S[I]=j),B=j)}v[B]=!0}return v}function x(v){for(let S=0;S<v.length;S++)A(v,S)||(v[S]=null);return v}function E(v){let S=s(null);for(let[P,I]of o(v))A(v,P)&&(Array.isArray(I)?S[P]=x(I):I&&typeof I=="object"&&I.constructor===Object?S[P]=E(I):S[P]=I);return S}function $(v,S){for(;v!==null;){let I=e(v,S);if(I){if(I.get)return D(I.get);if(typeof I.value=="function")return D(I.value)}v=t(v)}function P(){return null}return P}let K=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),be=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Q=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),X=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),he=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),lt=l(["#text"]),st=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Pe=l(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),at=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ae=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bn=f(/\{\{[\w\W]*|[\w\W]*\}\}/gm),An=f(/<%[\w\W]*|[\w\W]*%>/gm),wn=f(/\${[\w\W]*}/gm),Tn=f(/^data-[\-\w.\u00B7-\uFFFF]/),Ln=f(/^aria-[\-\w]+$/),ot=f(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xn=f(/^(?:\w+script|data):/i),Sn=f(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ft=f(/^html$/i),Cn=f(/^[a-z][.\w]*(-[.\w]+)+$/i);var ct=Object.freeze({__proto__:null,MUSTACHE_EXPR:bn,ERB_EXPR:An,TMPLIT_EXPR:wn,DATA_ATTR:Tn,ARIA_ATTR:Ln,IS_ALLOWED_URI:ot,IS_SCRIPT_OR_DATA:xn,ATTR_WHITESPACE:Sn,DOCTYPE_NAME:ft,CUSTOM_ELEMENT:Cn});let Rn=function(){return typeof window>"u"?null:window},Dn=function(S,P){if(typeof S!="object"||typeof S.createPolicy!="function")return null;let I=null,B="data-tt-policy-suffix";P&&P.hasAttribute(B)&&(I=P.getAttribute(B));let j="dompurify"+(I?"#"+I:"");try{return S.createPolicy(j,{createHTML(le){return le},createScriptURL(le){return le}})}catch{return console.warn("TrustedTypes policy "+j+" could not be created."),null}};function ut(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rn(),S=C=>ut(C);if(S.version="3.0.11",S.removed=[],!v||!v.document||v.document.nodeType!==9)return S.isSupported=!1,S;let{document:P}=v,I=P,B=I.currentScript,{DocumentFragment:j,HTMLTemplateElement:le,Node:ke,Element:pt,NodeFilter:me,NamedNodeMap:vn=v.NamedNodeMap||v.MozNamedAttrMap,HTMLFormElement:Pn,DOMParser:kn,trustedTypes:we}=v,Te=pt.prototype,Un=$(Te,"cloneNode"),$n=$(Te,"nextSibling"),Mn=$(Te,"childNodes"),Ue=$(Te,"parentNode");if(typeof le=="function"){let C=P.createElement("template");C.content&&C.content.ownerDocument&&(P=C.content.ownerDocument)}let z,ge="",{implementation:$e,createNodeIterator:Fn,createDocumentFragment:Hn,getElementsByTagName:Bn}=P,{importNode:Jn}=I,Z={};S.isSupported=typeof o=="function"&&typeof Ue=="function"&&$e&&$e.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Me,ERB_EXPR:Fe,TMPLIT_EXPR:He,DATA_ATTR:Gn,ARIA_ATTR:zn,IS_SCRIPT_OR_DATA:Wn,ATTR_WHITESPACE:dt,CUSTOM_ELEMENT:Yn}=ct,{IS_ALLOWED_URI:ht}=ct,M=null,mt=r({},[...K,...be,...Y,...X,...lt]),F=null,gt=r({},[...st,...Pe,...at,...Ae]),U=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ye=null,Be=null,yt=!0,Je=!0,Et=!1,Ot=!0,se=!1,re=!1,Ge=!1,ze=!1,ae=!1,Le=!1,xe=!1,_t=!0,Nt=!1,qn="user-content-",We=!0,Ee=!1,oe={},fe=null,bt=r({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),At=null,wt=r({},["audio","video","img","source","image","track"]),Ye=null,Tt=r({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Se="http://www.w3.org/1998/Math/MathML",Ce="http://www.w3.org/2000/svg",ee="http://www.w3.org/1999/xhtml",ce=ee,qe=!1,Ve=null,Vn=r({},[Se,Ce,ee],h),Oe=null,Kn=["application/xhtml+xml","text/html"],Xn="text/html",H=null,ue=null,Zn=P.createElement("form"),Lt=function(c){return c instanceof RegExp||c instanceof Function},Ke=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ue&&ue===c)){if((!c||typeof c!="object")&&(c={}),c=E(c),Oe=Kn.indexOf(c.PARSER_MEDIA_TYPE)===-1?Xn:c.PARSER_MEDIA_TYPE,H=Oe==="application/xhtml+xml"?h:y,M=A(c,"ALLOWED_TAGS")?r({},c.ALLOWED_TAGS,H):mt,F=A(c,"ALLOWED_ATTR")?r({},c.ALLOWED_ATTR,H):gt,Ve=A(c,"ALLOWED_NAMESPACES")?r({},c.ALLOWED_NAMESPACES,h):Vn,Ye=A(c,"ADD_URI_SAFE_ATTR")?r(E(Tt),c.ADD_URI_SAFE_ATTR,H):Tt,At=A(c,"ADD_DATA_URI_TAGS")?r(E(wt),c.ADD_DATA_URI_TAGS,H):wt,fe=A(c,"FORBID_CONTENTS")?r({},c.FORBID_CONTENTS,H):bt,ye=A(c,"FORBID_TAGS")?r({},c.FORBID_TAGS,H):{},Be=A(c,"FORBID_ATTR")?r({},c.FORBID_ATTR,H):{},oe=A(c,"USE_PROFILES")?c.USE_PROFILES:!1,yt=c.ALLOW_ARIA_ATTR!==!1,Je=c.ALLOW_DATA_ATTR!==!1,Et=c.ALLOW_UNKNOWN_PROTOCOLS||!1,Ot=c.ALLOW_SELF_CLOSE_IN_ATTR!==!1,se=c.SAFE_FOR_TEMPLATES||!1,re=c.WHOLE_DOCUMENT||!1,ae=c.RETURN_DOM||!1,Le=c.RETURN_DOM_FRAGMENT||!1,xe=c.RETURN_TRUSTED_TYPE||!1,ze=c.FORCE_BODY||!1,_t=c.SANITIZE_DOM!==!1,Nt=c.SANITIZE_NAMED_PROPS||!1,We=c.KEEP_CONTENT!==!1,Ee=c.IN_PLACE||!1,ht=c.ALLOWED_URI_REGEXP||ot,ce=c.NAMESPACE||ee,U=c.CUSTOM_ELEMENT_HANDLING||{},c.CUSTOM_ELEMENT_HANDLING&&Lt(c.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=c.CUSTOM_ELEMENT_HANDLING.tagNameCheck),c.CUSTOM_ELEMENT_HANDLING&&Lt(c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),c.CUSTOM_ELEMENT_HANDLING&&typeof c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(U.allowCustomizedBuiltInElements=c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),se&&(Je=!1),Le&&(ae=!0),oe&&(M=r({},lt),F=[],oe.html===!0&&(r(M,K),r(F,st)),oe.svg===!0&&(r(M,be),r(F,Pe),r(F,Ae)),oe.svgFilters===!0&&(r(M,Y),r(F,Pe),r(F,Ae)),oe.mathMl===!0&&(r(M,X),r(F,at),r(F,Ae))),c.ADD_TAGS&&(M===mt&&(M=E(M)),r(M,c.ADD_TAGS,H)),c.ADD_ATTR&&(F===gt&&(F=E(F)),r(F,c.ADD_ATTR,H)),c.ADD_URI_SAFE_ATTR&&r(Ye,c.ADD_URI_SAFE_ATTR,H),c.FORBID_CONTENTS&&(fe===bt&&(fe=E(fe)),r(fe,c.FORBID_CONTENTS,H)),We&&(M["#text"]=!0),re&&r(M,["html","head","body"]),M.table&&(r(M,["tbody"]),delete ye.tbody),c.TRUSTED_TYPES_POLICY){if(typeof c.TRUSTED_TYPES_POLICY.createHTML!="function")throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof c.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');z=c.TRUSTED_TYPES_POLICY,ge=z.createHTML("")}else z===void 0&&(z=Dn(we,B)),z!==null&&typeof ge=="string"&&(ge=z.createHTML(""));l&&l(c),ue=c}},xt=r({},["mi","mo","mn","ms","mtext"]),St=r({},["foreignobject","desc","title","annotation-xml"]),Qn=r({},["title","style","font","a","script"]),Ct=r({},[...be,...Y,...Q]),Rt=r({},[...X,...he]),jn=function(c){let N=Ue(c);(!N||!N.tagName)&&(N={namespaceURI:ce,tagName:"template"});let w=y(c.tagName),k=y(N.tagName);return Ve[c.namespaceURI]?c.namespaceURI===Ce?N.namespaceURI===ee?w==="svg":N.namespaceURI===Se?w==="svg"&&(k==="annotation-xml"||xt[k]):!!Ct[w]:c.namespaceURI===Se?N.namespaceURI===ee?w==="math":N.namespaceURI===Ce?w==="math"&&St[k]:!!Rt[w]:c.namespaceURI===ee?N.namespaceURI===Ce&&!St[k]||N.namespaceURI===Se&&!xt[k]?!1:!Rt[w]&&(Qn[w]||!Ct[w]):!!(Oe==="application/xhtml+xml"&&Ve[c.namespaceURI]):!1},ne=function(c){_(S.removed,{element:c});try{c.parentNode.removeChild(c)}catch{c.remove()}},Xe=function(c,N){try{_(S.removed,{attribute:N.getAttributeNode(c),from:N})}catch{_(S.removed,{attribute:null,from:N})}if(N.removeAttribute(c),c==="is"&&!F[c])if(ae||Le)try{ne(N)}catch{}else try{N.setAttribute(c,"")}catch{}},Dt=function(c){let N=null,w=null;if(ze)c="<remove></remove>"+c;else{let G=p(c,/^[\r\n\t ]+/);w=G&&G[0]}Oe==="application/xhtml+xml"&&ce===ee&&(c='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+c+"</body></html>");let k=z?z.createHTML(c):c;if(ce===ee)try{N=new kn().parseFromString(k,Oe)}catch{}if(!N||!N.documentElement){N=$e.createDocument(ce,"template",null);try{N.documentElement.innerHTML=qe?ge:k}catch{}}let J=N.body||N.documentElement;return c&&w&&J.insertBefore(P.createTextNode(w),J.childNodes[0]||null),ce===ee?Bn.call(N,re?"html":"body")[0]:re?N.documentElement:J},It=function(c){return Fn.call(c.ownerDocument||c,c,me.SHOW_ELEMENT|me.SHOW_COMMENT|me.SHOW_TEXT|me.SHOW_PROCESSING_INSTRUCTION|me.SHOW_CDATA_SECTION,null)},er=function(c){return c instanceof Pn&&(typeof c.nodeName!="string"||typeof c.textContent!="string"||typeof c.removeChild!="function"||!(c.attributes instanceof vn)||typeof c.removeAttribute!="function"||typeof c.setAttribute!="function"||typeof c.namespaceURI!="string"||typeof c.insertBefore!="function"||typeof c.hasChildNodes!="function")},vt=function(c){return typeof ke=="function"&&c instanceof ke},te=function(c,N,w){Z[c]&&m(Z[c],k=>{k.call(S,N,w,ue)})},Pt=function(c){let N=null;if(te("beforeSanitizeElements",c,null),er(c))return ne(c),!0;let w=H(c.nodeName);if(te("uponSanitizeElement",c,{tagName:w,allowedTags:M}),c.hasChildNodes()&&!vt(c.firstElementChild)&&T(/<[/\w]/g,c.innerHTML)&&T(/<[/\w]/g,c.textContent)||c.nodeType===7)return ne(c),!0;if(!M[w]||ye[w]){if(!ye[w]&&Ut(w)&&(U.tagNameCheck instanceof RegExp&&T(U.tagNameCheck,w)||U.tagNameCheck instanceof Function&&U.tagNameCheck(w)))return!1;if(We&&!fe[w]){let k=Ue(c)||c.parentNode,J=Mn(c)||c.childNodes;if(J&&k){let G=J.length;for(let q=G-1;q>=0;--q)k.insertBefore(Un(J[q],!0),$n(c))}}return ne(c),!0}return c instanceof pt&&!jn(c)||(w==="noscript"||w==="noembed"||w==="noframes")&&T(/<\/no(script|embed|frames)/i,c.innerHTML)?(ne(c),!0):(se&&c.nodeType===3&&(N=c.textContent,m([Me,Fe,He],k=>{N=O(N,k," ")}),c.textContent!==N&&(_(S.removed,{element:c.cloneNode()}),c.textContent=N)),te("afterSanitizeElements",c,null),!1)},kt=function(c,N,w){if(_t&&(N==="id"||N==="name")&&(w in P||w in Zn))return!1;if(!(Je&&!Be[N]&&T(Gn,N))){if(!(yt&&T(zn,N))){if(!F[N]||Be[N]){if(!(Ut(c)&&(U.tagNameCheck instanceof RegExp&&T(U.tagNameCheck,c)||U.tagNameCheck instanceof Function&&U.tagNameCheck(c))&&(U.attributeNameCheck instanceof RegExp&&T(U.attributeNameCheck,N)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(N))||N==="is"&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&T(U.tagNameCheck,w)||U.tagNameCheck instanceof Function&&U.tagNameCheck(w))))return!1}else if(!Ye[N]){if(!T(ht,O(w,dt,""))){if(!((N==="src"||N==="xlink:href"||N==="href")&&c!=="script"&&b(w,"data:")===0&&At[c])){if(!(Et&&!T(Wn,O(w,dt,"")))){if(w)return!1}}}}}}return!0},Ut=function(c){return c!=="annotation-xml"&&p(c,Yn)},$t=function(c){te("beforeSanitizeAttributes",c,null);let{attributes:N}=c;if(!N)return;let w={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F},k=N.length;for(;k--;){let J=N[k],{name:G,namespaceURI:q,value:ie}=J,_e=H(G),V=G==="value"?ie:L(ie);if(w.attrName=_e,w.attrValue=V,w.keepAttr=!0,w.forceKeepAttr=void 0,te("uponSanitizeAttribute",c,w),V=w.attrValue,w.forceKeepAttr||(Xe(G,c),!w.keepAttr))continue;if(!Ot&&T(/\/>/i,V)){Xe(G,c);continue}se&&m([Me,Fe,He],Ft=>{V=O(V,Ft," ")});let Mt=H(c.nodeName);if(kt(Mt,_e,V)){if(Nt&&(_e==="id"||_e==="name")&&(Xe(G,c),V=qn+V),z&&typeof we=="object"&&typeof we.getAttributeType=="function"&&!q)switch(we.getAttributeType(Mt,_e)){case"TrustedHTML":{V=z.createHTML(V);break}case"TrustedScriptURL":{V=z.createScriptURL(V);break}}try{q?c.setAttributeNS(q,G,V):c.setAttribute(G,V),a(S.removed)}catch{}}}te("afterSanitizeAttributes",c,null)},tr=function C(c){let N=null,w=It(c);for(te("beforeSanitizeShadowDOM",c,null);N=w.nextNode();)te("uponSanitizeShadowNode",N,null),!Pt(N)&&(N.content instanceof j&&C(N.content),$t(N));te("afterSanitizeShadowDOM",c,null)};return S.sanitize=function(C){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=null,w=null,k=null,J=null;if(qe=!C,qe&&(C="<!-->"),typeof C!="string"&&!vt(C))if(typeof C.toString=="function"){if(C=C.toString(),typeof C!="string")throw R("dirty is not a string, aborting")}else throw R("toString is not a function");if(!S.isSupported)return C;if(Ge||Ke(c),S.removed=[],typeof C=="string"&&(Ee=!1),Ee){if(C.nodeName){let ie=H(C.nodeName);if(!M[ie]||ye[ie])throw R("root node is forbidden and cannot be sanitized in-place")}}else if(C instanceof ke)N=Dt("<!---->"),w=N.ownerDocument.importNode(C,!0),w.nodeType===1&&w.nodeName==="BODY"||w.nodeName==="HTML"?N=w:N.appendChild(w);else{if(!ae&&!se&&!re&&C.indexOf("<")===-1)return z&&xe?z.createHTML(C):C;if(N=Dt(C),!N)return ae?null:xe?ge:""}N&&ze&&ne(N.firstChild);let G=It(Ee?C:N);for(;k=G.nextNode();)Pt(k)||(k.content instanceof j&&tr(k.content),$t(k));if(Ee)return C;if(ae){if(Le)for(J=Hn.call(N.ownerDocument);N.firstChild;)J.appendChild(N.firstChild);else J=N;return(F.shadowroot||F.shadowrootmode)&&(J=Jn.call(I,J,!0)),J}let q=re?N.outerHTML:N.innerHTML;return re&&M["!doctype"]&&N.ownerDocument&&N.ownerDocument.doctype&&N.ownerDocument.doctype.name&&T(ft,N.ownerDocument.doctype.name)&&(q="<!DOCTYPE "+N.ownerDocument.doctype.name+`>
`+q),se&&m([Me,Fe,He],ie=>{q=O(q,ie," ")}),z&&xe?z.createHTML(q):q},S.setConfig=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ke(C),Ge=!0},S.clearConfig=function(){ue=null,Ge=!1},S.isValidAttribute=function(C,c,N){ue||Ke({});let w=H(C),k=H(c);return kt(w,k,N)},S.addHook=function(C,c){typeof c=="function"&&(Z[C]=Z[C]||[],_(Z[C],c))},S.removeHook=function(C){if(Z[C])return a(Z[C])},S.removeHooks=function(C){Z[C]&&(Z[C]=[])},S.removeAllHooks=function(){Z={}},S}var In=ut();return In})});var yn=Ne((Tr,gn)=>{var W=Ze(mn());gn.exports=class{constructor(){let n=this}escape(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(n,i=!1,t=void 0){let e=this;var l=0,f=document.createElement("ul"),s;return t!==void 0&&(s=JSON.parse(t)),f.className="DAMON-List",d(n,f),f;function d(u,m){if(typeof m!="object"||m==null||Array.isArray(m))throw new Error("Error List Item number "+l+": @param { {} } list");if(typeof u=="object"&&u!==null&&!Array.isArray(u)&&u instanceof Map&&u.constructor===Map){if(m.tagName=="UL")for(let[y,h]of u){let p=document.createElement("ul"),O=document.createElement("code"),b=document.createElement("span"),L=document.createElement("li");if(b.className="type-key",/^https?:\/\//.test(y)){let A=W.sanitize(`<a href="${y}">${y}</a>`);b.innerHTML=A}else t!==void 0&&y in s["@context"]?b.innerHTML=W.sanitize(`<a href="${s["@context"][y]["@id"]}">${y}</a>`):b.textContent=y;if(typeof h=="object"&&h!==null)if(Array.isArray(h))if(u.inlineArrays!==void 0&&u.inlineArrays.indexOf(y)>-1){O.innerHTML=b.outerHTML+": [";for(let A=0,T=h.length;A<T;A++){let R=document.createElement("span"),D=h[A];D===!0?(R.textContent="true",R.className="type-boolean"):D===!1?(R.textContent="false",R.className="type-boolean"):D===null?(R.textContent="null",R.className="type-null"):Number.isFinite(D)&&!Number.isNaN(D)?(R.textContent=D+"",R.className="type-number"):(i?/^https?:\/\//.test(D)?R.innerHTML=W.sanitize(`<a href="${D}">"${D}"</a>`):R.innerHTML=`"${D}"`:/^https?:\/\//.test(D)?R.innerHTML=W.sanitize(`<a href="${D}">"${D}"</a>`):R.textContent=`"${D}"`,R.className="type-string"),A!==0&&(O.innerHTML+=", "),O.appendChild(R)}O.innerHTML+="]",L.appendChild(O),L.appendChild(p),m.appendChild(L)}else O.innerHTML=b.outerHTML+": []",L.appendChild(O),L.appendChild(p),m.appendChild(L),d(h,p);else u.implicitMaps!==void 0&&u.implicitMaps.indexOf(y)>-1?O.innerHTML=b.outerHTML:O.innerHTML=b.outerHTML+": {}",L.appendChild(O),L.appendChild(p),m.appendChild(L),d(h,p);else{l++,O.innerHTML=b.outerHTML+": ";let A=document.createElement("span"),T=h;T===!0?(A.textContent="true",A.className="type-boolean"):T===!1?(A.textContent="false",A.className="type-boolean"):T===null?(A.textContent="null",A.className="type-null"):Number.isFinite(T)&&!Number.isNaN(T)?(A.textContent=T+"",A.className="type-number"):(i?/^https?:\/\//.test(T)?A.innerHTML=W.sanitize(`<a href="${T}">"${T}"</a>`):A.innerHTML=`"${T}"`:/^https?:\/\//.test(T)?A.innerHTML=W.sanitize(`<a href="${T}">"${T}"</a>`):A.textContent=`"${T}"`,A.className="type-string"),u.implicitNulls===void 0||u.implicitNulls.indexOf(y)==-1?O.appendChild(A):O.innerHTML=O.innerHTML.slice(0,-2),L.appendChild(O),m.appendChild(L)}}}else if(Array.isArray(u))for(var a=0,_=u.length;a<_;a++){let y=document.createElement("ul"),h=document.createElement("code"),p=document.createElement("li");if(typeof u[a]=="object"&&u[a]!==null)if(Array.isArray(u[a]))if(u.inlineArrays!==void 0&&u.inlineArrays.indexOf(a)>-1){h.innerHTML+="[";for(let O=0,b=u[a].length;O<b;O++){let L=document.createElement("span"),A=u[a][O];A===!0?(L.textContent="true",L.className="type-boolean"):A===!1?(L.textContent="false",L.className="type-boolean"):A===null?(L.textContent="null",L.className="type-null"):Number.isFinite(A)&&!Number.isNaN(A)?(L.textContent=A+"",L.className="type-number"):(i?/^https?:\/\//.test(A)?L.innerHTML=W.sanitize(`<a href="${A}">"${A}"</a>`):L.innerHTML=`"${A}"`:/^https?:\/\//.test(A)?L.innerHTML=W.sanitize(`<a href="${A}">"${A}"</a>`):L.textContent=`"${A}"`,L.className="type-string"),O!==0&&(h.innerHTML+=", "),h.appendChild(L)}h.innerHTML+="]",p.appendChild(h),p.appendChild(y),m.appendChild(p)}else h.textContent="[]",p.appendChild(h),p.appendChild(y),m.appendChild(p),d(u[a],y);else h.textContent="{}",p.appendChild(h),p.appendChild(y),m.appendChild(p),d(u[a],y);else{l++;let O=u[a];O===!0?(h.textContent="true",h.className="type-boolean"):O===!1?(h.textContent="false",h.className="type-boolean"):O===null?(h.textContent="null",h.className="type-null"):Number.isFinite(O)&&!Number.isNaN(O)?(h.textContent=O+"",h.className="type-number"):(i?/^https?:\/\//.test(O)?h.innerHTML=W.sanitize(`<a href="${O}">"${O}"</a>`):h.innerHTML=`"${O}"`:/^https?:\/\//.test(O)?h.innerHTML=W.sanitize(`<a href="${O}">"${O}"</a>`):h.textContent=`"${O}"`,h.className="type-string"),p.appendChild(h),p.appendChild(y),m.appendChild(p)}}}}mapToHtmlTable(n,i=!1){let t=this;var e=0,l=document.createElement("table"),f=document.createElement("thead"),s=document.createElement("tbody"),d=!1,u=0;if(l.className="DAMON-Table",typeof n!="object"||n==null||Array.isArray(n)||!(n instanceof Map)||n.constructor!==Map)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[m,a]of n){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map)if(m=="0"&&!d){let _=document.createElement("tr");u=a.length;for(let[y,h]of a)if(h===null){let p=document.createElement("th");i?/^https?:\/\//.test(y)?p.innerHTML=W.sanitize(`<a href="${y}">${y}</a>`):p.innerHTML=`${y}`:/^https?:\/\//.test(y)?p.innerHTML=W.sanitize(`<a href="${y}">${y}</a>`):p.textContent=`${y}`,_.appendChild(p)}else throw new Error("Expected implicit null property, saw otherwise");f.appendChild(_),d=!0}else{if(u==0&&(u=a.length),a.length!=u)throw new Error("Error List Item number "+e+": @param { {} } list");let _=document.createElement("tr");for(let[y,h]of a)if(h===null){let p=document.createElement("td");i?/^https?:\/\//.test(y)?p.innerHTML=W.sanitize(`<a href="${y}">${y}</a>`):p.innerHTML=`${y}`:/^https?:\/\//.test(y)?p.innerHTML=W.sanitize(`<a href="${y}">${y}</a>`):p.textContent=`${y}`,_.appendChild(p)}else throw new Error("Expected implicit null property, saw otherwise");s.appendChild(_)}else if(typeof a!="object"&&m=="00"){let _=document.createElement("caption");i?_.innerHTML=a:_.textContent=a,l.appendChild(_)}else throw new Error("Error List Item number "+e+": @param { {} } list");e++}return d&&l.appendChild(f),l.appendChild(s),l}mapTreeLeavesToHtmlTable(n,i=!1){let t=this;var e=0,l=0,f=document.createElement("table"),s=document.createElement("thead"),d=document.createElement("tbody"),u=!1;if(f.className="DAMON-LeavesToTable",typeof n!="object"||n==null||Array.isArray(n)||!(n instanceof Map)||n.constructor!==Map)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[a,_]of n){if(typeof _=="object"&&!Array.isArray(_)){if(a=="head"&&!u){try{m(_,s)}catch{return}u=!0}else if(a=="body")try{m(_,d)}catch{return}}else if(typeof _!="object"&&a=="caption"){let y=document.createElement("caption");i?y.innerHTML=_:y.textContent=_,f.appendChild(y)}else throw new Error("Error List Item number "+e+": @param { {} } list");e++}return u&&f.appendChild(s),f.appendChild(d),f;function m(a,_,y=0,h=[]){if(typeof _!="object"||_==null)throw new Error("Error List Item number "+e+": @param { {} } list");if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map){if(_.tagName=="THEAD")if(Array.from(a.keys()).length==1)if(typeof a.get(Array.from(a.keys())[0])=="object"&&a.get(Array.from(a.keys())[0])!==null)e++,m(a.get(Array.from(a.keys())[0]),_,y+1,h.concat([Array.from(a.keys())[0]]));else throw new Error("Error List Item number "+e+": @param { {} } list");else throw new Error("Error List Item number "+e+": @param { {} } list");else if(_.tagName=="TBODY"){if(Array.from(a.keys()).length==0)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[p,O]of a)if(typeof O=="object"&&O!==null)e++,m(O,_,y+1,h.concat([p]));else throw new Error("Error List Item number "+e+": @param { {} } list")}}else if(Array.isArray(a)){if(_.tagName=="THEAD")if(a.length==1){e++,l=y;let p=document.createElement("tr");h.push(a[0]);for(let O=0,b=h.length;O<b;O++){let L=document.createElement("th");i?L.innerHTML=h[O]:L.textContent=h[O],p.appendChild(L)}_.appendChild(p)}else throw new Error("Error List Item number "+e+": @param { {} } list");else if(_.tagName=="TBODY")if(y==l){if(a.length==0)throw new Error("Error List Item number "+e+": @param { {} } list");for(let p=0,O=a.length;p<O;p++){e++;let b=document.createElement("tr");for(let A=0,T=h.length;A<T;A++){let R=document.createElement("td");i?R.innerHTML=h[A]:R.textContent=h[A],b.appendChild(R)}let L=document.createElement("td");i?L.innerHTML=a[p]:L.textContent=a[p],L.textContent=a[p],b.appendChild(L),_.appendChild(b)}}else throw new Error("Error List Item number "+e+": @param { {} } list")}}}htmlToJSON(n){let i=this;var t=0;if(n.firstElementChild.textContent=="{}")return i.mapToJSON(e(tree,new Map));if(n.firstElementChild.textContent=="[]")return i.mapToJSON(e(tree,[]));function e(l,f){if(typeof l!="object"||l==null||Array.isArray(l))throw new Error("Error List Item number "+t+": @param { {} } list");if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map){for(let s=0,d=l.children.length;s<d;s++)if(t++,l.children[s].tagName=="LI")if(l.children[s].firstElementChild.tagName=="CODE")if(l.children[s].firstElementChild.innerHTML.length){let u=l.children[s].firstElementChild.innerHTML.trim();if(u[u.length-1]==":"&&u.length>1){let m=l.children[s].children[1];if(m.tagName=="UL"&&m.firstElementChild.tagName=="LI"&&m.children.length==1&&m.firstElementChild.firstElementChild.tagName=="CODE"){t++;let a=m.firstElementChild.firstElementChild.textContent.trim();a=="true"?f.set(u.slice(0,-1),!0):a=="false"?f.set(u.slice(0,-1),!1):a=="null"?f.set(u.slice(0,-1),null):isFinite(a)&&!isNaN(parseFloat(a))?f.set(u.slice(0,-1),a*1):f.set(u.slice(0,-1),a)}else throw new Error("Error List Item number "+t+": not DAMON-compliant.")}else if(u[u.length-4]==":"&&u.length>4){if(u.slice(-3)==" []")if(f.set(u.slice(0,-4),[]),l.children[s].children[1].tagName=="UL")e(l.children[s].children[1],f.get(u.slice(0,-4)));else throw new Error("Error List Item number "+t+": not DAMON-compliant.");else if(u.slice(-3)==" {}")if(f.set(u.slice(0,-4),new Map),l.children[s].children[1].tagName=="UL")e(l.children[s].children[1],f.get(u.slice(0,-4)));else throw new Error("Error List Item number "+t+": not DAMON-compliant.")}else throw new Error("Error List Item number "+t+": map items need a key")}else throw new Error("Error List Item number "+t+": empty node.");else throw new Error("Error List Item number "+t+": not DAMON-compliant.")}else if(Array.isArray(f)){for(let s=0,d=l.children.length;s<d;s++)if(t++,l.children[s].tagName=="LI")if(l.children[s].firstElementChild.tagName=="CODE")if(l.children[s].firstElementChild.innerHTML.length){let u=l.children[s].firstElementChild.innerHTML.trim();if(u[u.length-1]==":"&&u.length>1)throw new Error("Error List Item number "+t+": lists can't have keys.");if(u[u.length-4]==":"&&u.length>4)throw new Error("Error List Item number "+t+": not DAMON-compliant.");if(u=="[]")if(f.push([]),l.children[s].children[1]&&l.children[s].children[1].tagName=="UL")e(l.children[s].children[1],f[f.length-1]);else throw new Error("Error List Item number "+t+": not DAMON-compliant.");else if(u=="{}")if(f.push({}),l.children[s].children[1]&&l.children[s].children[1].tagName=="UL")e(l.children[s].children[1],f[f.length-1]);else throw new Error("Error List Item number "+t+": not DAMON-compliant.");else u=="true"?f.push(!0):u=="false"?f.push(!1):u=="null"?f.push(null):isFinite(u)&&!isNaN(parseFloat(u))?f.push(u*1):f.push(u)}else throw new Error("Error List Item number "+t+": empty node.");else throw new Error("Error List Item number "+t+": not DAMON-compliant.")}else throw new Error("Error List Item number "+t+": @param { {} | [] } jsonMap");return f}}}});var Nn=Ne((xr,_n)=>{var En=Ze(hn()),On=Ze(yn());_n.exports=class{constructor(n=!1){let i=this;if(this.indentation=4,[!0,!1,void 0].indexOf(n)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=n,this.damonOriginalLinesMapping=[],this.utils=new On.default}template(n){let i=this;var t=n[0];for(let l=1;l<n.length;l++)typeof arguments[l]=="string"?t+='"'+arguments[l]+'"':t+=arguments[l],t+=n[l];return i._treeToMap(i._damonToTree(t))}damonToMap(n){let i=this;return i._treeToMap(i._damonToTree(n))}damonToJSON(n){let i=this;return i.mapToJSON(i.damonToMap(n))}jsonToDamon(n){let i=this,t=(0,En.parse)(n);return i.mapToDamon(t)}_damonToTree(n){let i=this;if(n==="")throw new Error("Error line 1: empty string",{line:1,language:"DAMON"});if(/[\s]/.test(n)&&n.match(new RegExp(/[\s]/))[0].length==n.length)throw new Error("Error line 1: string only contains whitespace",{line:1,language:"DAMON"});var t=/\r\n/.test(n)?`\r
`:`
`,e=n.split(t),l=e.slice(0);e=e.filter(p=>!/^ *\/\//.test(p)),e=e.filter(p=>p!=""),e=e.filter(p=>!/^[ \t]+$/.test(p));let f=0;i.damonOriginalLinesMapping=[];for(let p=0,O=l.length;p<O;p++)e.slice(f).indexOf(l[p])>-1?i.damonOriginalLinesMapping[p]=e.slice(f).indexOf(l[p]):i.damonOriginalLinesMapping[p]=null;let s=new RegExp("^(	)+");for(let p=0,O=e.length;p<O;p++){if(s.test(e[p])){let b=e[p].match(s)[0].length;for(let L=0,A=b;L<A;L++)e[p]=e[p].replace("	"," ".repeat(i.indentation))}if(!/^ *- $/.test(e[p])&&/[ \t]+$/.test(e[p]))throw new Error("Error line "+(i.damonOriginalLinesMapping.indexOf(p)+1)+": trailing whitespace",{line:i.damonOriginalLinesMapping.indexOf(p)+1,language:"DAMON"})}let d=new RegExp("^("+" ".repeat(i.indentation)+")+");if(d.test(e[0])){let p=e[0].match(d)[0].length,O=!0;for(let b=0,L=e.length;b<L;b++)d.test(e[b])&&e[b].match(d)[0].length>=p?e[b]=e[b].slice(p):O=!1;if(!O)throw new Error("Error line 1: bad formatting",{line:1,language:"DAMON"})}else if(d.test(e[1])&&e[1].match(d)[0].length>i.indentation){let p=e[1].match(d)[0].length-i.indentation,O=!0;for(let b=1,L=e.length;b<L;b++)d.test(e[b])&&e[b].match(d)[0].length>=p?e[b]=e[b].slice(p):O=!1;if(!O)throw new Error("Error line 2: bad formatting",{line:2,language:"DAMON"})}let u=!1;if(e.length>1)for(let p=0,O=e.length;p<O;p++)p!==0&&/^- /.test(e[p])&&(u=!0);if(!/^- \{\}$/.test(e[0])&&!/^- \[\]$/.test(e[0])&&(u=!0),u){for(let p=0,O=e.length;p<O;p++)e[p]=" ".repeat(i.indentation)+e[p];e.unshift("- {}")}var m={content:e[0],level:0,id:0,children:[],headless:u},a=m;if(!/^- /.test(e[0].trimStart())||/^ +/.test(e[0])&&(e[0].match(/^ +/)[0].length%i.indentation!=0||e[0].match(/^ +/)[0].length!=i.indentation))throw new Error("Error line "+(u*1+1)+": bad formatting",{line:u*1+1,language:"DAMON"});e.shift();for(let p=0,O=e.length;p<O;p++){if(!/^- /.test(e[p].trimStart())||/^ +/.test(e[p])&&(e[p].match(/^ +/)[0].length%i.indentation!=0||p==0&&e[p].match(/^ +/)[0].length!=i.indentation||p!=0&&/^- /.test(e[p-1])&&e[p].match(/^ +/)[0].length!=i.indentation||p!=0&&!/^- /.test(e[p-1])&&e[p].match(/^ +/)[0].length>e[p-1].match(/^ +/)[0].length+i.indentation))throw new Error("Error line "+(i.damonOriginalLinesMapping.indexOf(p)+1)+": bad formatting",{line:i.damonOriginalLinesMapping.indexOf(p)+1,language:"DAMON"});let b={content:e[p].trimStart().slice(2),level:1+e[p].match(/^ +/)[0].length/i.indentation,id:"",children:[]};if(a===m)b.id=m.children.length+1,m.children.push(b);else if(a.level===b.level){var _=i._findListItemCommonDirectParent(a,m);_.level==0?b.id=_.children.length+1:b.id=_.id+"-"+(_.children.length+1),_.children.push(b)}else if(a.level>b.level){var y=i._findListItemCommonAncestor(a,m,b.level);y.level==0?b.id=y.children.length+1:b.id=y.id+"-"+(y.children.length+1),y.children.push(b)}else if(a.level<b.level){var h=i._findListItemCommonDirectParent(a,m);let L=h.children.indexOf(a),A=h.children[L].id,T=h.children[L].children.length+1;b.id=A+"-"+T,h.children[L].children.push(b)}a=b}return m}_findListItemCommonDirectParent(n,i){let t=this;if(i.children.indexOf(n)>-1)return i;var e;for(let l=i.children.length-1,f=0;l>=f;l--)if(e=t._findListItemCommonDirectParent(n,i.children[l]),e)return e}_findListItemCommonAncestor(n,i,t){let e=this;var l=e._findListItemCommonDirectParent(n,i);return l.level<t?l:e._findListItemCommonAncestor(l,i,t)}_treeToMap(n){let i=this;var t=0;if(n.content=="- {}")return e(n,new Map);if(tree.content=="- []")return e(n,[]);{let s=new Map;return n.headless&&(s.headless=!0),e(n,s)}function e(s,d){if(typeof s!="object"||s==null||Array.isArray(s))throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": @param { {} } tree",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,language:"DAMON"});if(typeof d=="object"&&d!==null&&!Array.isArray(d)&&d instanceof Map&&d.constructor===Map)l(s,d);else if(Array.isArray(d))f(s,d);else throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": @param { {} | [] } jsonMap",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,language:"DAMON"});return d}function l(s,d){for(let u=0,m=s.children.length;u<m;u++)if(t++,s.children[u].content.length==0){let a;s.children[u].children.length>0?(a="implicit map key",d.set("",new Map),d.implicitMaps===void 0&&(d.implicitMaps=[]),d.implicitMaps.push(""),e(s.children[u],d.get(""))):(a="implicit null key",d.set("",null),d.implicitNulls===void 0&&(d.implicitNulls=[]),d.implicitNulls.push(""))}else{let a=s.children[u].content,_="key";try{if(/^.*: +\[/.test(a)&&a[a.length-1]=="]")if(/: +\[ *\]$/.test(a)){let y=JSON.stringify(JSON.parse(`["${a.slice(0,-1*a.match(/: +\[ *\]$/)[0].length)}"]`)[0]).slice(1,-1);d.set(y,[]),s.children[u].children.length>0&&e(s.children[u],d.get(y))}else{let y=new RegExp(/: +\[/g),h=a.slice(0,-1).split(y),p=a.match(y).concat([""]),O=h.map((T,R)=>T+p[R]),b="",L=[];for(let T=0,R=h.length;T<R;T++)try{let D;if(T==0?D=h[0]:D=O.slice(0,T).join("")+h[T],b=JSON.stringify(JSON.parse(`["${D}"]`)[0]).slice(1,-1),_="list",L=JSON.parse(`[${O.slice(T+1).join("")}]`),Array.isArray(L))break}catch{if(T==R-2)throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": invalid inline list",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,language:"DAMON"})}if(L.every(function(T){if(T===!0)return!0;if(T===!1)return!0;if(T===null)return nullsCounter++,!0;if(typeof T=="string")return!0;if(isFinite(T)&&!isNaN(parseFloat(T))&&Number.isFinite(T*1)&&!Number.isNaN(T*1)){if(T.indexOf(0)==0&&T.length>1)throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": leading 0",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,language:"DAMON"});return!0}else return!1}))d.set(b,L),d.inlineArrays===void 0&&(d.inlineArrays=[]),d.inlineArrays.push(b);else throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": no nesting in inline lists",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,language:"DAMON"});if(s.children[u].children.length>0)throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+3)+": inline lists can't have children",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+3,language:"DAMON"})}else if(/: +\{ *\}$/.test(a)){let y=JSON.stringify(JSON.parse(`["${a.slice(0,-1*a.match(/: +\{ *\}$/)[0].length)}"]`)[0]).slice(1,-1);d.set(y,new Map),e(s.children[u],d.get(y))}else{let y=!1;if(a.split(new RegExp(/: +/))[a.split(new RegExp(/: +/)).length-1]==="true"){let h=a.match(new RegExp(/: +/g))[a.match(new RegExp(/: +/g)).length-1],p=JSON.stringify(JSON.parse(`["${a.slice(0,-1*h.length-4)}"]`)[0]).slice(1,-1);d.set(p,!0)}else if(a.split(new RegExp(/: +/))[a.split(new RegExp(/: +/)).length-1]==="false"){let h=a.match(new RegExp(/: +/g))[a.match(new RegExp(/: +/g)).length-1],p=JSON.stringify(JSON.parse(`["${a.slice(0,-1*h.length-5)}"]`)[0]).slice(1,-1);d.set(p,!1)}else if(a.split(new RegExp(/: +/))[a.split(new RegExp(/: +/)).length-1]=="null"){let h=a.match(new RegExp(/: +/g))[a.match(new RegExp(/: +/g)).length-1],p=JSON.stringify(JSON.parse(`["${a.slice(0,-1*h.length-4)}"]`)[0]).slice(1,-1);d.set(p,null)}else if(/^.*: +"/.test(a)&&a[a.length-1]=='"'){let h=a.match(new RegExp(/: +"/g));if(h.length==1){let p=JSON.stringify(JSON.parse(`["${a.split(h[0])[0]}"]`)[0]).slice(1,-1);_="string";let O=JSON.stringify(JSON.parse(`["${a.split(h[0]).slice(1).join("").slice(0,-1)}"]`)[0]).slice(1,-1);d.set(p,O)}else if(h.length==2&&/: +"$/.test(a)){let p=JSON.stringify(JSON.parse(`["${a.split(h[0])[0]}"]`)[0]).slice(1,-1);_="string";let O=JSON.stringify(JSON.parse(`["${a.split(h[0]).slice(1).join("")+": "}"]`)[0]).slice(1,-1);d.set(p,O)}else throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": unescaped double quote",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,language:"DAMON"})}else if(/^.*: /.test(a)&&isFinite(a.split(": ")[a.split(": ").length-1])&&!isNaN(parseFloat(a.split(": ")[a.split(": ").length-1]))&&Number.isFinite(a.split(": ")[a.split(": ").length-1]*1)&&!Number.isNaN(a.split(": ")[a.split(": ").length-1]*1)){let h=JSON.stringify(JSON.parse(`["${a.split(": ").slice(0,-1).join(": ")}"]`)[0]).slice(1,-1);_="number";let p=a.match(new RegExp(/: +/g)),O=p[p.length-1],b=a.split(O)[a.split(O).length-1];if(b.indexOf(0)==0&&b.length>1)throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": leading 0",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,language:"DAMON"});let L=JSON.stringify(JSON.parse(`[${a.split(": ")[a.split(": ").length-1]*1}]`)[0])*1;d.set(h,L)}else if(/^.*: /.test(a)&&a.split(new RegExp(/: +/))[a.split(new RegExp(/: +/)).length-1]*1===1/0){let h=JSON.stringify(JSON.parse(`["${a.split(": ").slice(0,-1).join(": ")}"]`)[0]).slice(1,-1);_="infinity";let p=JSON.stringify(JSON.parse(`[${a.split(": ")[a.split(": ").length-1]*1}]`))*1}else{let h=!1,p=0;if(/\[ *\]$/.test(a)&&(h=!0,p=a.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(a)&&(h=!0,p=a.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(a)&&(h=!0,p=4),/false$/.test(a)&&(h=!0,p=5),/null$/.test(a)&&(h=!0,p=4),/".*"$/.test(a)&&(h=!0,p=a.match(new RegExp(/".*"$/g))[0].length),!h){let O="";for(let b=a.length-1;b>-1&&(O=a[b].concat(O),isFinite(O)&&!isNaN(parseFloat(O))&&Number.isFinite(O*1)&&!Number.isNaN(O*1));b--){if(!/[ \t]/.test(a[b]))break;h=!0,p=O.length}}if(h){let O=JSON.stringify(JSON.parse(`["${a.slice(0,-1*p)}"]`)[0]).slice(1,-1);if(i.pedantic)throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t))+": missing separator",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t),language:"DAMON",errorType:"pedantic"});if(/: +$/.test(O))if(y=!0,s.children[u].children.length>0){_="implicit map key";let b=JSON.stringify(JSON.parse(`["${a}"]`)[0]).slice(1,-1);d.set(b,new Map),d.implicitMaps===void 0&&(d.implicitMaps=[]),d.implicitMaps.push(b),e(s.children[u],d.get(b))}else{_="implicit null key";let b=JSON.stringify(JSON.parse(`["${a}"]`)[0]).slice(1,-1);d.set(b,null),d.implicitNulls===void 0&&(d.implicitNulls=[]),d.implicitNulls.push(b)}else throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t))+": missing separator",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t),language:"DAMON",errorType:"pedantic"})}else{let O=JSON.stringify(JSON.parse(`["${a.slice(0,-1*p)}"]`)[0]).slice(1,-1);if(i.pedantic)throw/: +$/.test(O)?new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+3)+": bad value",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t),language:"DAMON",errorType:"pedantic"}):new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t))+": missing separator",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t),language:"DAMON",errorType:"pedantic"});if(y=!0,s.children[u].children.length>0){_="implicit map key";let b=JSON.stringify(JSON.parse(`["${a}"]`)[0]).slice(1,-1);d.set(b,new Map),d.implicitMaps===void 0&&(d.implicitMaps=[]),d.implicitMaps.push(b),e(s.children[u],d.get(b))}else{_="implicit null key";let b=JSON.stringify(JSON.parse(`["${a}"]`)[0]).slice(1,-1);d.set(b,null),d.implicitNulls===void 0&&(d.implicitNulls=[]),d.implicitNulls.push(b)}}}if(!y&&s.children[u].children.length>0)throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+3)+": missing container or excess indentation",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+3,language:"DAMON"})}}catch(y){throw y.language===void 0&&(console.error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": not JSON-compliant, detailed error follows"),y.line=n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,y.language="JSON",y.type=_),y}}}function f(s,d){for(let u=0,m=s.children.length;u<m;u++)if(t++,s.children[u].content.length){let a=s.children[u].content;if(/^[ \t]*\[/.test(a)&&a[a.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(a))d.push([]),e(s.children[u],d[d.length-1]);else{let _;try{_=JSON.parse(a)}catch{throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": invalid inline lists",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,language:"JSON",type:"list"})}if(_.every(function(h){return h===!0||h===!1?!0:h===null?(nullsCounter++,!0):typeof h=="string"?!0:!!(isFinite(h)&&!isNaN(parseFloat(h))&&Number.isFinite(h*1)&&!Number.isNaN(h*1))}))d.push(_),d.inlineArrays===void 0&&(d.inlineArrays=[]),d.inlineArrays.push(u);else throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": no nesting in inline lists",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,language:"DAMON"});if(s.children[u].children.length>0)throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+3)+": inline lists can't have children",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+3,language:"DAMON"})}else if(/^[ \t]*\{\}$/.test(a))d.push(new Map),e(s.children[u],d[d.length-1]);else if(/^[ \t]*true$/.test(a))d.push(!0);else if(/^[ \t]*false$/.test(a))d.push(!1);else if(/^[ \t]*null$/.test(a))d.push(null);else if(/^[ \t]*".*"$/.test(a))try{d.push(JSON.stringify(JSON.parse(`[${a.trimStart()}]`)[0]).slice(1,-1))}catch(_){throw console.error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": not JSON-compliant, detailed error follows"),_.line=n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,_.language="JSON",_.type="string",_}else if(isFinite(a)&&!isNaN(parseFloat(a))&&Number.isFinite(a*1)&&!Number.isNaN(a*1)){if(a.indexOf(0)==0&&a.length>1)throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": leading 0",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,language:"DAMON"});try{d.push(JSON.stringify(JSON.parse(`[${a*1}]`)[0])*1)}catch(_){throw console.error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": not JSON-compliant, detailed error follows"),_.line=n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,_.language="JSON",_.type="number",_}}else if(a*1===1/0)try{JSON.stringify(JSON.parse(a*1))}catch(_){throw console.error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": not JSON-compliant, detailed error follows"),_.line=n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,_.language="JSON",_.type="infinity",_}else throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": list items can't have a key",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,language:"DAMON"})}else throw new Error("Error line number "+(n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2)+": empty list node",{line:n.headless*-1+i.damonOriginalLinesMapping.indexOf(t-1)+2,language:"DAMON"})}}mapToDamon(n){let i=this;var t="";return Array.isArray(n)?t+=`- []
`:t+=`- {}
`,e(n),t.slice(0,-1);function e(l,f=1){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map)for(let[u,m]of l)if(typeof m=="object"&&m!==null)if(Array.isArray(m)){let a=0,_=m.filter(function(y){return y===!0||y===!1?!0:y===null?(a++,!0):typeof y=="string"?!0:!!(isFinite(y)&&!isNaN(parseFloat(y))&&Number.isFinite(y*1)&&!Number.isNaN(y*1))});if(m.length==_.length&&f*4+2+m.join(", ").length+a*4<=80){let y="["+m.map(h=>JSON.stringify(h)).join(", ")+"]";t+="    ".repeat(f)+"- "+JSON.stringify(u).slice(1,-1)+": "+y+`
`}else t+="    ".repeat(f)+"- "+JSON.stringify(u).slice(1,-1)+`: []
`,e(m,f+1)}else t+="    ".repeat(f)+"- "+JSON.stringify(u).slice(1,-1)+`: {}
`,e(m,f+1);else t+="    ".repeat(f)+"- "+JSON.stringify(u).slice(1,-1)+": ",m===!0?t+=`true
`:m===!1?t+=`false
`:m===null?t+=`null
`:Number.isFinite(m)&&!Number.isNaN(m)?t+=m+`
`:t+=`${JSON.stringify(m)}
`;else if(Array.isArray(l))for(var s=0,d=l.length;s<d;s++)if(typeof l[s]=="object"&&l[s]!==null)if(Array.isArray(l[s])){let u=0,m=l[s].filter(function(a){return a===!0||a===!1?!0:a===null?(u++,!0):typeof a=="string"?!0:!!(isFinite(a)&&!isNaN(parseFloat(a))&&Number.isFinite(a*1)&&!Number.isNaN(a*1))});if(l[s].length==m.length&&f*4+2+l[s].join(", ").length+u*4<=80){let a="["+l[s].map(_=>JSON.stringify(_)).join(", ")+"]";t+="    ".repeat(f)+"- "+a+`
`}else t+="    ".repeat(f)+`- []
`,e(l[s],f+1)}else t+="    ".repeat(f)+`- {}
`,e(l[s],f+1);else l[s]===!0?t+="    ".repeat(f)+`- true
`:l[s]===!1?t+="    ".repeat(f)+`- false
`:l[s]===null?t+="    ".repeat(f)+`- null
`:Number.isFinite(l[s])&&!Number.isNaN(l[s])?t+="    ".repeat(f)+"- "+l[s]+`
`:t+="    ".repeat(f)+`- ${JSON.stringify(l[s])}
`}}mapToJSON(n){let i=this;var t="";if(Array.isArray(n))return t+=`[\r
`,e(n),t+="]",t;return t+=`{\r
`,e(n),t+="}",t;function e(l,f=1){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map)for(let[u,m]of l)typeof m=="object"&&m!==null?Array.isArray(m)?m.length>0?(t+="    ".repeat(f)+`"${u}": [\r
`,e(m,f+1),t+="    ".repeat(f)+"]"):t+="    ".repeat(f)+`"${u}": []`:Array.from(m.keys()).length>0?(t+="    ".repeat(f)+`"${u}": {\r
`,e(m,f+1),t+="    ".repeat(f)+"}"):t+="    ".repeat(f)+`"${u}": {}`:m===!0?t+="    ".repeat(f)+`"${u}": true`:m===!1?t+="    ".repeat(f)+`"${u}": false`:m===null?t+="    ".repeat(f)+`"${u}": null`:Number.isFinite(m)&&!Number.isNaN(m)?t+="    ".repeat(f)+`"${u}": `+m:t+="    ".repeat(f)+`"${u}": "${m}"`,u!=Array.from(l.keys())[Array.from(l.keys()).length-1]?t+=`,\r
`:t+=`\r
`;else if(Array.isArray(l))for(var s=0,d=l.length;s<d;s++)typeof l[s]=="object"&&l[s]!==null?Array.isArray(l[s])?l[s].length>0?(t+="    ".repeat(f)+`[\r
`,e(l[s],f+1),t+="    ".repeat(f)+"]"):t+="    ".repeat(f)+"[]":Array.from(l[s].keys()).length>0?(t+="    ".repeat(f)+`{\r
`,e(l[s],f+1),t+="    ".repeat(f)+"}"):t+="    ".repeat(f)+"{}":l[s]===!0?t+="    ".repeat(f)+"true":l[s]===!1?t+="    ".repeat(f)+"false":l[s]===null?t+="    ".repeat(f)+"null":Number.isFinite(l[s])&&!Number.isNaN(l[s])?t+="    ".repeat(f)+l[s]:t+="    ".repeat(f)+`"${l[s]}"`,s!=d-1?t+=`,\r
`:t+=`\r
`}}implicitMapToSExpression(n){let i=this;var t="";return t+=`[\r
`,e(n),t+="]",t;function e(l,f=1){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map)for(let[u,m]of l){if(typeof m=="object"&&m!==null)Array.isArray(m)?m.length>0?(t+="    ".repeat(f)+`"${u}", [\r
`,e(m,f+1),t+="    ".repeat(f)+"]"):t+="    ".repeat(f)+`"${u}", []`:Array.from(m.keys()).length>0?(t+="    ".repeat(f)+`"${u}", [\r
`,e(m,f+1),t+="    ".repeat(f)+"]"):t+="    ".repeat(f)+`"${u}", []`;else{if(m===!0)throw new Error("Booleans require quotes");if(m===!1)throw new Error("Booleans require quotes");m===null?t+="    ".repeat(f)+`"${u}"`:Number.isFinite(m)&&!Number.isNaN(m)?t+="    ".repeat(f)+`"${u}", `+m:t+="    ".repeat(f)+`"${u}", "${m}"`}u!=Array.from(l.keys())[Array.from(l.keys()).length-1]?t+=`,\r
`:t+=`\r
`}else if(Array.isArray(l))for(var s=0,d=l.length;s<d;s++){if(typeof l[s]=="object"&&l[s]!==null)Array.isArray(l[s])?l[s].length>0?(t+="    ".repeat(f)+`[\r
`,e(l[s],f+1),t+="    ".repeat(f)+"]"):t+="    ".repeat(f)+"[]":Array.from(l[s].keys()).length>0?(t+="    ".repeat(f)+`[\r
`,e(l[s],f+1),t+="    ".repeat(f)+"]"):t+="    ".repeat(f)+"[]";else{if(l[s]===!0)throw new Error("Booleans require quotes");if(l[s]===!1)throw new Error("Booleans require quotes");if(l[s]===null)throw new Error("Array-nulls require quotes");Number.isFinite(l[s])&&!Number.isNaN(l[s])?t+="    ".repeat(f)+l[s]:t+="    ".repeat(f)+`"${l[s]}"`}s!=d-1?t+=`,\r
`:t+=`\r
`}}}}});(function(){window.Damon=Nn()})();})();
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.0.11 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.11/LICENSE *)
*/
