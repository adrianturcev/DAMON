(()=>{var Qe=Object.defineProperty;var an=Object.getOwnPropertyDescriptor;var fn=Object.getOwnPropertyNames;var cn=Object.prototype.hasOwnProperty;var un=(c=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(c,{get:(r,n)=>(typeof require<"u"?require:r)[n]}):c)(function(c){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+c+'" is not supported')});var pn=(c,r)=>()=>(c&&(r=c(c=0)),r);var _e=(c,r)=>()=>(r||c((r={exports:{}}).exports,r),r.exports),hn=(c,r)=>{for(var n in r)Qe(c,n,{get:r[n],enumerable:!0})},dn=(c,r,n,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let e of fn(r))!cn.call(c,e)&&e!==n&&Qe(c,e,{get:()=>r[e],enumerable:!(t=an(r,e))||t.enumerable});return c};var mn=c=>dn(Qe({},"__esModule",{value:!0}),c);var gr={};hn(gr,{__addDisposableResource:()=>hr,__assign:()=>ve,__asyncDelegator:()=>lr,__asyncGenerator:()=>ir,__asyncValues:()=>or,__await:()=>pe,__awaiter:()=>Qt,__classPrivateFieldGet:()=>cr,__classPrivateFieldIn:()=>pr,__classPrivateFieldSet:()=>ur,__createBinding:()=>Pe,__decorate:()=>Wt,__disposeResources:()=>dr,__esDecorate:()=>qt,__exportStar:()=>er,__extends:()=>Gt,__generator:()=>jt,__importDefault:()=>fr,__importStar:()=>ar,__makeTemplateObject:()=>sr,__metadata:()=>Zt,__param:()=>Yt,__propKey:()=>Kt,__read:()=>tt,__rest:()=>zt,__rewriteRelativeImportExtension:()=>mr,__runInitializers:()=>Vt,__setFunctionName:()=>Xt,__spread:()=>tr,__spreadArray:()=>nr,__spreadArrays:()=>rr,__values:()=>ke,default:()=>En});function Gt(c,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");je(c,r);function n(){this.constructor=c}c.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}function zt(c,r){var n={};for(var t in c)Object.prototype.hasOwnProperty.call(c,t)&&r.indexOf(t)<0&&(n[t]=c[t]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,t=Object.getOwnPropertySymbols(c);e<t.length;e++)r.indexOf(t[e])<0&&Object.prototype.propertyIsEnumerable.call(c,t[e])&&(n[t[e]]=c[t[e]]);return n}function Wt(c,r,n,t){var e=arguments.length,l=e<3?r:t===null?t=Object.getOwnPropertyDescriptor(r,n):t,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(c,r,n,t);else for(var a=c.length-1;a>=0;a--)(i=c[a])&&(l=(e<3?i(l):e>3?i(r,n,l):i(r,n))||l);return e>3&&l&&Object.defineProperty(r,n,l),l}function Yt(c,r){return function(n,t){r(n,t,c)}}function qt(c,r,n,t,e,l){function i(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var a=t.kind,p=a==="getter"?"get":a==="setter"?"set":"value",f=!r&&c?t.static?c:c.prototype:null,y=r||(f?Object.getOwnPropertyDescriptor(f,t.name):{}),o,N=!1,d=n.length-1;d>=0;d--){var m={};for(var u in t)m[u]=u==="access"?{}:t[u];for(var u in t.access)m.access[u]=t.access[u];m.addInitializer=function(E){if(N)throw new TypeError("Cannot add initializers after decoration has completed");l.push(i(E||null))};var g=(0,n[d])(a==="accessor"?{get:y.get,set:y.set}:y[p],m);if(a==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(o=i(g.get))&&(y.get=o),(o=i(g.set))&&(y.set=o),(o=i(g.init))&&e.unshift(o)}else(o=i(g))&&(a==="field"?e.unshift(o):y[p]=o)}f&&Object.defineProperty(f,t.name,y),N=!0}function Vt(c,r,n){for(var t=arguments.length>2,e=0;e<r.length;e++)n=t?r[e].call(c,n):r[e].call(c);return t?n:void 0}function Kt(c){return typeof c=="symbol"?c:"".concat(c)}function Xt(c,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(c,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function Zt(c,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(c,r)}function Qt(c,r,n,t){function e(l){return l instanceof n?l:new n(function(i){i(l)})}return new(n||(n=Promise))(function(l,i){function a(y){try{f(t.next(y))}catch(o){i(o)}}function p(y){try{f(t.throw(y))}catch(o){i(o)}}function f(y){y.done?l(y.value):e(y.value).then(a,p)}f((t=t.apply(c,r||[])).next())})}function jt(c,r){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},t,e,l,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(f){return function(y){return p([f,y])}}function p(f){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,f[0]&&(n=0)),n;)try{if(t=1,e&&(l=f[0]&2?e.return:f[0]?e.throw||((l=e.return)&&l.call(e),0):e.next)&&!(l=l.call(e,f[1])).done)return l;switch(e=0,l&&(f=[f[0]&2,l.value]),f[0]){case 0:case 1:l=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,e=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!l||f[1]>l[0]&&f[1]<l[3])){n.label=f[1];break}if(f[0]===6&&n.label<l[1]){n.label=l[1],l=f;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(f);break}l[2]&&n.ops.pop(),n.trys.pop();continue}f=r.call(c,n)}catch(y){f=[6,y],e=0}finally{t=l=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function er(c,r){for(var n in c)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&Pe(r,c,n)}function ke(c){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&c[r],t=0;if(n)return n.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&t>=c.length&&(c=void 0),{value:c&&c[t++],done:!c}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(c,r){var n=typeof Symbol=="function"&&c[Symbol.iterator];if(!n)return c;var t=n.call(c),e,l=[],i;try{for(;(r===void 0||r-- >0)&&!(e=t.next()).done;)l.push(e.value)}catch(a){i={error:a}}finally{try{e&&!e.done&&(n=t.return)&&n.call(t)}finally{if(i)throw i.error}}return l}function tr(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(tt(arguments[r]));return c}function rr(){for(var c=0,r=0,n=arguments.length;r<n;r++)c+=arguments[r].length;for(var t=Array(c),e=0,r=0;r<n;r++)for(var l=arguments[r],i=0,a=l.length;i<a;i++,e++)t[e]=l[i];return t}function nr(c,r,n){if(n||arguments.length===2)for(var t=0,e=r.length,l;t<e;t++)(l||!(t in r))&&(l||(l=Array.prototype.slice.call(r,0,t)),l[t]=r[t]);return c.concat(l||Array.prototype.slice.call(r))}function pe(c){return this instanceof pe?(this.v=c,this):new pe(c)}function ir(c,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n.apply(c,r||[]),e,l=[];return e=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),e[Symbol.asyncIterator]=function(){return this},e;function i(d){return function(m){return Promise.resolve(m).then(d,o)}}function a(d,m){t[d]&&(e[d]=function(u){return new Promise(function(g,E){l.push([d,u,g,E])>1||p(d,u)})},m&&(e[d]=m(e[d])))}function p(d,m){try{f(t[d](m))}catch(u){N(l[0][3],u)}}function f(d){d.value instanceof pe?Promise.resolve(d.value.v).then(y,o):N(l[0][2],d)}function y(d){p("next",d)}function o(d){p("throw",d)}function N(d,m){d(m),l.shift(),l.length&&p(l[0][0],l[0][1])}}function lr(c){var r,n;return r={},t("next"),t("throw",function(e){throw e}),t("return"),r[Symbol.iterator]=function(){return this},r;function t(e,l){r[e]=c[e]?function(i){return(n=!n)?{value:pe(c[e](i)),done:!1}:l?l(i):i}:l}}function or(c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=c[Symbol.asyncIterator],n;return r?r.call(c):(c=typeof ke=="function"?ke(c):c[Symbol.iterator](),n={},t("next"),t("throw"),t("return"),n[Symbol.asyncIterator]=function(){return this},n);function t(l){n[l]=c[l]&&function(i){return new Promise(function(a,p){i=c[l](i),e(a,p,i.done,i.value)})}}function e(l,i,a,p){Promise.resolve(p).then(function(f){l({value:f,done:a})},i)}}function sr(c,r){return Object.defineProperty?Object.defineProperty(c,"raw",{value:r}):c.raw=r,c}function ar(c){if(c&&c.__esModule)return c;var r={};if(c!=null)for(var n=et(c),t=0;t<n.length;t++)n[t]!=="default"&&Pe(r,c,n[t]);return gn(r,c),r}function fr(c){return c&&c.__esModule?c:{default:c}}function cr(c,r,n,t){if(n==="a"&&!t)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?c!==r||!t:!r.has(c))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?t:n==="a"?t.call(c):t?t.value:r.get(c)}function ur(c,r,n,t,e){if(t==="m")throw new TypeError("Private method is not writable");if(t==="a"&&!e)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?c!==r||!e:!r.has(c))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t==="a"?e.call(c,n):e?e.value=n:r.set(c,n),n}function pr(c,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof c=="function"?r===c:c.has(r)}function hr(c,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var t,e;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");t=r[Symbol.asyncDispose]}if(t===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");t=r[Symbol.dispose],n&&(e=t)}if(typeof t!="function")throw new TypeError("Object not disposable.");e&&(t=function(){try{e.call(this)}catch(l){return Promise.reject(l)}}),c.stack.push({value:r,dispose:t,async:n})}else n&&c.stack.push({async:!0});return r}function dr(c){function r(l){c.error=c.hasError?new yn(l,c.error,"An error was suppressed during disposal."):l,c.hasError=!0}var n,t=0;function e(){for(;n=c.stack.pop();)try{if(!n.async&&t===1)return t=0,c.stack.push(n),Promise.resolve().then(e);if(n.dispose){var l=n.dispose.call(n.value);if(n.async)return t|=2,Promise.resolve(l).then(e,function(i){return r(i),e()})}else t|=1}catch(i){r(i)}if(t===1)return c.hasError?Promise.reject(c.error):Promise.resolve();if(c.hasError)throw c.error}return e()}function mr(c,r){return typeof c=="string"&&/^\.\.?\//.test(c)?c.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,t,e,l,i){return t?r?".jsx":".js":e&&(!l||!i)?n:e+l+"."+i.toLowerCase()+"js"}):c}var je,ve,Pe,gn,et,yn,En,yr=pn(()=>{je=function(c,r){return je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},je(c,r)};ve=function(){return ve=Object.assign||function(r){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(r[l]=n[l])}return r},ve.apply(this,arguments)};Pe=Object.create?function(c,r,n,t){t===void 0&&(t=n);var e=Object.getOwnPropertyDescriptor(r,n);(!e||("get"in e?!r.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(c,t,e)}:function(c,r,n,t){t===void 0&&(t=n),c[t]=r[n]};gn=Object.create?function(c,r){Object.defineProperty(c,"default",{enumerable:!0,value:r})}:function(c,r){c.default=r},et=function(c){return et=Object.getOwnPropertyNames||function(r){var n=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[n.length]=t);return n},et(c)};yn=typeof SuppressedError=="function"?SuppressedError:function(c,r,n){var t=new Error(n);return t.name="SuppressedError",t.error=c,t.suppressed=r,t};En={__extends:Gt,__assign:ve,__rest:zt,__decorate:Wt,__param:Yt,__esDecorate:qt,__runInitializers:Vt,__propKey:Kt,__setFunctionName:Xt,__metadata:Zt,__awaiter:Qt,__generator:jt,__createBinding:Pe,__exportStar:er,__values:ke,__read:tt,__spread:tr,__spreadArrays:rr,__spreadArray:nr,__await:pe,__asyncGenerator:ir,__asyncDelegator:lr,__asyncValues:or,__makeTemplateObject:sr,__importStar:ar,__importDefault:fr,__classPrivateFieldGet:cr,__classPrivateFieldSet:ur,__classPrivateFieldIn:pr,__addDisposableResource:hr,__disposeResources:dr,__rewriteRelativeImportExtension:mr}});var Er=_e(rt=>{(function(c){"use strict";var r=typeof process=="object"&&process.env?process.env:self;c.parser=function(O){return new o(O)},c.CParser=o,c.CStream=d,c.createStream=N,c.MAX_BUFFER_LENGTH=64*1024,c.DEBUG=r.CDEBUG==="debug",c.INFO=r.CDEBUG==="debug"||r.CDEBUG==="info",c.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var n={textNode:void 0,numberNode:""},t=c.EVENTS.filter(function(O){return O!=="error"&&O!=="end"}),e=0,l;c.STATE={BEGIN:e++,VALUE:e++,OPEN_OBJECT:e++,CLOSE_OBJECT:e++,OPEN_ARRAY:e++,CLOSE_ARRAY:e++,TEXT_ESCAPE:e++,STRING:e++,BACKSLASH:e++,END:e++,OPEN_KEY:e++,CLOSE_KEY:e++,TRUE:e++,TRUE2:e++,TRUE3:e++,FALSE:e++,FALSE2:e++,FALSE3:e++,FALSE4:e++,NULL:e++,NULL2:e++,NULL3:e++,NUMBER_DECIMAL_POINT:e++,NUMBER_DIGIT:e++};for(var i in c.STATE)c.STATE[c.STATE[i]]=i;e=c.STATE;let a={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(O){function s(){this.__proto__=O}return s.prototype=O,new s}),Object.getPrototypeOf||(Object.getPrototypeOf=function(O){return O.__proto__}),Object.keys||(Object.keys=function(O){var s=[];for(var L in O)O.hasOwnProperty(L)&&s.push(L);return s});function p(O){var s=Math.max(c.MAX_BUFFER_LENGTH,10),L=0;for(var A in n){var $=O[A]===void 0?0:O[A].length;if($>s)switch(A){case"text":closeText(O);break;default:b(O,"Max buffer length exceeded: "+A)}L=Math.max(L,$)}O.bufferCheckPosition=c.MAX_BUFFER_LENGTH-L+O.position}function f(O){for(var s in n)O[s]=n[s]}var y=/[\\"\n]/g;function o(O){if(!(this instanceof o))return new o(O);var s=this;f(s),s.bufferCheckPosition=c.MAX_BUFFER_LENGTH,s.q=s.c=s.p="",s.opt=O||{},s.closed=s.closedRoot=s.sawRoot=!1,s.tag=s.error=null,s.state=e.BEGIN,s.stack=new Array,s.position=s.column=0,s.line=1,s.slashed=!1,s.unicodeI=0,s.unicodeS=null,s.depth=0,m(s,"onready")}o.prototype={end:function(){S(this)},write:I,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{l=un("stream").Stream}catch{l=function(){}}function N(O){return new d(O)}function d(O){if(!(this instanceof d))return new d(O);this._parser=new o(O),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var s=this;l.apply(s),this._parser.onend=function(){s.emit("end")},this._parser.onerror=function(L){s.emit("error",L),s._parser.error=null},t.forEach(function(L){Object.defineProperty(s,"on"+L,{get:function(){return s._parser["on"+L]},set:function(A){if(!A)return s.removeAllListeners(L),s._parser["on"+L]=A,A;s.on(L,A)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(l.prototype,{constructor:{value:d}}),d.prototype.write=function(O){O=new Buffer(O);for(var s=0;s<O.length;s++){var L=O[s];if(this.bytes_remaining>0){for(var A=0;A<this.bytes_remaining;A++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+A]=O[A];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,s=s+A-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&L>=128)if(L>=194&&L<=223&&(this.bytes_in_sequence=2),L>=224&&L<=239&&(this.bytes_in_sequence=3),L>=240&&L<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+s>O.length){for(var $=0;$<=O.length-1-s;$++)this.temp_buffs[this.bytes_in_sequence][$]=O[s+$];return this.bytes_remaining=s+this.bytes_in_sequence-O.length,!0}else{this.string=O.slice(s,s+this.bytes_in_sequence).toString(),s=s+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var K=s;K<O.length&&!(O[K]>=128);K++);this.string=O.slice(s,K).toString(),this._parser.write(this.string),this.emit("data",this.string),s=K-1}},d.prototype.end=function(O){return O&&O.length&&this._parser.write(O.toString()),this._parser.end(),!0},d.prototype.on=function(O,s){var L=this;return!L._parser["on"+O]&&t.indexOf(O)!==-1&&(L._parser["on"+O]=function(){var A=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);A.splice(0,0,O),L.emit.apply(L,A)}),l.prototype.on.call(L,O,s)},d.prototype.destroy=function(){f(this._parser),this.emit("close")};function m(O,s,L){c.INFO&&console.log("-- emit",s,L),O[s]&&O[s](L)}function u(O,s,L){g(O),m(O,s,L)}function g(O,s){O.textNode=w(O.opt,O.textNode),O.textNode!==void 0&&m(O,s||"onvalue",O.textNode),O.textNode=void 0}function E(O){O.numberNode&&m(O,"onvalue",parseFloat(O.numberNode)),O.numberNode=""}function w(O,s){return s===void 0||(O.trim&&(s=s.trim()),O.normalize&&(s=s.replace(/\s+/g," "))),s}function b(O,s){return g(O),s+=`
Line: `+O.line+`
Column: `+O.column+`
Char: `+O.c,s=new Error(s),O.error=s,m(O,"onerror",s),O}function S(O){return(O.state!==e.VALUE||O.depth!==0)&&b(O,"Unexpected end"),g(O),O.c="",O.closed=!0,m(O,"onend"),o.call(O,O.opt),O}function R(O){return O===a.carriageReturn||O===a.lineFeed||O===a.space||O===a.tab}function I(O){var s=this;if(this.error)throw this.error;if(s.closed)return b(s,"Cannot write after close. Assign an onready handler.");if(O===null)return S(s);var L=0,A=O.charCodeAt(0),$=s.p,K=!1;for(c.DEBUG&&console.log("write -> ["+O+"]");A&&($=A,s.c=A=O.charCodeAt(L++),$!==A?s.p=$:$=s.p,!!A);)switch(c.DEBUG&&console.log(L,A,c.STATE[s.state]),K?K=!1:(s.position++,A===a.lineFeed?(s.line++,s.column=0):s.column++),s.state){case e.BEGIN:A===a.openBrace?s.state=e.OPEN_OBJECT:A===a.openBracket?s.state=e.OPEN_ARRAY:R(A)||b(s,"Non-whitespace before {[.");continue;case e.OPEN_KEY:case e.OPEN_OBJECT:if(R(A))continue;if(s.state===e.OPEN_KEY)s.stack.push(e.CLOSE_KEY);else if(A===a.closeBrace){m(s,"onopenobject"),this.depth++,m(s,"oncloseobject"),this.depth--,s.state=s.stack.pop()||e.VALUE;continue}else s.stack.push(e.CLOSE_OBJECT);A===a.doubleQuote?s.state=e.STRING:b(s,'Malformed object key should start with "');continue;case e.CLOSE_KEY:case e.CLOSE_OBJECT:if(R(A))continue;var we=s.state===e.CLOSE_KEY?"key":"object";A===a.colon?(s.state===e.CLOSE_OBJECT?(s.stack.push(e.CLOSE_OBJECT),g(s,"onopenobject"),this.depth++):g(s,"onkey"),s.state=e.VALUE):A===a.closeBrace?(u(s,"oncloseobject"),this.depth--,s.state=s.stack.pop()||e.VALUE):A===a.comma?(s.state===e.CLOSE_OBJECT&&s.stack.push(e.CLOSE_OBJECT),g(s),s.state=e.OPEN_KEY):b(s,"Bad object");continue;case e.OPEN_ARRAY:case e.VALUE:if(R(A))continue;if(s.state===e.OPEN_ARRAY)if(m(s,"onopenarray"),this.depth++,s.state=e.VALUE,A===a.closeBracket){m(s,"onclosearray"),this.depth--,s.state=s.stack.pop()||e.VALUE;continue}else s.stack.push(e.CLOSE_ARRAY);A===a.doubleQuote?s.state=e.STRING:A===a.openBrace?s.state=e.OPEN_OBJECT:A===a.openBracket?s.state=e.OPEN_ARRAY:A===a.t?s.state=e.TRUE:A===a.f?s.state=e.FALSE:A===a.n?s.state=e.NULL:A===a.minus?s.numberNode+="-":a._0<=A&&A<=a._9?(s.numberNode+=String.fromCharCode(A),s.state=e.NUMBER_DIGIT):b(s,"Bad value");continue;case e.CLOSE_ARRAY:if(A===a.comma)s.stack.push(e.CLOSE_ARRAY),g(s,"onvalue"),s.state=e.VALUE;else if(A===a.closeBracket)u(s,"onclosearray"),this.depth--,s.state=s.stack.pop()||e.VALUE;else{if(R(A))continue;b(s,"Bad array")}continue;case e.STRING:s.textNode===void 0&&(s.textNode="");var Y=L-1,ee=s.slashed,X=s.unicodeI;e:for(;;){for(c.DEBUG&&console.log(L,A,c.STATE[s.state],ee);X>0;)if(s.unicodeS+=String.fromCharCode(A),A=O.charCodeAt(L++),s.position++,X===4?(s.textNode+=String.fromCharCode(parseInt(s.unicodeS,16)),X=0,Y=L-1):X++,!A)break e;if(A===a.doubleQuote&&!ee){s.state=s.stack.pop()||e.VALUE,s.textNode+=O.substring(Y,L-1),s.position+=L-1-Y;break}if(A===a.backslash&&!ee&&(ee=!0,s.textNode+=O.substring(Y,L-1),s.position+=L-1-Y,A=O.charCodeAt(L++),s.position++,!A))break;if(ee){if(ee=!1,A===a.n?s.textNode+=`
`:A===a.r?s.textNode+="\r":A===a.t?s.textNode+="	":A===a.f?s.textNode+="\f":A===a.b?s.textNode+="\b":A===a.u?(X=1,s.unicodeS=""):s.textNode+=String.fromCharCode(A),A=O.charCodeAt(L++),s.position++,Y=L-1,A)continue;break}y.lastIndex=L;var de=y.exec(O);if(de===null){L=O.length+1,s.textNode+=O.substring(Y,L-1),s.position+=L-1-Y;break}if(L=de.index+1,A=O.charCodeAt(de.index),!A){s.textNode+=O.substring(Y,L-1),s.position+=L-1-Y;break}}s.slashed=ee,s.unicodeI=X;continue;case e.TRUE:A===a.r?s.state=e.TRUE2:b(s,"Invalid true started with t"+A);continue;case e.TRUE2:A===a.u?s.state=e.TRUE3:b(s,"Invalid true started with tr"+A);continue;case e.TRUE3:A===a.e?(m(s,"onvalue",!0),s.state=s.stack.pop()||e.VALUE):b(s,"Invalid true started with tru"+A);continue;case e.FALSE:A===a.a?s.state=e.FALSE2:b(s,"Invalid false started with f"+A);continue;case e.FALSE2:A===a.l?s.state=e.FALSE3:b(s,"Invalid false started with fa"+A);continue;case e.FALSE3:A===a.s?s.state=e.FALSE4:b(s,"Invalid false started with fal"+A);continue;case e.FALSE4:A===a.e?(m(s,"onvalue",!1),s.state=s.stack.pop()||e.VALUE):b(s,"Invalid false started with fals"+A);continue;case e.NULL:A===a.u?s.state=e.NULL2:b(s,"Invalid null started with n"+A);continue;case e.NULL2:A===a.l?s.state=e.NULL3:b(s,"Invalid null started with nu"+A);continue;case e.NULL3:A===a.l?(m(s,"onvalue",null),s.state=s.stack.pop()||e.VALUE):b(s,"Invalid null started with nul"+A);continue;case e.NUMBER_DECIMAL_POINT:A===a.period?(s.numberNode+=".",s.state=e.NUMBER_DIGIT):b(s,"Leading zero not followed by .");continue;case e.NUMBER_DIGIT:a._0<=A&&A<=a._9?s.numberNode+=String.fromCharCode(A):A===a.period?(s.numberNode.indexOf(".")!==-1&&b(s,"Invalid number has two dots"),s.numberNode+="."):A===a.e||A===a.E?((s.numberNode.indexOf("e")!==-1||s.numberNode.indexOf("E")!==-1)&&b(s,"Invalid number has two exponential"),s.numberNode+="e"):A===a.plus||A===a.minus?($===a.e||$===a.E||b(s,"Invalid symbol in number"),s.numberNode+=String.fromCharCode(A)):(E(s),L--,K=!0,s.state=s.stack.pop()||e.VALUE);continue;default:b(s,"Unknown state: "+s.state)}return s.position>=s.bufferCheckPosition&&p(s),s}})(typeof rt>"u"?clarinet={}:rt)});var Or=_e(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.stringify=he.parse=void 0;var Nn=(yr(),mn(gr)),On=Nn.__importDefault(Er());function An(c){let r=it(),n,t;function e(i){try{let a=r.next(i);a.done&&(n=a.value)}catch(a){t=a}}let l=On.default.parser();if(l.onopenobject=i=>e({type:"openobject",key:i}),l.onopenarray=()=>e({type:"openarray"}),l.onkey=i=>e({type:"key",key:i}),l.onvalue=i=>e({type:"value",value:i}),l.oncloseobject=()=>e({type:"closeobject"}),l.onclosearray=()=>e({type:"closearray"}),l.onerror=i=>e({type:"error",err:i}),r.next(),l.write(c).close(),t)throw t;return n}he.parse=An;function nt(c){return Array.isArray(c)?`[${c.map(nt).join(",")}]`:c instanceof Map?`{${[...c].map(([r,n])=>JSON.stringify(r)+":"+nt(n)).join(",")}}`:JSON.stringify(c)}he.stringify=nt;var Nr=Symbol();function*it(){let c=yield;switch(c.type){case"value":return c.value;case"openobject":let r=new Map,n=c.key;for(n===void 0&&(yield);n!==void 0;)r.set(n,yield*it()),n=(yield).key;return r;case"openarray":let t=[],e;for(;;){if(e=yield*it(),e===Nr)return t;t.push(e)}case"closearray":return Nr;case"error":throw c.err;default:throw Error(`Unexpected ParseEvent ${c.type}`)}}});var Ar=_e((lt,ot)=>{(function(c,r){typeof lt=="object"&&typeof ot<"u"?ot.exports=r():typeof define=="function"&&define.amd?define(r):(c=typeof globalThis<"u"?globalThis:c||self,c.DOMPurify=r())})(lt,function(){"use strict";let{entries:c,setPrototypeOf:r,isFrozen:n,getPrototypeOf:t,getOwnPropertyDescriptor:e}=Object,{freeze:l,seal:i,create:a}=Object,{apply:p,construct:f}=typeof Reflect<"u"&&Reflect;l||(l=function(x){return x}),i||(i=function(x){return x}),p||(p=function(x,k,D){return x.apply(k,D)}),f||(f=function(x,k){return new x(...k)});let y=I(Array.prototype.forEach),o=I(Array.prototype.pop),N=I(Array.prototype.push),d=I(String.prototype.toLowerCase),m=I(String.prototype.toString),u=I(String.prototype.match),g=I(String.prototype.replace),E=I(String.prototype.indexOf),w=I(String.prototype.trim),b=I(Object.prototype.hasOwnProperty),S=I(RegExp.prototype.test),R=O(TypeError);function I(v){return function(x){for(var k=arguments.length,D=new Array(k>1?k-1:0),M=1;M<k;M++)D[M-1]=arguments[M];return p(v,x,D)}}function O(v){return function(){for(var x=arguments.length,k=new Array(x),D=0;D<x;D++)k[D]=arguments[D];return f(v,k)}}function s(v,x){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d;r&&r(v,null);let D=x.length;for(;D--;){let M=x[D];if(typeof M=="string"){let te=k(M);te!==M&&(n(x)||(x[D]=te),M=te)}v[M]=!0}return v}function L(v){for(let x=0;x<v.length;x++)b(v,x)||(v[x]=null);return v}function A(v){let x=a(null);for(let[k,D]of c(v))b(v,k)&&(Array.isArray(D)?x[k]=L(D):D&&typeof D=="object"&&D.constructor===Object?x[k]=A(D):x[k]=D);return x}function $(v,x){for(;v!==null;){let D=e(v,x);if(D){if(D.get)return I(D.get);if(typeof D.value=="function")return I(D.value)}v=t(v)}function k(){return null}return k}let K=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),we=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ee=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),X=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),de=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),st=l(["#text"]),at=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Fe=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ft=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Se=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Lr=i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xr=i(/<%[\w\W]*|[\w\W]*%>/gm),Cr=i(/\${[\w\W]*}/gm),Rr=i(/^data-[\-\w.\u00B7-\uFFFF]/),Ir=i(/^aria-[\-\w]+$/),ct=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Dr=i(/^(?:\w+script|data):/i),vr=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ut=i(/^html$/i),kr=i(/^[a-z][.\w]*(-[.\w]+)+$/i);var pt=Object.freeze({__proto__:null,MUSTACHE_EXPR:Lr,ERB_EXPR:xr,TMPLIT_EXPR:Cr,DATA_ATTR:Rr,ARIA_ATTR:Ir,IS_ALLOWED_URI:ct,IS_SCRIPT_OR_DATA:Dr,ATTR_WHITESPACE:vr,DOCTYPE_NAME:ut,CUSTOM_ELEMENT:kr});let me={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Pr=function(){return typeof window>"u"?null:window},Fr=function(x,k){if(typeof x!="object"||typeof x.createPolicy!="function")return null;let D=null,M="data-tt-policy-suffix";k&&k.hasAttribute(M)&&(D=k.getAttribute(M));let te="dompurify"+(D?"#"+D:"");try{return x.createPolicy(te,{createHTML(le){return le},createScriptURL(le){return le}})}catch{return console.warn("TrustedTypes policy "+te+" could not be created."),null}};function ht(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pr(),x=C=>ht(C);if(x.version="3.1.7",x.removed=[],!v||!v.document||v.document.nodeType!==me.document)return x.isSupported=!1,x;let{document:k}=v,D=k,M=D.currentScript,{DocumentFragment:te,HTMLTemplateElement:le,Node:$e,Element:dt,NodeFilter:ge,NamedNodeMap:Ur=v.NamedNodeMap||v.MozNamedAttrMap,HTMLFormElement:Jr,DOMParser:Hr,trustedTypes:Te}=v,ye=dt.prototype,Br=$(ye,"cloneNode"),Mr=$(ye,"remove"),Gr=$(ye,"nextSibling"),zr=$(ye,"childNodes"),Le=$(ye,"parentNode");if(typeof le=="function"){let C=k.createElement("template");C.content&&C.content.ownerDocument&&(k=C.content.ownerDocument)}let z,Ee="",{implementation:Ue,createNodeIterator:Wr,createDocumentFragment:Yr,getElementsByTagName:qr}=k,{importNode:Vr}=D,Z={};x.isSupported=typeof c=="function"&&typeof Le=="function"&&Ue&&Ue.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Je,ERB_EXPR:He,TMPLIT_EXPR:Be,DATA_ATTR:Kr,ARIA_ATTR:Xr,IS_SCRIPT_OR_DATA:Zr,ATTR_WHITESPACE:mt,CUSTOM_ELEMENT:Qr}=pt,{IS_ALLOWED_URI:gt}=pt,U=null,yt=s({},[...K,...we,...Y,...X,...st]),J=null,Et=s({},[...at,...Fe,...ft,...Se]),F=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,Me=null,Nt=!0,Ge=!0,Ot=!1,At=!0,oe=!1,ze=!0,ie=!1,We=!1,Ye=!1,se=!1,xe=!1,Ce=!1,bt=!0,_t=!1,jr="user-content-",qe=!0,Oe=!1,ae={},fe=null,wt=s({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),St=null,Tt=s({},["audio","video","img","source","image","track"]),Ve=null,Lt=s({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Re="http://www.w3.org/1998/Math/MathML",Ie="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xhtml",ce=re,Ke=!1,Xe=null,en=s({},[Re,Ie,re],m),Ae=null,tn=["application/xhtml+xml","text/html"],rn="text/html",H=null,ue=null,nn=k.createElement("form"),xt=function(h){return h instanceof RegExp||h instanceof Function},Ze=function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ue&&ue===h)){if((!h||typeof h!="object")&&(h={}),h=A(h),Ae=tn.indexOf(h.PARSER_MEDIA_TYPE)===-1?rn:h.PARSER_MEDIA_TYPE,H=Ae==="application/xhtml+xml"?m:d,U=b(h,"ALLOWED_TAGS")?s({},h.ALLOWED_TAGS,H):yt,J=b(h,"ALLOWED_ATTR")?s({},h.ALLOWED_ATTR,H):Et,Xe=b(h,"ALLOWED_NAMESPACES")?s({},h.ALLOWED_NAMESPACES,m):en,Ve=b(h,"ADD_URI_SAFE_ATTR")?s(A(Lt),h.ADD_URI_SAFE_ATTR,H):Lt,St=b(h,"ADD_DATA_URI_TAGS")?s(A(Tt),h.ADD_DATA_URI_TAGS,H):Tt,fe=b(h,"FORBID_CONTENTS")?s({},h.FORBID_CONTENTS,H):wt,Ne=b(h,"FORBID_TAGS")?s({},h.FORBID_TAGS,H):{},Me=b(h,"FORBID_ATTR")?s({},h.FORBID_ATTR,H):{},ae=b(h,"USE_PROFILES")?h.USE_PROFILES:!1,Nt=h.ALLOW_ARIA_ATTR!==!1,Ge=h.ALLOW_DATA_ATTR!==!1,Ot=h.ALLOW_UNKNOWN_PROTOCOLS||!1,At=h.ALLOW_SELF_CLOSE_IN_ATTR!==!1,oe=h.SAFE_FOR_TEMPLATES||!1,ze=h.SAFE_FOR_XML!==!1,ie=h.WHOLE_DOCUMENT||!1,se=h.RETURN_DOM||!1,xe=h.RETURN_DOM_FRAGMENT||!1,Ce=h.RETURN_TRUSTED_TYPE||!1,Ye=h.FORCE_BODY||!1,bt=h.SANITIZE_DOM!==!1,_t=h.SANITIZE_NAMED_PROPS||!1,qe=h.KEEP_CONTENT!==!1,Oe=h.IN_PLACE||!1,gt=h.ALLOWED_URI_REGEXP||ct,ce=h.NAMESPACE||re,F=h.CUSTOM_ELEMENT_HANDLING||{},h.CUSTOM_ELEMENT_HANDLING&&xt(h.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(F.tagNameCheck=h.CUSTOM_ELEMENT_HANDLING.tagNameCheck),h.CUSTOM_ELEMENT_HANDLING&&xt(h.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(F.attributeNameCheck=h.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),h.CUSTOM_ELEMENT_HANDLING&&typeof h.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(F.allowCustomizedBuiltInElements=h.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),oe&&(Ge=!1),xe&&(se=!0),ae&&(U=s({},st),J=[],ae.html===!0&&(s(U,K),s(J,at)),ae.svg===!0&&(s(U,we),s(J,Fe),s(J,Se)),ae.svgFilters===!0&&(s(U,Y),s(J,Fe),s(J,Se)),ae.mathMl===!0&&(s(U,X),s(J,ft),s(J,Se))),h.ADD_TAGS&&(U===yt&&(U=A(U)),s(U,h.ADD_TAGS,H)),h.ADD_ATTR&&(J===Et&&(J=A(J)),s(J,h.ADD_ATTR,H)),h.ADD_URI_SAFE_ATTR&&s(Ve,h.ADD_URI_SAFE_ATTR,H),h.FORBID_CONTENTS&&(fe===wt&&(fe=A(fe)),s(fe,h.FORBID_CONTENTS,H)),qe&&(U["#text"]=!0),ie&&s(U,["html","head","body"]),U.table&&(s(U,["tbody"]),delete Ne.tbody),h.TRUSTED_TYPES_POLICY){if(typeof h.TRUSTED_TYPES_POLICY.createHTML!="function")throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof h.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw R('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');z=h.TRUSTED_TYPES_POLICY,Ee=z.createHTML("")}else z===void 0&&(z=Fr(Te,M)),z!==null&&typeof Ee=="string"&&(Ee=z.createHTML(""));l&&l(h),ue=h}},Ct=s({},["mi","mo","mn","ms","mtext"]),Rt=s({},["annotation-xml"]),ln=s({},["title","style","font","a","script"]),It=s({},[...we,...Y,...ee]),Dt=s({},[...X,...de]),on=function(h){let _=Le(h);(!_||!_.tagName)&&(_={namespaceURI:ce,tagName:"template"});let T=d(h.tagName),P=d(_.tagName);return Xe[h.namespaceURI]?h.namespaceURI===Ie?_.namespaceURI===re?T==="svg":_.namespaceURI===Re?T==="svg"&&(P==="annotation-xml"||Ct[P]):!!It[T]:h.namespaceURI===Re?_.namespaceURI===re?T==="math":_.namespaceURI===Ie?T==="math"&&Rt[P]:!!Dt[T]:h.namespaceURI===re?_.namespaceURI===Ie&&!Rt[P]||_.namespaceURI===Re&&!Ct[P]?!1:!Dt[T]&&(ln[T]||!It[T]):!!(Ae==="application/xhtml+xml"&&Xe[h.namespaceURI]):!1},Q=function(h){N(x.removed,{element:h});try{Le(h).removeChild(h)}catch{Mr(h)}},De=function(h,_){try{N(x.removed,{attribute:_.getAttributeNode(h),from:_})}catch{N(x.removed,{attribute:null,from:_})}if(_.removeAttribute(h),h==="is"&&!J[h])if(se||xe)try{Q(_)}catch{}else try{_.setAttribute(h,"")}catch{}},vt=function(h){let _=null,T=null;if(Ye)h="<remove></remove>"+h;else{let B=u(h,/^[\r\n\t ]+/);T=B&&B[0]}Ae==="application/xhtml+xml"&&ce===re&&(h='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+h+"</body></html>");let P=z?z.createHTML(h):h;if(ce===re)try{_=new Hr().parseFromString(P,Ae)}catch{}if(!_||!_.documentElement){_=Ue.createDocument(ce,"template",null);try{_.documentElement.innerHTML=Ke?Ee:P}catch{}}let G=_.body||_.documentElement;return h&&T&&G.insertBefore(k.createTextNode(T),G.childNodes[0]||null),ce===re?qr.call(_,ie?"html":"body")[0]:ie?_.documentElement:G},kt=function(h){return Wr.call(h.ownerDocument||h,h,ge.SHOW_ELEMENT|ge.SHOW_COMMENT|ge.SHOW_TEXT|ge.SHOW_PROCESSING_INSTRUCTION|ge.SHOW_CDATA_SECTION,null)},Pt=function(h){return h instanceof Jr&&(typeof h.nodeName!="string"||typeof h.textContent!="string"||typeof h.removeChild!="function"||!(h.attributes instanceof Ur)||typeof h.removeAttribute!="function"||typeof h.setAttribute!="function"||typeof h.namespaceURI!="string"||typeof h.insertBefore!="function"||typeof h.hasChildNodes!="function")},Ft=function(h){return typeof $e=="function"&&h instanceof $e},ne=function(h,_,T){Z[h]&&y(Z[h],P=>{P.call(x,_,T,ue)})},$t=function(h){let _=null;if(ne("beforeSanitizeElements",h,null),Pt(h))return Q(h),!0;let T=H(h.nodeName);if(ne("uponSanitizeElement",h,{tagName:T,allowedTags:U}),h.hasChildNodes()&&!Ft(h.firstElementChild)&&S(/<[/\w]/g,h.innerHTML)&&S(/<[/\w]/g,h.textContent)||h.nodeType===me.progressingInstruction||ze&&h.nodeType===me.comment&&S(/<[/\w]/g,h.data))return Q(h),!0;if(!U[T]||Ne[T]){if(!Ne[T]&&Jt(T)&&(F.tagNameCheck instanceof RegExp&&S(F.tagNameCheck,T)||F.tagNameCheck instanceof Function&&F.tagNameCheck(T)))return!1;if(qe&&!fe[T]){let P=Le(h)||h.parentNode,G=zr(h)||h.childNodes;if(G&&P){let B=G.length;for(let q=B-1;q>=0;--q){let j=Br(G[q],!0);j.__removalCount=(h.__removalCount||0)+1,P.insertBefore(j,Gr(h))}}}return Q(h),!0}return h instanceof dt&&!on(h)||(T==="noscript"||T==="noembed"||T==="noframes")&&S(/<\/no(script|embed|frames)/i,h.innerHTML)?(Q(h),!0):(oe&&h.nodeType===me.text&&(_=h.textContent,y([Je,He,Be],P=>{_=g(_,P," ")}),h.textContent!==_&&(N(x.removed,{element:h.cloneNode()}),h.textContent=_)),ne("afterSanitizeElements",h,null),!1)},Ut=function(h,_,T){if(bt&&(_==="id"||_==="name")&&(T in k||T in nn))return!1;if(!(Ge&&!Me[_]&&S(Kr,_))){if(!(Nt&&S(Xr,_))){if(!J[_]||Me[_]){if(!(Jt(h)&&(F.tagNameCheck instanceof RegExp&&S(F.tagNameCheck,h)||F.tagNameCheck instanceof Function&&F.tagNameCheck(h))&&(F.attributeNameCheck instanceof RegExp&&S(F.attributeNameCheck,_)||F.attributeNameCheck instanceof Function&&F.attributeNameCheck(_))||_==="is"&&F.allowCustomizedBuiltInElements&&(F.tagNameCheck instanceof RegExp&&S(F.tagNameCheck,T)||F.tagNameCheck instanceof Function&&F.tagNameCheck(T))))return!1}else if(!Ve[_]){if(!S(gt,g(T,mt,""))){if(!((_==="src"||_==="xlink:href"||_==="href")&&h!=="script"&&E(T,"data:")===0&&St[h])){if(!(Ot&&!S(Zr,g(T,mt,"")))){if(T)return!1}}}}}}return!0},Jt=function(h){return h!=="annotation-xml"&&u(h,Qr)},Ht=function(h){ne("beforeSanitizeAttributes",h,null);let{attributes:_}=h;if(!_)return;let T={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J},P=_.length;for(;P--;){let G=_[P],{name:B,namespaceURI:q,value:j}=G,be=H(B),W=B==="value"?j:w(j);if(T.attrName=be,T.attrValue=W,T.keepAttr=!0,T.forceKeepAttr=void 0,ne("uponSanitizeAttribute",h,T),W=T.attrValue,T.forceKeepAttr||(De(B,h),!T.keepAttr))continue;if(!At&&S(/\/>/i,W)){De(B,h);continue}oe&&y([Je,He,Be],Mt=>{W=g(W,Mt," ")});let Bt=H(h.nodeName);if(Ut(Bt,be,W)){if(_t&&(be==="id"||be==="name")&&(De(B,h),W=jr+W),ze&&S(/((--!?|])>)|<\/(style|title)/i,W)){De(B,h);continue}if(z&&typeof Te=="object"&&typeof Te.getAttributeType=="function"&&!q)switch(Te.getAttributeType(Bt,be)){case"TrustedHTML":{W=z.createHTML(W);break}case"TrustedScriptURL":{W=z.createScriptURL(W);break}}try{q?h.setAttributeNS(q,B,W):h.setAttribute(B,W),Pt(h)?Q(h):o(x.removed)}catch{}}}ne("afterSanitizeAttributes",h,null)},sn=function C(h){let _=null,T=kt(h);for(ne("beforeSanitizeShadowDOM",h,null);_=T.nextNode();)ne("uponSanitizeShadowNode",_,null),!$t(_)&&(_.content instanceof te&&C(_.content),Ht(_));ne("afterSanitizeShadowDOM",h,null)};return x.sanitize=function(C){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=null,T=null,P=null,G=null;if(Ke=!C,Ke&&(C="<!-->"),typeof C!="string"&&!Ft(C))if(typeof C.toString=="function"){if(C=C.toString(),typeof C!="string")throw R("dirty is not a string, aborting")}else throw R("toString is not a function");if(!x.isSupported)return C;if(We||Ze(h),x.removed=[],typeof C=="string"&&(Oe=!1),Oe){if(C.nodeName){let j=H(C.nodeName);if(!U[j]||Ne[j])throw R("root node is forbidden and cannot be sanitized in-place")}}else if(C instanceof $e)_=vt("<!---->"),T=_.ownerDocument.importNode(C,!0),T.nodeType===me.element&&T.nodeName==="BODY"||T.nodeName==="HTML"?_=T:_.appendChild(T);else{if(!se&&!oe&&!ie&&C.indexOf("<")===-1)return z&&Ce?z.createHTML(C):C;if(_=vt(C),!_)return se?null:Ce?Ee:""}_&&Ye&&Q(_.firstChild);let B=kt(Oe?C:_);for(;P=B.nextNode();)$t(P)||(P.content instanceof te&&sn(P.content),Ht(P));if(Oe)return C;if(se){if(xe)for(G=Yr.call(_.ownerDocument);_.firstChild;)G.appendChild(_.firstChild);else G=_;return(J.shadowroot||J.shadowrootmode)&&(G=Vr.call(D,G,!0)),G}let q=ie?_.outerHTML:_.innerHTML;return ie&&U["!doctype"]&&_.ownerDocument&&_.ownerDocument.doctype&&_.ownerDocument.doctype.name&&S(ut,_.ownerDocument.doctype.name)&&(q="<!DOCTYPE "+_.ownerDocument.doctype.name+`>
`+q),oe&&y([Je,He,Be],j=>{q=g(q,j," ")}),z&&Ce?z.createHTML(q):q},x.setConfig=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ze(C),We=!0},x.clearConfig=function(){ue=null,We=!1},x.isValidAttribute=function(C,h,_){ue||Ze({});let T=H(C),P=H(h);return Ut(T,P,_)},x.addHook=function(C,h){typeof h=="function"&&(Z[C]=Z[C]||[],N(Z[C],h))},x.removeHook=function(C){if(Z[C])return o(Z[C])},x.removeHooks=function(C){Z[C]&&(Z[C]=[])},x.removeAllHooks=function(){Z={}},x}var $r=ht();return $r})});var _r=_e((Ln,br)=>{var V=Ar();br.exports=class{constructor(r){let n=this;n.parentContext=r,n.websiteRegex=/^(https?:\/\/)?[-a-zA-Z0-9]*[a-zA-Z0-9]+(\.[-a-zA-Z0-9]*[a-zA-Z0-9]+)+/}escape(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(r,n=!1,t=void 0){let e=this;try{e.parentContext.mapToJSON(r)}catch(f){throw console.log(f),new Error("Provided map value doesn't passes JSON.parse()")}var l=0,i=document.createElement("ul"),a;return t!==void 0&&(a=JSON.parse(t)),i.className="DAMON-List",p(r,i),i;function p(f,y){if(typeof y!="object"||y==null||Array.isArray(y))throw new Error("Error List Item number "+l+": @param { {} } list");if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map){if(y.tagName=="UL")for(let[d,m]of f){let u=document.createElement("ul"),g=document.createElement("code"),E=document.createElement("span"),w=document.createElement("li");if(E.className="type-key",e.websiteRegex.test(d)){let b=V.sanitize(`<a href="${d}">${d}</a>`);E.innerHTML=b}else t!==void 0&&d in a["@context"]?E.innerHTML=V.sanitize(`<a href="${a["@context"][d]["@id"]}">${d}</a>`):E.textContent=d;if(typeof m=="object"&&m!==null)if(Array.isArray(m))if(f.damonInlineArrays!==void 0&&f.damonInlineArrays.indexOf(d)>-1){g.innerHTML=E.outerHTML+": [";for(let b=0,S=m.length;b<S;b++){let R=document.createElement("span"),I=m[b];I===!0?(R.textContent="true",R.className="type-boolean"):I===!1?(R.textContent="false",R.className="type-boolean"):I===null?(R.textContent="null",R.className="type-null"):Number.isFinite(I)&&!Number.isNaN(I)?(R.textContent=I+"",R.className="type-number"):(n?e.websiteRegex.test(I)?R.innerHTML=V.sanitize(`<a href="${I}">"${I}"</a>`):R.innerHTML=`"${I}"`:e.websiteRegex.test(I)?R.innerHTML=V.sanitize(`<a href="${I}">"${I}"</a>`):R.textContent=`"${I}"`,R.className="type-string"),b!==0&&(g.innerHTML+=", "),g.appendChild(R)}g.innerHTML+="]",w.appendChild(g),w.appendChild(u),y.appendChild(w)}else g.innerHTML=E.outerHTML+": []",w.appendChild(g),w.appendChild(u),y.appendChild(w),p(m,u);else f.implicitMaps!==void 0&&f.implicitMaps.indexOf(d)>-1?g.innerHTML=E.outerHTML:g.innerHTML=E.outerHTML+": {}",w.appendChild(g),w.appendChild(u),y.appendChild(w),p(m,u);else{l++,g.innerHTML=E.outerHTML+": ";let b=document.createElement("span"),S=m;S===!0?(b.textContent="true",b.className="type-boolean"):S===!1?(b.textContent="false",b.className="type-boolean"):S===null?(b.textContent="null",b.className="type-null"):Number.isFinite(S)&&!Number.isNaN(S)?(b.textContent=S+"",b.className="type-number"):(n?e.websiteRegex.test(S)?b.innerHTML=V.sanitize(`<a href="${S}">"${S}"</a>`):b.innerHTML=`"${S}"`:e.websiteRegex.test(S)?b.innerHTML=V.sanitize(`<a href="${S}">"${S}"</a>`):b.textContent=`"${S}"`,b.className="type-string"),f.implicitNulls===void 0||f.implicitNulls.indexOf(d)==-1?g.appendChild(b):g.innerHTML=g.innerHTML.slice(0,-2),w.appendChild(g),y.appendChild(w)}}}else if(Array.isArray(f))for(var o=0,N=f.length;o<N;o++){let d=document.createElement("ul"),m=document.createElement("code"),u=document.createElement("li");if(typeof f[o]=="object"&&f[o]!==null)if(Array.isArray(f[o]))if(f.damonInlineArrays!==void 0&&f.damonInlineArrays.indexOf(o)>-1){m.innerHTML+="[";for(let g=0,E=f[o].length;g<E;g++){let w=document.createElement("span"),b=f[o][g];b===!0?(w.textContent="true",w.className="type-boolean"):b===!1?(w.textContent="false",w.className="type-boolean"):b===null?(w.textContent="null",w.className="type-null"):Number.isFinite(b)&&!Number.isNaN(b)?(w.textContent=b+"",w.className="type-number"):(n?e.websiteRegex.test(b)?w.innerHTML=V.sanitize(`<a href="${b}">"${b}"</a>`):w.innerHTML=`"${b}"`:e.websiteRegex.test(b)?w.innerHTML=V.sanitize(`<a href="${b}">"${b}"</a>`):w.textContent=`"${b}"`,w.className="type-string"),g!==0&&(m.innerHTML+=", "),m.appendChild(w)}m.innerHTML+="]",u.appendChild(m),u.appendChild(d),y.appendChild(u)}else m.textContent="[]",u.appendChild(m),u.appendChild(d),y.appendChild(u),p(f[o],d);else m.textContent="{}",u.appendChild(m),u.appendChild(d),y.appendChild(u),p(f[o],d);else{l++;let g=f[o];g===!0?(m.textContent="true",m.className="type-boolean"):g===!1?(m.textContent="false",m.className="type-boolean"):g===null?(m.textContent="null",m.className="type-null"):Number.isFinite(g)&&!Number.isNaN(g)?(m.textContent=g+"",m.className="type-number"):(n?e.websiteRegex.test(g)?m.innerHTML=V.sanitize(`<a href="${g}">"${g}"</a>`):m.innerHTML=`"${g}"`:e.websiteRegex.test(g)?m.innerHTML=V.sanitize(`<a href="${g}">"${g}"</a>`):m.textContent=`"${g}"`,m.className="type-string"),u.appendChild(m),u.appendChild(d),y.appendChild(u)}}}}mapToHtmlTable(r,n=!1){let t=this;try{t.parentContext.mapToJSON(r)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var e=0,l=document.createElement("table"),i=document.createElement("thead"),a=document.createElement("tbody"),p=!1,f=0;if(l.className="DAMON-Table",typeof r!="object"||r==null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[y,o]of r){if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map)if(y=="0"&&!p){let N=document.createElement("tr");f=o.length;for(let[d,m]of o)if(m===null){let u=document.createElement("th");n?t.websiteRegex.test(d)?u.innerHTML=V.sanitize(`<a href="${d}">${d}</a>`):u.innerHTML=`${d}`:t.websiteRegex.test(d)?u.innerHTML=V.sanitize(`<a href="${d}">${d}</a>`):u.textContent=`${d}`,N.appendChild(u)}else throw new Error("Expected implicit null property, saw otherwise");i.appendChild(N),p=!0}else{if(f==0&&(f=o.length),o.length!=f)throw new Error("Error List Item number "+e+": @param { {} } list");let N=document.createElement("tr");for(let[d,m]of o)if(m===null){let u=document.createElement("td");n?t.websiteRegex.test(d)?u.innerHTML=V.sanitize(`<a href="${d}">${d}</a>`):u.innerHTML=`${d}`:t.websiteRegex.test(d)?u.innerHTML=V.sanitize(`<a href="${d}">${d}</a>`):u.textContent=`${d}`,N.appendChild(u)}else throw new Error("Expected implicit null property, saw otherwise");a.appendChild(N)}else if(typeof o!="object"&&y=="00"){let N=document.createElement("caption");n?N.innerHTML=o:N.textContent=o,l.appendChild(N)}else throw new Error("Error List Item number "+e+": @param { {} } list");e++}return p&&l.appendChild(i),l.appendChild(a),l}mapTreeLeavesToHtmlTable(r,n=!1){let t=this;try{t.parentContext.mapToJSON(r)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var e=0,l=0,i=document.createElement("table"),a=document.createElement("thead"),p=document.createElement("tbody"),f=!1;if(i.className="DAMON-LeavesToTable",typeof r!="object"||r==null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[o,N]of r){if(typeof N=="object"&&!Array.isArray(N)){if(o=="head"&&!f){try{y(N,a)}catch{return}f=!0}else if(o=="body")try{y(N,p)}catch{return}}else if(typeof N!="object"&&o=="caption"){let d=document.createElement("caption");n?d.innerHTML=N:d.textContent=N,i.appendChild(d)}else throw new Error("Error List Item number "+e+": @param { {} } list");e++}return f&&i.appendChild(a),i.appendChild(p),i;function y(o,N,d=0,m=[]){if(typeof N!="object"||N==null)throw new Error("Error List Item number "+e+": @param { {} } list");if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map){if(N.tagName=="THEAD")if(Array.from(o.keys()).length==1)if(typeof o.get(Array.from(o.keys())[0])=="object"&&o.get(Array.from(o.keys())[0])!==null)e++,y(o.get(Array.from(o.keys())[0]),N,d+1,m.concat([Array.from(o.keys())[0]]));else throw new Error("Error List Item number "+e+": @param { {} } list");else throw new Error("Error List Item number "+e+": @param { {} } list");else if(N.tagName=="TBODY"){if(Array.from(o.keys()).length==0)throw new Error("Error List Item number "+e+": @param { {} } list");for(let[u,g]of o)if(typeof g=="object"&&g!==null)e++,y(g,N,d+1,m.concat([u]));else throw new Error("Error List Item number "+e+": @param { {} } list")}}else if(Array.isArray(o)){if(N.tagName=="THEAD")if(o.length==1){e++,l=d;let u=document.createElement("tr");m.push(o[0]);for(let g=0,E=m.length;g<E;g++){let w=document.createElement("th");n?w.innerHTML=m[g]:w.textContent=m[g],u.appendChild(w)}N.appendChild(u)}else throw new Error("Error List Item number "+e+": @param { {} } list");else if(N.tagName=="TBODY")if(d==l){if(o.length==0)throw new Error("Error List Item number "+e+": @param { {} } list");for(let u=0,g=o.length;u<g;u++){e++;let E=document.createElement("tr");for(let b=0,S=m.length;b<S;b++){let R=document.createElement("td");n?R.innerHTML=m[b]:R.textContent=m[b],E.appendChild(R)}let w=document.createElement("td");n?w.innerHTML=o[u]:w.textContent=o[u],w.textContent=o[u],E.appendChild(w),N.appendChild(E)}}else throw new Error("Error List Item number "+e+": @param { {} } list")}}}htmlToJSON(r){let n=this;var t=0;if(r.firstElementChild.textContent=="{}")return n._mapToJSON(e(r,new Map));if(r.firstElementChild.textContent=="[]")return n._mapToJSON(e(r,[]));function e(l,i){if(typeof l!="object"||l==null||Array.isArray(l))throw new Error("Error List Item number "+t+": @param { {} } list");if(typeof i=="object"&&i!==null&&!Array.isArray(i)&&i instanceof Map&&i.constructor===Map){for(let a=0,p=l.children.length;a<p;a++)if(t++,l.children[a].tagName=="LI")if(l.children[a].firstElementChild.tagName=="CODE")if(l.children[a].firstElementChild.innerHTML.length){let f=l.children[a].firstElementChild.innerHTML.trim();if(f[f.length-1]==":"&&f.length>1){let y=l.children[a].children[1];if(y.tagName=="UL"&&y.firstElementChild.tagName=="LI"&&y.children.length==1&&y.firstElementChild.firstElementChild.tagName=="CODE"){t++;let o=y.firstElementChild.firstElementChild.textContent.trim();o=="true"?i.set(f.slice(0,-1),!0):o=="false"?i.set(f.slice(0,-1),!1):o=="null"?i.set(f.slice(0,-1),null):isFinite(o)&&!isNaN(parseFloat(o))?i.set(f.slice(0,-1),o*1):i.set(f.slice(0,-1),o)}else throw new Error("Error List Item number "+t+": not DAMON-compliant.")}else if(f[f.length-4]==":"&&f.length>4){if(f.slice(-3)==" []")if(i.set(f.slice(0,-4),[]),l.children[a].children[1].tagName=="UL")e(l.children[a].children[1],i.get(f.slice(0,-4)));else throw new Error("Error List Item number "+t+": not DAMON-compliant.");else if(f.slice(-3)==" {}")if(i.set(f.slice(0,-4),new Map),l.children[a].children[1].tagName=="UL")e(l.children[a].children[1],i.get(f.slice(0,-4)));else throw new Error("Error List Item number "+t+": not DAMON-compliant.")}else throw new Error("Error List Item number "+t+": map items need a key")}else throw new Error("Error List Item number "+t+": empty node.");else throw new Error("Error List Item number "+t+": not DAMON-compliant.")}else if(Array.isArray(i)){for(let a=0,p=l.children.length;a<p;a++)if(t++,l.children[a].tagName=="LI")if(l.children[a].firstElementChild.tagName=="CODE")if(l.children[a].firstElementChild.innerHTML.length){let f=l.children[a].firstElementChild.innerHTML.trim();if(f[f.length-1]==":"&&f.length>1)throw new Error("Error List Item number "+t+": lists can't have keys.");if(f[f.length-4]==":"&&f.length>4)throw new Error("Error List Item number "+t+": not DAMON-compliant.");if(f=="[]")if(i.push([]),l.children[a].children[1]&&l.children[a].children[1].tagName=="UL")e(l.children[a].children[1],i[i.length-1]);else throw new Error("Error List Item number "+t+": not DAMON-compliant.");else if(f=="{}")if(i.push({}),l.children[a].children[1]&&l.children[a].children[1].tagName=="UL")e(l.children[a].children[1],i[i.length-1]);else throw new Error("Error List Item number "+t+": not DAMON-compliant.");else f=="true"?i.push(!0):f=="false"?i.push(!1):f=="null"?i.push(null):isFinite(f)&&!isNaN(parseFloat(f))?i.push(f*1):i.push(f)}else throw new Error("Error List Item number "+t+": empty node.");else throw new Error("Error List Item number "+t+": not DAMON-compliant.")}else throw new Error("Error List Item number "+t+": @param { {} | [] } jsonMap");return i}}mapsDiff(r,n){let t=this;try{t.parentContext.mapToJSON(r),t.parentContext.mapToJSON(n)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}if(typeof r!=typeof n){let i="go"}var e="";return Array.isArray(r)?e+=`- []
`:e+=`- {}
`,l(r),e.slice(0,-1);function l(i,a=1){if(typeof i=="object"&&i!==null&&!Array.isArray(i)&&i instanceof Map&&i.constructor===Map)for(let[y,o]of i)if(typeof o=="object"&&o!==null)if(Array.isArray(o)){let N=0,d=o.filter(function(m){return m===!0||m===!1?!0:m===null?(N++,!0):typeof m=="string"?!0:!!(isFinite(m)&&!isNaN(parseFloat(m))&&Number.isFinite(m*1)&&!Number.isNaN(m*1))});if(o.length==d.length&&a*4+2+o.join(", ").length+N*4<=80){let m="["+o.map(u=>JSON.stringify(u)).join(", ")+"]";e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+": "+m+`
`}else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+`: []
`,l(o,a+1)}else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+`: {}
`,l(o,a+1);else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+": ",o===!0?e+=`true
`:o===!1?e+=`false
`:o===null?e+=`null
`:Number.isFinite(o)&&!Number.isNaN(o)?e+=o+`
`:e+=`${JSON.stringify(o)}
`;else if(Array.isArray(i))for(var p=0,f=i.length;p<f;p++)if(typeof i[p]=="object"&&i[p]!==null)if(Array.isArray(i[p])){let y=0,o=i[p].filter(function(N){return N===!0||N===!1?!0:N===null?(y++,!0):typeof N=="string"?!0:!!(isFinite(N)&&!isNaN(parseFloat(N))&&Number.isFinite(N*1)&&!Number.isNaN(N*1))});if(i[p].length==o.length&&a*4+2+i[p].join(", ").length+y*4<=80){let N="["+i[p].map(d=>JSON.stringify(d)).join(", ")+"]";e+="    ".repeat(a)+"- "+N+`
`}else e+="    ".repeat(a)+`- []
`,l(i[p],a+1)}else e+="    ".repeat(a)+`- {}
`,l(i[p],a+1);else i[p]===!0?e+="    ".repeat(a)+`- true
`:i[p]===!1?e+="    ".repeat(a)+`- false
`:i[p]===null?e+="    ".repeat(a)+`- null
`:Number.isFinite(i[p])&&!Number.isNaN(i[p])?e+="    ".repeat(a)+"- "+i[p]+`
`:e+="    ".repeat(a)+`- ${JSON.stringify(i[p])}
`}}}});var Tr=_e((Cn,Sr)=>{var wr=Or().parse,bn=_r();Sr.exports=class{constructor(r=!1){let n=this;if(this.indentation=4,[!0,!1,void 0].indexOf(r)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=r,this.utils=new bn(n)}template(r){let n=this;var t=r.raw[0];for(let l=1;l<r.raw.length;l++)typeof arguments[l]=="string"?t+='"'+arguments[l]+'"':t+=arguments[l],t+=r.raw[l];return n._treeToMap(n._damonToTree(t))}damonToMap(r){let n=this,t=n._damonToTree(r);return t===!0||t===!1||t===null||typeof t=="string"||typeof t=="number"?t:n._treeToMap(n._damonToTree(r))}damonToJSON(r){let n=this;return n.mapToJSON(n.damonToMap(r))}damonToSExpression(r){let n=this;return n.implicitMapToSExpression(n.damonToMap(r))}jsonToDamon(r){let n=this;return n.mapToDamon(n.jsonToMap(r),!1)}jsonToMap(r){var t=this._getLines(r,"JSON");if(t=t.filter(e=>!/^ *\/\//.test(e)),t=t.filter(e=>e!=""),t=t.filter(e=>!/^[ \t]+$/.test(e)),t.length==1){if(["true","false","null"].indexOf(t[0].trim())>-1)return JSON.parse(t[0]);if(/^".*"$/.test(t[0].trim()))try{return JSON.parse(t[0].trim())}catch(e){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),e.line=1,e.language="JSON",e.type="string",e}else if(isFinite(t[0])&&!isNaN(parseFloat(t[0]))&&Number.isFinite(t[0]*1)&&!Number.isNaN(t[0]*1)){if(t[0].indexOf(0)==0&&t[0].length>1&&t[0].indexOf(".")!==1){let e=new Error("Error line number 1: leading 0");throw e.line=1,e.language="DAMON",e}try{return JSON.parse(t[0]*1)}catch(e){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),e.line=1,e.language="JSON",e.type="number",e}}else if(t[0]*1===1/0)try{JSON.parse(t[0]*1)}catch(e){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),e.line=1,e.language="JSON",e.type="infinity",e}else return wr(r)}else return wr(r)}_getLines(r,n="DAMON"){if(["DAMON","JSON"].indexOf(n)==-1)throw new Error("Bad language argument, expected 'DAMON' or 'JSON'");if(r===""){let l=new Error("Error line 1: empty string");throw l.line=1,l.language=n,l}if(/[\s]/.test(r)&&r.match(new RegExp(/[\s]/))[0].length==r.length){let l=new Error("Error line 1: string only contains whitespace");throw l.line=1,l.language=n,l}var t=/\r\n/.test(r)?`\r
`:`
`,e=r.split(t);if(/\\*\n/.test(r)&&t==`
`){if(/[^\\]\\(\\\\)*\n/.test(r)){let a=r.split(/[^\\]\\(\\\\)*\n/)[0].split(`
`).length,p=new Error("Error line "+a+": oddly escaped newline");throw p.line=a,p.language=n,p}e=r.split("").reverse().join("").split(/\n/).map(a=>a.split("").reverse().join("")).reverse()}return e}_damonToTree(r){let n=this,t=n._getLines(r),e=t.slice(0);if(t=t.filter(u=>!/^ *\/\//.test(u)),t=t.filter(u=>u!=""),t=t.filter(u=>!/^[ \t]+$/.test(u)),t.length==1){if(["true","false","null"].indexOf(t[0].trim())>-1)return JSON.parse(t[0]);if(/^".*"$/.test(t[0].trim()))try{return JSON.parse(t[0].trim())}catch(u){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),u.line=1,u.language="JSON",u.type="string",u}else if(isFinite(t[0])&&!isNaN(parseFloat(t[0]))&&Number.isFinite(t[0]*1)&&!Number.isNaN(t[0]*1)){if(t[0].indexOf(0)==0&&t[0].length>1&&t[0].indexOf(".")!==1){let u=new Error("Error line number 1: leading 0");throw u.line=1,u.language="DAMON",u}try{return JSON.parse(t[0]*1)}catch(u){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),u.line=1,u.language="JSON",u.type="number",u}}else if(t[0]*1===1/0)try{JSON.parse(t[0]*1)}catch(u){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),u.line=1,u.language="JSON",u.type="infinity",u}}let l=0,i=[];for(let u=0,g=e.length;u<g;u++)t.slice(l).indexOf(e[u])>-1?i[u]=t.slice(l).indexOf(e[u]):i[u]=null;let a=new RegExp("^(\\t)+");for(let u=0,g=t.length;u<g;u++){if(a.test(t[u])){let E=t[u].match(a)[0].length;for(let w=0,b=E;w<b;w++)t[u]=t[u].replace("	"," ".repeat(n.indentation))}if(!/^ *- $/.test(t[u])&&/[ \t]+$/.test(t[u])){let E=new Error("Error line "+(i.indexOf(u)+1)+": trailing whitespace");throw E.line=i.indexOf(u)+1,E.language="DAMON",E}}let p=new RegExp("^("+" ".repeat(n.indentation)+")+");if(p.test(t[0])){let u=t[0].match(p)[0].length,g=!0;for(let E=0,w=t.length;E<w;E++)p.test(t[E])&&t[E].match(p)[0].length>=u?t[E]=t[E].slice(u):g=!1;if(!g){let E=new Error("Error line 1: bad formatting");throw E.line=1,E.language="DAMON",E}}else if(p.test(t[1])&&t[1].match(p)[0].length>n.indentation){let u=t[1].match(p)[0].length-n.indentation,g=!0;for(let E=1,w=t.length;E<w;E++)p.test(t[E])&&t[E].match(p)[0].length>=u?t[E]=t[E].slice(u):g=!1;if(!g){let E=new Error("Error line 2: bad formatting");throw E.line=2,E.language="DAMON",E}}let f=!1;if(t.length>1)for(let u=0,g=t.length;u<g;u++)u!==0&&/^- /.test(t[u])&&(f=!0);if(!/^- \{\}$/.test(t[0])&&!/^- \[\]$/.test(t[0])&&(f=!0),f){for(let u=0,g=t.length;u<g;u++)t[u]=" ".repeat(n.indentation)+t[u];t.unshift("- {}")}var y={content:t[0],level:0,id:0,children:[],headless:f,damonOriginalLinesMapping:i},o=y;if(!/^- /.test(t[0].trimStart())||/^ +/.test(t[0])&&(t[0].match(/^ +/)[0].length%n.indentation!=0||t[0].match(/^ +/)[0].length!=n.indentation)){let u=new Error("Error line "+(f*1+1)+": bad formatting");throw u.line=f*1+1,u.language="DAMON",u}t.shift();for(let u=0,g=t.length;u<g;u++){if(!/^- /.test(t[u].trimStart())||/^ +/.test(t[u])&&(t[u].match(/^ +/)[0].length%n.indentation!=0||u==0&&t[u].match(/^ +/)[0].length!=n.indentation||u!=0&&/^- /.test(t[u-1])&&t[u].match(/^ +/)[0].length!=n.indentation||u!=0&&!/^- /.test(t[u-1])&&t[u].match(/^ +/)[0].length>t[u-1].match(/^ +/)[0].length+n.indentation)){console.log(t[u]);let w=new Error("Error line "+(i.indexOf(u)+1)+": bad formatting");throw w.line=i.indexOf(u)+1,w.language="DAMON",w}let E={content:t[u].trimStart().slice(2),level:1+t[u].match(/^ +/)[0].length/n.indentation,id:"",children:[]};if(o===y)E.id=y.children.length+1,y.children.push(E);else if(o.level===E.level){var N=n._findListItemCommonDirectParent(o,y);N.level==0?E.id=N.children.length+1:E.id=N.id+"-"+(N.children.length+1),N.children.push(E)}else if(o.level>E.level){var d=n._findListItemCommonAncestor(o,y,E.level);d.level==0?E.id=d.children.length+1:E.id=d.id+"-"+(d.children.length+1),d.children.push(E)}else if(o.level<E.level){var m=n._findListItemCommonDirectParent(o,y);let w=m.children.indexOf(o),b=m.children[w].id,S=m.children[w].children.length+1;E.id=b+"-"+S,m.children[w].children.push(E)}o=E}return y}_findListItemCommonDirectParent(r,n){let t=this;if(n.children.indexOf(r)>-1)return n;var e;for(let l=n.children.length-1,i=0;l>=i;l--)if(e=t._findListItemCommonDirectParent(r,n.children[l]),e)return e}_findListItemCommonAncestor(r,n,t){let e=this;var l=e._findListItemCommonDirectParent(r,n);return l.level<t?l:e._findListItemCommonAncestor(l,n,t)}_treeToMap(r){let n=this;var t=0;if(r.content=="- {}"){let a=new Map;return a.damonOriginalLinesMapping=r.damonOriginalLinesMapping,e(r,a)}else if(r.content=="- []"){let a=[];return a.damonOriginalLinesMapping=r.damonOriginalLinesMapping,e(r,a)}else{let a=new Map;return a.damonOriginalLinesMapping=r.damonOriginalLinesMapping,r.headless&&(a.headless=!0),e(r,a)}function e(a,p){if(typeof a!="object"||a==null||Array.isArray(a)){let f=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,y=new Error("Error line number "+f+": @param { {} } tree");throw y.line=f,y.language="DAMON",y}if(typeof p=="object"&&p!==null&&!Array.isArray(p)&&p instanceof Map&&p.constructor===Map)l(a,p);else if(Array.isArray(p))i(a,p);else{let f=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,y=new Error("Error line number "+f+": @param { {} | [] } jsonMap");throw y.line=f,y.language="DAMON",y}return p}function l(a,p){for(let f=0,y=a.children.length;f<y;f++)if(t++,a.children[f].content.length==0){let o="";a.children[f].children.length>0?(o="implicit map key",p.set("",new Map),p.implicitMaps===void 0&&(p.implicitMaps=[]),p.implicitMaps.push(""),e(a.children[f],p.get(""))):(o="implicit null key",p.set("",null),p.implicitNulls===void 0&&(p.implicitNulls=[]),p.implicitNulls.push(""))}else{let o=a.children[f].content,N="key";try{if(/^.*: +\[/.test(o)&&o[o.length-1]=="]")if(/: +\[ *\]$/.test(o)){let d=JSON.parse(`["${o.slice(0,-1*o.match(/: +\[ *\]$/)[0].length)}"]`)[0];p.set(d,[]),a.children[f].children.length>0&&e(a.children[f],p.get(d))}else{let d=new RegExp(/: +\[/g),m=o.slice(0,-1).split(d),u=o.match(d).concat([""]),g=m.map((S,R)=>S+u[R]),E="",w=[];for(let S=0,R=m.length;S<R;S++)try{let I;if(S==0?I=m[0]:I=g.slice(0,S).join("")+m[S],E=JSON.parse(`["${I}"]`)[0],N="list",w=JSON.parse(`[${g.slice(S+1).join("")}]`),Array.isArray(w))break}catch{if(S==R-2){let O=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,s=new Error("Error line number "+O+": invalid inline list");throw s.line=O,s.language="DAMON",s}}if(w.every(function(S){return S===!0||S===!1||S===null||typeof S=="string"?!0:!!(isFinite(S)&&!isNaN(parseFloat(S))&&Number.isFinite(S*1)&&!Number.isNaN(S*1))}))p.set(E,w),p.damonInlineArrays===void 0&&(p.damonInlineArrays=[]),p.damonInlineArrays.push(E);else{let S=+(r.headless*-1)+r.damonOriginalLinesMapping.indexOf(t-1)+2,R=new Error("Error line number "+S+": no nesting in inline lists");throw R.line=S,R.language="DAMON",R}if(a.children[f].children.length>0){let S=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+3,R=new Error("Error line number "+S+": inline lists can't have children");throw R.line=S,R.language="DAMON",R}}else if(/: +\{ *\}$/.test(o)){let d=JSON.parse(`["${o.slice(0,-1*o.match(/: +\{ *\}$/)[0].length)}"]`)[0];p.set(d,new Map),e(a.children[f],p.get(d))}else{let d=!1;if(/^.*: /.test(o)&&o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="true"){let m=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],u=JSON.parse(`["${o.slice(0,-1*m.length-4)}"]`)[0];p.set(u,!0)}else if(/^.*: /.test(o)&&o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="false"){let m=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],u=JSON.parse(`["${o.slice(0,-1*m.length-5)}"]`)[0];p.set(u,!1)}else if(/^.*: /.test(o)&&o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="null"){let m=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],u=JSON.parse(`["${o.slice(0,-1*m.length-4)}"]`)[0];p.set(u,null)}else if(/^.*: +"/.test(o)&&o[o.length-1]=='"'){let m=o.match(new RegExp(/: +"/g));if(m.length==1){let u=JSON.parse(`["${o.split(m[0])[0]}"]`)[0];N="string";let g=JSON.parse(`["${o.split(m[0]).slice(1).join("").slice(0,-1)}"]`)[0];p.set(u,g)}else if(m.length==2&&/: +"$/.test(o)){let u=JSON.parse(`["${o.split(m[0])[0]}"]`)[0];N="string";let g=JSON.parse(`["${o.split(m[0]).slice(1).join("")+": "}"]`)[0];p.set(u,g)}else{let u=+(r.headless*-1)+r.damonOriginalLinesMapping.indexOf(t-1)+2,g=new Error("Error line number "+u+": unescaped double quote");throw g.line=u,g.language="DAMON",g}}else if(/^.*: /.test(o)&&isFinite(o.split(": ")[o.split(": ").length-1])&&!isNaN(parseFloat(o.split(": ")[o.split(": ").length-1]))&&Number.isFinite(o.split(": ")[o.split(": ").length-1]*1)&&!Number.isNaN(o.split(": ")[o.split(": ").length-1]*1)){let m=JSON.parse(`["${o.split(": ").slice(0,-1).join(": ")}"]`)[0];N="number";let u=o.match(new RegExp(/: +/g)),g=u[u.length-1],E=o.split(g)[o.split(g).length-1];if(E.indexOf(0)==0&&E.length>1&&E.indexOf(".")!==1){let b=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,S=new Error("Error line number "+b+": leading 0");throw S.line=b,S.language="DAMON",S}let w=JSON.parse(`[${o.split(": ")[o.split(": ").length-1]*1}]`)[0];p.set(m,w)}else if(/^.*: /.test(o)&&o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]*1===1/0){let m=JSON.parse(`["${o.split(": ").slice(0,-1).join(": ")}"]`)[0];N="infinity";let u=JSON.parse(`[${o.split(": ")[o.split(": ").length-1]*1}]`)}else{let m=!1,u=0;if(/\[ *\]$/.test(o)&&(m=!0,u=o.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(o)&&(m=!0,u=o.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(o)&&(m=!0,u=4),/false$/.test(o)&&(m=!0,u=5),/null$/.test(o)&&(m=!0,u=4),/".*"$/.test(o)&&(m=!0,u=o.match(new RegExp(/".*"$/g))[0].length),!m){let g="";for(let E=o.length-1;E>-1&&(g=o[E].concat(g),isFinite(g)&&!isNaN(parseFloat(g))&&Number.isFinite(g*1)&&!Number.isNaN(g*1));E--){if(!/[ \t]/.test(o[E]))break;m=!0,u=g.length}}if(m)if(JSON.parse(`["${o.slice(0,-1*u)}"]`)[0],n.pedantic){let g=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t),E=new Error("Error line number "+g+": missing separator");throw E.line=g,E.language="DAMON",E.errorType="pedantic",E}else if(d=!0,a.children[f].children.length>0){N="implicit map key";let g=JSON.parse(`["${o}"]`)[0];p.set(g,new Map),p.implicitMaps===void 0&&(p.implicitMaps=[]),p.implicitMaps.push(g),e(a.children[f],p.get(g))}else{N="implicit null key";let g=JSON.parse(`["${o}"]`)[0];p.set(g,null),p.implicitNulls===void 0&&(p.implicitNulls=[]),p.implicitNulls.push(g)}else{let g=JSON.parse(`["${o.slice(0,-1*u)}"]`)[0];if(n.pedantic)if(/: +$/.test(g)){let E=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t),w=new Error("Error line number "+E+": bad value");throw w.line=E,w.language="DAMON",w.errorType="pedantic",w}else{let E=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t),w=new Error("Error line number "+E+": missing separator");throw w.line=E,w.language="DAMON",w.errorType="pedantic",w}else if(d=!0,a.children[f].children.length>0){N="implicit map key";let E=JSON.parse(`["${o}"]`)[0];p.set(E,new Map),p.implicitMaps===void 0&&(p.implicitMaps=[]),p.implicitMaps.push(E),e(a.children[f],p.get(E))}else{N="implicit null key";let E=JSON.parse(`["${o}"]`)[0];p.set(E,null),p.implicitNulls===void 0&&(p.implicitNulls=[]),p.implicitNulls.push(E)}}}if(!d&&a.children[f].children.length>0){let m=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+3,u=new Error("Error line number "+m+": missing container or excess indentation");throw u.line=m,u.language="DAMON",u}}}catch(d){if(d.language===void 0){let m=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2;console.error("Error line number "+m+": not JSON-compliant, detailed error follows"),d.line=m,d.language="JSON",d.type=N}throw d}}}function i(a,p){for(let f=0,y=a.children.length;f<y;f++)if(t++,a.children[f].content.length){let o=a.children[f].content;if(/^[ \t]*\[/.test(o)&&o[o.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(o))p.push([]),e(a.children[f],p[p.length-1]);else{let N;try{N=JSON.parse(o)}catch{let u=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,g=new Error("Error line number "+u+": invalid inline lists");throw g.line=u,g.language="JSON",g.type="list",g}if(N.every(function(m){return m===!0||m===!1||m===null||typeof m=="string"?!0:!!(isFinite(m)&&!isNaN(parseFloat(m))&&Number.isFinite(m*1)&&!Number.isNaN(m*1))}))p.push(N),p.damonInlineArrays===void 0&&(p.damonInlineArrays=[]),p.damonInlineArrays.push(f);else{let m=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,u=new Error("Error line number "+m+": no nesting in inline lists");throw u.line=m,u.language="DAMON",u}if(a.children[f].children.length>0){let m=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+3,u=new Error("Error line number "+m+": inline lists can't have children");throw u.line=m,u.language="DAMON",u}}else if(/^[ \t]*\{\}$/.test(o))p.push(new Map),e(a.children[f],p[p.length-1]);else if(/^[ \t]*true$/.test(o))p.push(!0);else if(/^[ \t]*false$/.test(o))p.push(!1);else if(/^[ \t]*null$/.test(o))p.push(null);else if(/^[ \t]*".*"$/.test(o))try{p.push(JSON.parse(`[${o.trimStart()}]`)[0])}catch(N){let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2;throw console.error("Error line number "+d+": not JSON-compliant, detailed error follows"),N.line=d,N.language="JSON",N.type="string",N}else if(isFinite(o)&&!isNaN(parseFloat(o))&&Number.isFinite(o*1)&&!Number.isNaN(o*1)){if(o.indexOf(0)==0&&o.length>1&&o.indexOf(".")!==1){let N=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,d=new Error("Error line number "+N+": leading 0");throw d.line=N,d.language="DAMON",d}try{p.push(JSON.parse(`[${o*1}]`)[0])}catch(N){let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2;throw console.error("Error line number "+d+": not JSON-compliant, detailed error follows"),N.line=d,N.language="JSON",N.type="number",N}}else if(o*1===1/0)try{JSON.parse(o*1)}catch(N){let d=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2;throw console.error("Error line number "+d+": not JSON-compliant, detailed error follows"),N.line=d,N.language="JSON",N.type="infinity",N}else{let N=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,d=new Error("Error line number "+N+": list items can't have a key");throw d.line=N,d.language="DAMON",d}}else{let o=r.headless*-1+r.damonOriginalLinesMapping.indexOf(t-1)+2,N=new Error("Error line number "+o+": empty list node");throw N.line=o,N.language="DAMON",N}}}mapToDamon(r,n){let t=this;var e="";if(Array.isArray(r))e+=`- []
`;else if(typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map)e+=`- {}
`;else return typeof r=="string"&&(r='"'+r+'"'),JSON.parse(r),r;return l(r),t.damonToMap(e.slice(0,-1)),e.slice(0,-1);function l(i,a=1){if(typeof i=="object"&&i!==null&&!Array.isArray(i)&&i instanceof Map&&i.constructor===Map)for(let[y,o]of i)if(typeof o=="object"&&o!==null)if(Array.isArray(o)){let N=0,d=o.filter(function(m){return m===!0||m===!1?!0:m===null?(N++,!0):typeof m=="string"?!0:!!(isFinite(m)&&!isNaN(parseFloat(m))&&Number.isFinite(m*1)&&!Number.isNaN(m*1))});if(o.length==d.length&&a*4+2+o.join(", ").length+N*4<=80||n&&i.damonInlineArrays!==void 0&&i.damonInlineArrays.indexOf(y)>-1){let m="["+o.map(function(u){return typeof u=="string"&&(u=JSON.stringify(u)),u}).join(", ")+"]";e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+": "+m+`
`}else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+`: []
`,l(o,a+1)}else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+`: {}
`,l(o,a+1);else e+="    ".repeat(a)+"- "+JSON.stringify(y).slice(1,-1)+": ",o===!0?e+=`true
`:o===!1?e+=`false
`:o===null?e+=`null
`:Number.isFinite(o)&&!Number.isNaN(o)?e+=o+`
`:e+=JSON.stringify(o)+`
`;else if(Array.isArray(i))for(var p=0,f=i.length;p<f;p++)if(typeof i[p]=="object"&&i[p]!==null)if(Array.isArray(i[p])){let y=0,o=i[p].filter(function(N){return N===!0||N===!1?!0:N===null?(y++,!0):typeof N=="string"?!0:!!(isFinite(N)&&!isNaN(parseFloat(N))&&Number.isFinite(N*1)&&!Number.isNaN(N*1))});if(i[p].length==o.length&&a*4+2+i[p].join(", ").length+y*4<=80||n&&i.damonInlineArrays!==void 0&&i.damonInlineArrays.indexOf(p)>-1){let N="["+i[p].map(function(d){return typeof d=="string"&&(d=JSON.stringify(d)),d}).join(", ")+"]";e+="    ".repeat(a)+"- "+N+`
`}else e+="    ".repeat(a)+`- []
`,l(i[p],a+1)}else e+="    ".repeat(a)+`- {}
`,l(i[p],a+1);else i[p]===!0?e+="    ".repeat(a)+`- true
`:i[p]===!1?e+="    ".repeat(a)+`- false
`:i[p]===null?e+="    ".repeat(a)+`- null
`:Number.isFinite(i[p])&&!Number.isNaN(i[p])?e+="    ".repeat(a)+"- "+i[p]+`
`:e+="    ".repeat(a)+"- "+JSON.stringify(i[p])+`
`}}mapToJSON(r){let n=this;var t="";if(Array.isArray(r))return t+=`[\r
`,e(r),t+="]",JSON.parse(t),t;return typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map?(t+=`{\r
`,e(r),t+="}",JSON.parse(t),t):(typeof r=="string"&&(r=JSON.stringify(r)),JSON.parse(r),r);function e(l,i=1){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map)for(let[f,y]of l)typeof y=="object"&&y!==null?Array.isArray(y)?y.length>0?(t+="    ".repeat(i)+`${JSON.stringify(f)}: [\r
`,e(y,i+1),t+="    ".repeat(i)+"]"):t+="    ".repeat(i)+`${JSON.stringify(f)}: []`:Array.from(y.keys()).length>0?(t+="    ".repeat(i)+`${JSON.stringify(f)}: {\r
`,e(y,i+1),t+="    ".repeat(i)+"}"):t+="    ".repeat(i)+`${JSON.stringify(f)}: {}`:y===!0?t+="    ".repeat(i)+`${JSON.stringify(f)}: true`:y===!1?t+="    ".repeat(i)+`${JSON.stringify(f)}: false`:y===null?t+="    ".repeat(i)+`${JSON.stringify(f)}: null`:Number.isFinite(y)&&!Number.isNaN(y)?t+="    ".repeat(i)+`${JSON.stringify(f)}: `+y:t+="    ".repeat(i)+`${JSON.stringify(f)}: `+JSON.stringify(y),f!=Array.from(l.keys())[Array.from(l.keys()).length-1]?t+=`,\r
`:t+=`\r
`;else if(Array.isArray(l))for(var a=0,p=l.length;a<p;a++)typeof l[a]=="object"&&l[a]!==null?Array.isArray(l[a])?l[a].length>0?(t+="    ".repeat(i)+`[\r
`,e(l[a],i+1),t+="    ".repeat(i)+"]"):t+="    ".repeat(i)+"[]":Array.from(l[a].keys()).length>0?(t+="    ".repeat(i)+`{\r
`,e(l[a],i+1),t+="    ".repeat(i)+"}"):t+="    ".repeat(i)+"{}":l[a]===!0?t+="    ".repeat(i)+"true":l[a]===!1?t+="    ".repeat(i)+"false":l[a]===null?t+="    ".repeat(i)+"null":Number.isFinite(l[a])&&!Number.isNaN(l[a])?t+="    ".repeat(i)+l[a]:t+="    ".repeat(i)+JSON.stringify(l[a]),a!=p-1?t+=`,\r
`:t+=`\r
`}}implicitMapToSExpression(r){let n=this;var t="";if(typeof r=="object"&&r!==null&&r instanceof Map&&r.constructor===Map)return t+=`[\r
`,e(r),t+="]",JSON.parse(t),t;return typeof r=="string"&&(r='"'+r+'"'),JSON.parse(r),r;function e(l,i=1){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map){let f=-1;for(let[y,o]of l){if(f++,typeof o=="object"&&o!==null)if(Array.isArray(o))o.length>0?(t+="    ".repeat(i)+`${JSON.stringify(y)}, [\r
`,e(o,i+1),t+="    ".repeat(i)+"]"):t+="    ".repeat(i)+`${JSON.stringify(y)}, []`;else if(Array.from(o.keys()).length>0){if(i==1)if(f==0)t="";else throw new Error("Multiple S-Expression roots");t+="    ".repeat(i)+`[${JSON.stringify(y)}, \r
`,e(o,i+1),i!=1&&(t+="    ".repeat(i)+"]")}else t+="    ".repeat(i)+`${JSON.stringify(y)}, []`;else{if(o===!0)throw new Error("Booleans require quotes");if(o===!1)throw new Error("Booleans require quotes");o===null?t+="    ".repeat(i)+`${JSON.stringify(y)}`:Number.isFinite(o)&&!Number.isNaN(o)?t+="    ".repeat(i)+`${JSON.stringify(y)}, `+o:t+="    ".repeat(i)+`${JSON.stringify(y)}, "${o}"`}y!=Array.from(l.keys())[Array.from(l.keys()).length-1]?t+=`,\r
`:t+=`\r
`}}else if(Array.isArray(l))for(var a=0,p=l.length;a<p;a++){if(typeof l[a]=="object"&&l[a]!==null)Array.isArray(l[a])?l[a].length>0?(t+="    ".repeat(i)+`[\r
`,e(l[a],i+1),t+="    ".repeat(i)+"]"):t+="    ".repeat(i)+"[]":Array.from(l[a].keys()).length>0?(t+="    ".repeat(i)+`[\r
`,e(l[a],i+1),t+="    ".repeat(i)+"]"):t+="    ".repeat(i)+"[]";else{if(l[a]===!0)throw new Error("Booleans require quotes");if(l[a]===!1)throw new Error("Booleans require quotes");if(l[a]===null)throw new Error("Array-nulls require quotes");Number.isFinite(l[a])&&!Number.isNaN(l[a])?t+="    ".repeat(i)+l[a]:t+="    ".repeat(i)+JSON.stringify(l[a])}a!=p-1?t+=`,\r
`:t+=`\r
`}}}getRangeFromPath(r,n){let t=this,e=t.damonToMap(r),l=-1,i=!1;N(e,n),e.headless&&(l-=1);let a=0,p=0;for(let d=0,m=e.damonOriginalLinesMapping.length;d<m;d++)if(e.damonOriginalLinesMapping[d]!==null&&p++,p==l){a=d+1;break}let f=t._getLines(r)[a],y=0,o=f.length;if(n.length==1)typeof n[n.length-1]=="string"?y=f.length-f.trimStart().slice(2+n[n.length-1].length+2).trimStart().length:y=f.length-f.trimStart().slice(2).length;else if(typeof n[n.length-2]=="string")if(typeof n[n.length-1]=="string")y=f.length-f.trimStart().slice(2+n[n.length-1].length+2).trimStart().length;else if(f[f.length-1]=="]"&&!/\[ *\]$/.test(f)){let d=f.trimStart().slice(2+n[n.length-2].length+2),m=JSON.parse(d),u=m.slice(0,n[n.length-1].length).reduce((w,b)=>w+(b===m[n[n.length-1]]),0),g=0,E=m[n[n.length-1]];typeof E=="string"&&(E='"'+E+'"');for(let w=0,b=u+1;w<b;w++)g=d.indexOf(E,g);y=f.length-d.length+g,o=y+E.length}else y=f.length-f.trimStart().slice(2).length;else if(typeof n[n.length-1]=="string")y=f.length-f.trimStart().slice(2+n[n.length-1].length+2).trimStart().length;else if(f[f.length-1]=="]"&&!/\[ *\]$/.test(f)){let d=f.trimStart().slice(2),m=JSON.parse(d),u=m.slice(0,n[n.length-1]).reduce((w,b)=>w+(b===m[n[n.length-1]]),0),g=0,E=m[n[n.length-1]];typeof E=="string"&&(E='"'+E+'"');for(let w=0,b=u+1;w<b;w++)g=d.indexOf(E,g);y=f.length-d.length+g,o=y+E.length}else y=f.length-f.trimStart().slice(2).length;return[[a,y],[a,o]];function N(d,m,u=[]){if(i!=!0)if(l+=1,typeof d=="object"&&d!==null&&!Array.isArray(d)&&d instanceof Map&&d.constructor===Map)for(let[g,E]of d){if(l+=1,JSON.stringify(m)===JSON.stringify(u.concat([g]))){i=!0;return}typeof E=="object"&&E!==null&&!Array.isArray(E)&&E instanceof Map&&E.constructor===Map&&Array.from(E.keys()).length?(l-=1,N(E,m,u.concat([g]))):Array.isArray(E)&&(d.damonInlineArrays==null||d.damonInlineArrays.indexOf(g)===-1)&&E.length&&(l-=1,N(E,m,u.concat([g])))}else for(let g=0,E=d.length;g<E;g++){if(l+=1,JSON.stringify(m)===JSON.stringify(u.concat([g]))){i=!0;return}typeof d[g]=="object"&&d[g]!==null&&!Array.isArray(d[g])&&d[g]instanceof Map&&d[g].constructor===Map&&Array.from(d[g].keys()).length?(l-=1,N(d[g],m,u.concat([g]))):Array.isArray(d[g])&&(d.damonInlineArrays==null||d.damonInlineArrays.indexOf(g)===-1)&&d[g].length&&(l-=1,N(d[g],m,u.concat([g])))}}}getTokenFromCoordinates(r,n){let t=this,e={},l=t._getLines(r).slice(0,n[0]);if(l[n[0]-1]=="")return e.type="newline",e.path=null,e.range=[n,n],e;if(/^[ \t]+$/.test(l[n[0]-1]))return e.type="indentation",e.path=null,e.range=[[n[0],1],[n[0],l[l.length-1].length]],e;if(/^[ \t]+/.test(l[n[0]-1].slice(0,n[1]-1))&&(e.type="indentation",e.range=[[n[0],1],[n[0],l[n[0]-1].match(/^[ \t]+/)[0].length]]),/^ *\/\//.test(l[n[0]-1]))return e.type=="indentation"?(e.path=null,e):(e.type="comment",e.path=null,e.range=[[[n[0],l[n[0]-1].split("//")[0].length]],[[n[0],l[n[0]-1].length]]],e);if(l.length==1)try{let y=JSON.parse(r);if(y===!0||y===!1||y===null||typeof y=="string"||typeof y=="number"){let o=r.match(/^ */)[0].length,N=r.match(/ *$/)[0].length;return e.type="null",typeof y!="object"&&(e.type=typeof y),e.path=null,e.range=[[0,o],[0,r.length-N]],e}}catch{}let i=t.damonToMap(l.join(`
`)),a=Array.from(i.keys()),p=[];for(;a.length;){let y=a[a.length-1];if(p.push(y),typeof i=="object"&&i!==null&&!Array.isArray(i)&&i instanceof Map&&i.constructor===Map?i=i.get(y):Array.isArray(i)&&(i=i[y]),i===!0||i===!1||i===null||typeof i=="string"||typeof i=="number")break;a=Array.from(i.keys())}e.path=p;let f=t.getRangeFromPath(r,p);if(typeof p[p.length-1]=="string")if(n[1]<f[0][1]){let y=l[n[0]-1].slice(0,-1*(f[1][1]-f[0][1])-1).length;if(n[1]<y){let o=l[n[0]-1].match(/^[ \t]+/)[0].length+3;n[1]>=o?(e.type="property",e.range=[[n[0],o],[n[0],y]]):(e.type="hyphen",e.range=[[n[0],o-2],[n[0],o-1]])}else e.type="separator",e.range=[[n[0],y+1],[n[0],f[0][1]-1]]}else e.type="?",e.range=f;else if(n[1]<f[0][1]){e.type="hyphen";let y=l[n[0]-1].match(/^[ \t]+/)[0].length+1;e.range=[[n[0],y],[n[0],y+1]]}else e.type="?",e.range=f;return e}getPathsList(r){let t=this.damonToMap(r),e=[];return l(t),e;function l(i,a=[]){if(typeof i=="object"&&i!==null&&!Array.isArray(i)&&i instanceof Map&&i.constructor===Map)for(let[p,f]of i)typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map&&Array.from(f.keys()).length?(e.push(a.concat(p)),l(f,a.concat([p]))):Array.isArray(f)&&(i.damonInlineArrays==null||i.damonInlineArrays.indexOf(p)===-1)&&f.length?(e.push(a.concat(p)),l(f,a.concat([p]))):e.push(a.concat(p).concat(f));else for(let p=0,f=i.length;p<f;p++)typeof i[p]=="object"&&i[p]!==null&&!Array.isArray(i[p])&&i[p]instanceof Map&&i[p].constructor===Map&&Array.from(i[p].keys()).length?(e.push(a.concat(p)),l(i[p],a.concat([p]))):Array.isArray(i[p])&&(i.damonInlineArrays==null||i.damonInlineArrays.indexOf(p)===-1)&&i[p].length?(e.push(a.concat(p)),l(i[p],a.concat([p]))):e.push(a.concat(i[p]))}}}});(function(){window.Damon=Tr()})();})();
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE *)
*/
